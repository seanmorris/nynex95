!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var t={},n={},r={},i={}.hasOwnProperty,o=/^\.\.?(\/|$)/,a=function(e,t){for(var n,r=[],i=(o.test(t)?e+"/"+t:t).split("/"),a=0,s=i.length;a<s;a++)".."===(n=i[a])?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},s=function(e){return e.split("/").slice(0,-1).join("/")},l=function(t,r){var i,o={id:t,exports:{},hot:h&&h.createHot(t)};return n[t]=o,r(o.exports,(i=t,function(t){var n=a(s(i),t);return e.require(n,i)}),o),o.exports},u=function(e){var t=r[e];return t&&e!==t?u(t):e},c=function(e,r){null==r&&(r="/");var o=u(e);if(i.call(n,o))return n[o].exports;if(i.call(t,o))return l(o,t[o]);throw new Error("Cannot find module '"+e+"' from '"+r+"'")};c.alias=function(e,t){r[t]=e};var f=/\.[^.\/]+$/,d=/\/index(\.[^\/]+)?$/;c.register=c.define=function(e,o){if(e&&"object"==typeof e)for(var a in e)i.call(e,a)&&c.register(a,e[a]);else t[e]=o,delete n[e],function(e){if(f.test(e)){var t=e.replace(f,"");i.call(r,t)&&r[t].replace(f,"")!==t+"/index"||(r[t]=e)}if(d.test(e)){var n=e.replace(d,"");i.call(r,n)||(r[n]=e)}}(e)},c.list=function(){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e};var h=e._hmr&&new e._hmr(function(e,t){return u(a(s(e),t))},c,t,n);c._cache=n,c.hmr=h&&h.wrap,c.brunch=!0,e.require=c}}(),function(){var e="undefined"==typeof window?this:window,t=function(e,t,n){var r={},i=function(t,n){try{return e(n+"/node_modules/"+t)}catch(e){if(-1===e.toString().indexOf("Cannot find module"))throw e;if(-1!==n.indexOf("node_modules")){var o=n.split("/"),a=o.lastIndexOf("node_modules"),s=o.slice(0,a).join("/");return i(t,s)}}return r};return function(o){if(o in t&&(o=t[o]),o){if("."!==o[0]&&n){var a=i(o,n);if(a!==r)return a}return e(o)}}};require.register("curvature/base/Bag.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bag=void 0;var t=n("./Bindable");function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.meta=Symbol("meta"),this.content=new Map,this.list=t.Bindable.makeBindable({}),this.current=0,this.type=void 0,this.changeCallback=n}var n,i;return n=e,(i=[{key:"add",value:function(t){if(void 0===t||!(t instanceof Object))throw new Error("Only objects may be added to Bags.");if(this.type&&!(t instanceof this.type))throw console.error(this.type,t),new Error("Only objects of type ".concat(this.type," may be added to this Bag."));if(!this.content.has(t)){var n,r=(n=this.current++,Number(n).toString(36));this.content.set(t,r),this.list[r]=t,this.changeCallback&&this.changeCallback(t,this.meta,e.ITEM_ADDED,r)}}},{key:"remove",value:function(t){if(void 0===t||!(t instanceof Object))throw new Error("Only objects may be removed from Bags.");if(this.type&&!(t instanceof this.type))throw console.error(this.type,t),new Error("Only objects of type ".concat(this.type," may be removed from this Bag."));if(!this.content.has(t))return this.changeCallback&&this.changeCallback(t,this.meta,0,void 0),!1;var n=this.content.get(t);return delete this.list[n],this.content.delete(t),this.changeCallback&&this.changeCallback(t,this.meta,e.ITEM_REMOVED,n),t}},{key:"items",value:function(){return Array.from(this.content.entries()).map(function(e){return e[0]})}}])&&r(n.prototype,i),e}();e.Bag=i,Object.defineProperty(i,"ITEM_ADDED",{configurable:!1,enumerable:!1,writable:!0,value:1}),Object.defineProperty(i,"ITEM_REMOVED",{configurable:!1,enumerable:!1,writable:!0,value:-1})}()}),require.register("curvature/base/Bindable.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";function t(e,n,r){return(t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(i,n.prototype),i}).apply(null,arguments)}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Bindable=void 0;var r=Symbol("ref"),i=Symbol("deck"),o=Symbol("binding"),a=Symbol("bindingAll"),s=Symbol("isBindable"),l=Symbol("executing"),u=Symbol("stack"),c=(Symbol("object"),Symbol("wrapped")),f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var f,d;return f=e,d=[{key:"isBindable",value:function(t){return!!t[o]&&t[o]===e}},{key:"makeBindable",value:function(e){return this.make(e)}},{key:"make",value:function(n){var f=this;if(!n||!(n instanceof Object)||n instanceof Node||n instanceof IntersectionObserver||Object.isSealed(n)||!Object.isExtensible(n))return n;if(n[r])return n;if(n[o])return n;for(var d in Object.defineProperty(n,r,{configurable:!1,enumerable:!1,writable:!0,value:n}),Object.defineProperty(n,i,{configurable:!1,enumerable:!1,writable:!1,value:{}}),Object.defineProperty(n,o,{configurable:!1,enumerable:!1,writable:!1,value:{}}),Object.defineProperty(n,a,{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(n,s,{configurable:!1,enumerable:!1,writable:!1,value:e}),Object.defineProperty(n,l,{enumerable:!1,writable:!0}),Object.defineProperty(n,u,{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(n,"___before___",{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(n,"___after___",{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(n,c,{configurable:!1,enumerable:!1,writable:!1,value:{}}),Object.defineProperty(n,"bindTo",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!1;if(e instanceof Function&&(r=t||{},t=e,i=!0),r.delay>=0&&(t=f.wrapDelayCallback(t,r.delay)),r.throttle>=0&&(t=f.wrapThrottleCallback(t,r.throttle)),r.wait>=0&&(t=f.wrapWaitCallback(t,r.wait)),r.frame&&(t=f.wrapFrameCallback(t,r.frame)),r.idle&&(t=f.wrapIdleCallback(t)),i){var s=n[a].length;for(var l in n[a].push(t),n)t(n[l],l,n,!1);return function(){delete n[a][s]}}n[o][e]||(n[o][e]=[]);var u=n[o][e].length;n[o][e].push(t),t(n[e],e,n,!1);var c=!1;return function(){c||(c=!0,n[o][e]&&delete n[o][e][u])}}}),Object.defineProperty(n,"bindChain",{configurable:!1,enumerable:!1,writable:!1,value:function(e,t){var r=e.split("."),i=r.shift(),o=r.slice(0),a=[];return a.push(n.bindTo(i,function(e,n,r,i){var s=o.join(".");0!==o.length?(void 0===e&&(e=r[n]=f.makeBindable({})),a=a.concat(e.bindChain(s,t))):t(e,n,r,i)})),function(){return a.map(function(e){return e()})}}}),Object.defineProperty(n,"___before",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var t=n.___before___.length;n.___before___.push(e);var r=!1;return function(){r||(r=!0,delete n.___before___[t])}}}),Object.defineProperty(n,"___after",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var t=n.___after___.length;n.___after___.push(e);var r=!1;return function(){r||(r=!0,delete n.___after___[t])}}}),Object.defineProperty(n,"isBound",{configurable:!1,enumerable:!1,writable:!1,value:function(){for(var e in n[a])if(n[a][e])return!0;for(var t in n[o])for(var r in n[o][t])if(n[o][t][r])return!0;return!1}}),n)n[d]&&n[d]instanceof Object&&!n[d]instanceof Node&&!n[d]instanceof Promise&&(n[d]=e.make(n[d]));return n[r]=new Proxy(n,{deleteProperty:function(e,t){if(!(t in e))return!0;for(var r in n[a])n[a][r](void 0,t,e,!0,e[t]);if(t in n[o])for(var i in n[o][t])n[o][t][i]&&n[o][t][i](void 0,t,e,!0,e[t]);return delete e[t],!0},construct:function(n,r){var i="constructor";for(var o in n.___before___)n.___before___[o](n,i,n[u],void 0,r);var a=e.make(t(n,function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(r)));for(var s in n.___after___)n.___after___[s](n,i,n[u],a,r);return a},get:function(t,i){if(i===r||"isBound"===i)return t[i];if(t[i]instanceof Function){if(t[c][i])return t[c][i];var o=Object.getOwnPropertyDescriptor(n,i);return!o||o.configurable||o.writable?(t[c][i]=function(){t[l]=i,t[u].unshift(i);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];for(var s in t.___before___)t.___before___[s](t,i,t[u],n,o);var c=n instanceof Promise||n instanceof EventTarget?n:n[r],f=t[i].apply(c,o);for(var d in t.___after___)t.___after___[d](t,i,t[u],n,o);return t[l]=null,t[u].shift(),f},t[c][i]):(t[c][i]=t[i],t[c][i])}return t[i]instanceof Object&&!t[i][r]&&e.make(t[i]),t[i]},set:function(t,r,s){if(n[i][r]===s)return!0;if("string"==typeof r&&"___"===r.substring(0,3)&&"___"===r.slice(-3))return!0;if(t[r]===s)return!0;if(s&&s instanceof Object&&!(s instanceof Node)&&s.___isBindable___!==e&&(s=e.makeBindable(s),f.isBindable(s)))for(var l in s)s[l]&&s[l]instanceof Object&&(s[l]=e.makeBindable(s[l]));for(var u in n[i][r]=s,n[a])n[a][u]&&n[a][u](s,r,t,!1);var c=!1;if(r in n[o])for(var d in n[o][r])n[o][r]&&n[o][r][d]&&!1===n[o][r][d](s,r,t,!1,t[r])&&(c=!0);if(delete n[i][r],!c){var h=Object.getOwnPropertyDescriptor(t,r);t instanceof File&&"lastModifiedDate"==r||h&&!h.writable||t[r]!==s||(t[r]=s)}return Reflect.set(t,r,s)}}),n[r]}},{key:"clearBindings",value:function(e){var t;(t=function(e){return Object.keys(e).map(function(t){return delete e[t]})},function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map(t)})(e[c],e[o],e[a],e.___after___,e.___before___)}},{key:"resolve",value:function(e,t){for(var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.split("."),o=i[0];i.length;){if(r&&1===i.length)return[this.makeBindable(e),i.shift(),o];!(!(n=i.shift())in e)&&e[n]&&e[n]instanceof Object||(e[n]={}),e=this.makeBindable(e[n])}return[this.makeBindable(e),n,o]}},{key:"wrapDelayCallback",value:function(e,t){return function(n,r,i,o){setTimeout(function(){return e(n,r,i,o,i[r])},t)}}},{key:"wrapThrottleCallback",value:function(e,t){return function(e){var t=!1;return function(n,r,i,o){t||(e(n,r,i,o,i[r]),t=!0,setTimeout(function(){t=!1},t))}}(e)}},{key:"wrapWaitCallback",value:function(e,t){var n=!1;return function(r,i,o,a){n&&(clearTimeout(n),n=!1),n=setTimeout(function(){return e(r,i,o,a,o[i])},t)}}},{key:"wrapFrameCallback",value:function(e,t){return function(t,n,r,i,o){requestAnimationFrame(function(){return e(t,n,r,i,o)})}}},{key:"wrapIdleCallback",value:function(e){return function(t,n,r,i,o){requestIdleCallback(function(){return e(t,n,r,i,o)})}}}],null&&n(f.prototype,null),d&&n(f,d),e}();e.Bindable=f}()}),require.register("curvature/base/Cache.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Cache=void 0;var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,r;return n=e,r=[{key:"store",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"standard",i=0;n&&(i=1e3*n+(new Date).getTime()),this.bucket||(this.bucket={}),this.bucket[r]||(this.bucket[r]={}),this.bucket[r][e]={expiration:i,value:t}}},{key:"load",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"standard";return this.bucket&&this.bucket[n]&&this.bucket[n][e]&&(0==this.bucket[n][e].expiration||this.bucket[n][e].expiration>(new Date).getTime())?this.bucket[n][e].value:t}}],null&&t(n.prototype,null),r&&t(n,r),e}();e.Cache=n}()}),require.register("curvature/base/Config.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Config=void 0;var r={};try{var i=n("Config").Config||{};Object.assign(r,i)}catch(e){console.warn(e)}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,r;return n=e,r=[{key:"get",value:function(e){return this.data[e]}},{key:"set",value:function(e,t){return this.data[e]=t,this}},{key:"dump",value:function(){return this.data}},{key:"init",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r in t){var i=t[r];for(var o in"string"==typeof i&&(i=JSON.parse(i)),i){var a=i[o];return this.data[o]=a}}return this}}],null&&t(n.prototype,null),r&&t(n,r),e}();e.Config=o,o.data=r||{}}()}),require.register("curvature/base/Dom.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Dom=void 0;var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,r;return n=e,r=[{key:"mapTags",value:function(e,t,n,r,i){var o=[],a=!0;r&&(a=!1);for(var s=!1,l=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,{acceptNode:function(e,n){if(!a){if(e!==r)return NodeFilter.FILTER_SKIP;a=!0}return i&&e===i&&(s=!0),s?NodeFilter.FILTER_SKIP:t?e instanceof Element&&e.matches(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}},!1);l.nextNode();)o.push(n(l.currentNode,l));return o}},{key:"dispatchEvent",value:function(t,n){t.dispatchEvent(n),e.mapTags(t,!1,function(e){e.dispatchEvent(n)})}}],null&&t(n.prototype,null),r&&t(n,r),e}();e.Dom=n}()}),require.register("curvature/base/Mixin.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mixin=void 0;var t=n("./Bindable");function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,o;return n=e,o=[{key:"mix",value:function(e){for(var n={},i={},o=t.Bindable.makeBindable(e),a=function(e){var t=Object.getOwnPropertyNames(e.prototype),a=Object.getOwnPropertyNames(e),s=/^(before|after)__(.+)/,l=!0,u=!1,c=void 0;try{for(var f,d=function(){var t=f.value,i=t.match(s);if(i){switch(i[1]){case"before":o.___before(function(n,o,a,s,l){if(o===i[2])return e[t].bind(s).apply(void 0,r(l))});break;case"after":o.___after(function(n,o,a,s,l){if(o===i[2])return e[t].bind(s).apply(void 0,r(l))})}return"continue"}return n[t]||"function"!=typeof e[t]?"continue":void(n[t]=e[t])},h=a[Symbol.iterator]();!(l=(f=h.next()).done);l=!0)d()}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}var p=!0,m=!1,g=void 0;try{for(var v,y=function(){var t=v.value,n=t.match(s);if(n){switch(n[1]){case"before":o.___before(function(i,o,a,s,l){if(o===n[2])return e.prototype[t].bind(s).apply(void 0,r(l))});break;case"after":o.___after(function(i,o,a,s,l){if(o===n[2])return e.prototype[t].bind(s).apply(void 0,r(l))})}return"continue"}return i[t]||"function"!=typeof e.prototype[t]?"continue":void(i[t]=e.prototype[t])},b=t[Symbol.iterator]();!(p=(v=b.next()).done);p=!0)y()}catch(e){m=!0,g=e}finally{try{p||null==b.return||b.return()}finally{if(m)throw g}}},s=this;s&&s.prototype;s=Object.getPrototypeOf(s))a(s);for(var l in n)e[l]=n[l].bind(e);var u=function(t){e.prototype[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return i[t].apply(this,n)}};for(var c in i)u(c);return o}}],null&&i(n.prototype,null),o&&i(n,o),e}();e.Mixin=o}()}),require.register("curvature/base/Router.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Router=void 0;var t=n("./View"),r=(n("./Cache"),n("./Config"));function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,o;return n=e,o=[{key:"wait",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DOMContentLoaded";(arguments.length>2&&void 0!==arguments[2]?arguments[2]:document).addEventListener(n,function(){t.listen(e)})}},{key:"listen",value:function(t){var n=this,r=[location.toString()],i=history.length,o=location.pathname+location.search;location.hash&&(o+=location.hash),Object.assign(e.query,e.queryOver({})),window.addEventListener("popstate",function(o){for(var a in o.preventDefault(),r.length&&i==history.length?location.toString()==r[r.length-2]?r.pop():r.push(location.toString()):(r.push(location.toString()),i=history.length),n.match(location.pathname,t),n.query)delete n.query[a];Object.assign(e.query,e.queryOver({}))}),this.go(o)}},{key:"go",value:function(t,n){var i=this,o=r.Config.get("title");o&&(document.title=o),setTimeout(function(){for(var r in 2===n?history.replaceState(null,null,t):history.pushState(null,null,t),n||(!1===n&&(i.path=null),window.dispatchEvent(new Event("popstate")),"#"===t.substring(0,1)&&window.dispatchEvent(new HashChangeEvent("hashchange"))),i.query)delete i.query[r];Object.assign(e.query,e.queryOver({}))},0)}},{key:"match",value:function(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.path!==e||i){var o=new CustomEvent("cvRouteStart",{cancelable:!0,detail:{result:y,path:e,view:n}}),a=n.args.content,s=n.routes;for(var l in this.path=e,this.query)delete this.query[l];var u=new URLSearchParams(location.search);this.queryString=location.search;var c=!0,f=!1,d=void 0;try{for(var h,p=u[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var m=h.value;this.query[m[0]]=m[1]}}catch(e){f=!0,d=e}finally{try{c||null==p.return||p.return()}finally{if(f)throw d}}var g={},v=!1,y="";for(var b in e=e.substr(1).split("/"),this.query)g[b]=this.query[b];e:for(var w in s){var x=w.split("/");if(!(x.length<e.length&&"*"!==x[x.length-1])){for(var k in x)if("%"==x[k].substr(0,1)){var S=null,_=/^%(\w+)\??/.exec(x[k]);if(_&&_[1]&&(S=_[1]),!S)throw new Error("".concat(x[k],' is not a valid argument segment in route "').concat(w,'"'));if(e[k])g[S]=e[k];else{if("?"!=x[k].substr(x[k].length-1,1))continue e;g[S]=""}}else if("*"!==x[k]&&e[k]!==x[k])continue e;if(!i&&a&&s[w]instanceof Object&&a instanceof s[w]&&!(s[w]instanceof Promise)&&a.update(g))return n.args.content=a,!0;v=w,y=s[w],"*"===x[x.length-1]&&(g.pathparts=e.slice(x.length-1));break}}if(document.dispatchEvent(o),v in s&&s[v]instanceof Object&&s[v].isView&&s[v].isView())(y=new s[v](g)).root=function(){return n};else if(s[v]instanceof Function){y="";var E=s[v](g);E instanceof Promise?(y=!1,E.then(function(t){r.update(n,e,t)}).catch(function(t){r.update(n,e,t)})):y=E}else s[v]instanceof Promise?(y=!1,s[v].then(function(t){r.update(n,e,t)}).catch(function(t){r.update(n,e,t)})):s[v]instanceof Object?y=new s[v](g):"string"==typeof s[v]&&(y=s[v]);return this.update(n,e,y),y instanceof t.View&&(y.pause(!1),y.update(g,i)),!1!==v}}},{key:"update",value:function(e,n,r){var i=new CustomEvent("cvRoute",{cancelable:!0,detail:{result:r,path:n,view:e}}),o=new CustomEvent("cvRouteEnd",{cancelable:!0,detail:{result:r,path:n,view:e}});!1!==r&&(e.args.content instanceof t.View&&e.args.content.remove(),document.dispatchEvent(i)&&(e.args.content=r),document.dispatchEvent(o))}},{key:"clearCache",value:function(){}},{key:"queryOver",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams(location.search),n={},r=[],i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;r[u[0]]=u[1]}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}for(var c in r)n[c]=r[c];for(var f in e)n[f]=e[f];return delete n.api,n}},{key:"queryToString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=e;for(var i in t||(r=this.queryOver(e)),r)""!==r[i]&&n.push(i+"="+encodeURIComponent(r[i]));return n.join("&")}},{key:"setQuery",value:function(e,t,n){var r=this.queryOver();r[e]=t,void 0===t&&delete r[e];var i=this.queryToString(r,!0);this.go(location.pathname+(i?"?"+i:""),n)}}],null&&i(n.prototype,null),o&&i(n,o),e}();e.Router=o,Object.defineProperty(o,"query",{configurable:!1,writeable:!1,value:{}})}()}),require.register("curvature/base/RuleSet.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RuleSet=void 0,n("./Dom");var t=n("./Tag"),r=n("./View");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,o,a;return n=e,a=[{key:"add",value:function(e,t){return this.globalRules=this.globalRules||{},this.globalRules[e]=this.globalRules[e]||[],this.globalRules[e].push(t),this}},{key:"apply",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;for(var n in this.globalRules)for(var r in this.globalRules[n]){var i=this.globalRules[n][r],o=this.wrap(e,i,t),a=e.querySelectorAll(n),s=!0,l=!1,u=void 0;try{for(var c,f=a[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){o(c.value)}}catch(e){l=!0,u=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}}}},{key:"wait",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DOMContentLoaded",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,r=function(t,n){return function(){return n.removeEventListener(t,r),e.apply()}}(t,n);n.addEventListener(t,r)}},{key:"wrap",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(n instanceof r.View||n&&n.prototype&&n.prototype instanceof r.View)&&(n=function(e){return function(){return e}}(n)),function(e){for(var o in void 0===e.___cvApplied___&&Object.defineProperty(e,"___cvApplied___",{enumerable:!1,writable:!1,value:[]}),e.___cvApplied___)if(n==e.___cvApplied___[o])return;var a,s;i&&(a=s=i,i.viewList&&(s=i.viewList.parent));var l,u=new t.Tag(e,s,null,void 0,a),c=u.element.parentNode,f=u.element.nextSibling,d=n(u);if(!1!==d&&e.___cvApplied___.push(n),d instanceof HTMLElement&&(d=new t.Tag(d)),d instanceof t.Tag){if(!d.element.contains(u.element)){for(;u.element.firstChild;)d.element.appendChild(u.element.firstChild);u.remove()}f?c.insertBefore(d.element,f):c.appendChild(d.element)}d&&d.prototype&&d.prototype instanceof r.View&&(d=new d),d instanceof r.View&&(i&&(i.cleanup.push((l=d,function(){l.remove()})),d.parent=i,i.cleanup.push(i.args.bindTo(function(e,t,n){n[t]=e,d.args[t]=e})),i.cleanup.push(d.args.bindTo(function(e,t,n,r){n[t]=e,i.args[t]=e}))),u.clear(),d.render(u.element))}}}],(o=[{key:"add",value:function(e,t){return this.rules=this.rules||{},this.rules[e]=this.rules[e]||[],this.rules[e].push(t),this}},{key:"apply",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;for(var r in e.apply(t,n),this.rules)for(var i in this.rules[r]){var o=this.rules[r][i],a=e.wrap(t,o,n),s=t.querySelectorAll(r),l=!0,u=!1,c=void 0;try{for(var f,d=s[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){a(f.value)}}catch(e){u=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(u)throw c}}}}}])&&i(n.prototype,o),a&&i(n,a),e}();e.RuleSet=o}()}),require.register("curvature/base/Tag.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tag=void 0;var t=n("./Bindable");function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(n,r,i,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.Bindable.makeBindable(n),this.parent=r,this.direct=a,this.ref=i,this.index=o,this.cleanup=[],this.proxy=t.Bindable.makeBindable(this)}var n,i;return n=e,(i=[{key:"remove",value:function(){var e;for(t.Bindable.clearBindings(this);e=this.cleanup.shift();)e();if(this.clear(),this.element){var n=new Event("cvDomDetached");this.element.dispatchEvent(n),this.element.remove(),this.element=this.ref=this.parent=null}}},{key:"clear",value:function(){if(this.element)for(var e=new Event("cvDomDetached");this.element.firstChild;)this.element.firstChild.dispatchEvent(e),this.element.removeChild(this.element.firstChild)}},{key:"pause",value:function(){}}])&&r(n.prototype,i),e}();e.Tag=i}()}),require.register("curvature/base/View.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;var t=n("./Bindable"),r=n("./ViewList"),i=n("./Router"),o=n("./Dom"),a=(n("./Tag"),n("./Bag")),s=n("./RuleSet");function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}var d=Symbol("dontParse"),h=function(){function e(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),Object.defineProperty(this,"___VIEW___",{enumerable:!1,writable:!0}),this.___VIEW___=e,Object.defineProperty(this,"args",{configurable:!1,writable:!1,value:t.Bindable.make(r)});var o=this;return this.args._id||Object.defineProperty(this.args,"_id",{configurable:!1,get:function(){return o._id}}),this.template="",this.document="",this.firstNode=null,this.lastNode=null,this.nodes=null,this.cleanup=[],this._onRemove=new a.Bag(function(e,t,n){}),this.attach=new a.Bag(function(e,t,n){}),this.detach=new a.Bag(function(e,t,n){}),this.eventCleanup=[],this.mainView=null,this.parent=i,this.viewList=null,this.viewLists={},this.withViews={},this.tags=t.Bindable.makeBindable({}),this.intervals=[],this.timeouts=[],this.frames=[],this.ruleSet=new s.RuleSet,this.preRuleSet=new s.RuleSet,this.subBindings={},this.subTemplates={},this.removed=!1,this.preserve=!1,this.interpolateRegex=/(\[\[((?:\$+)?[\w\.\|]+)\]\])/g,this.rendered=new Promise(function(e,t){Object.defineProperty(n,"renderComplete",{configurable:!1,writable:!1,value:e})}),t.Bindable.make(this)}return f(e,[{key:"_id",get:function(){return this.__id||Object.defineProperty(this,"__id",{configurable:!1,writable:!1,value:this.uuid()}),this.__id}}]),f(e,[{key:"onFrame",value:function(e){var t=this,n=!1;return requestAnimationFrame(function(){return function r(i){t.removed||n||(e(Date.now()),requestAnimationFrame(r))}(Date.now())}),function(){n=!0}}},{key:"onNextFrame",value:function(e){return requestAnimationFrame(function(){return e(Date.now())})}},{key:"onIdle",value:function(e){return requestIdleCallback(function(){return e(Date.now())})}},{key:"onTimeout",value:function(e,t){var n=this,r=function(){n.timeouts[o].fired=!0,n.timeouts[o].callback=null,t()},i=setTimeout(r,e),o=this.timeouts.length;return this.timeouts.push({timeout:i,callback:r,time:e,fired:!1,created:(new Date).getTime(),paused:!1}),i}},{key:"clearTimeout",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){for(var t in this.timeouts)e===this.timeouts[t].timeout&&(clearTimeout(this.timeouts[t].timeout),delete this.timeouts[t])})},{key:"onInterval",value:function(e,t){var n=setInterval(t,e);return this.intervals.push({timeout:n,callback:t,time:e,paused:!1}),n}},{key:"clearInterval",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){for(var t in this.intervals)e===this.intervals[t].timeout&&(clearInterval(this.intervals[t].timeout),delete this.intervals[t])})},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(void 0===e&&(this.paused=!this.paused),this.paused=e,this.paused){for(var t in this.timeouts)this.timeouts[t].fired?delete this.timeouts[t]:clearTimeout(this.timeouts[t].timeout);for(var n in this.intervals)clearInterval(this.intervals[n].timeout)}else{for(var r in this.timeouts)this.timeouts[r].timeout.paused&&(this.timeouts[r].fired?delete this.timeouts[r]:this.timeouts[r].timeout=setTimeout(this.timeouts[r].callback,this.timeouts[r].time));for(var i in this.intervals)this.intervals[i].timeout.paused&&(this.intervals[i].timeout.paused=!1,this.intervals[i].timeout=setInterval(this.intervals[i].callback,this.intervals[i].time))}for(var o in this.viewLists){if(!this.viewLists[o])return;this.viewLists[o].pause(!!e)}for(var a in this.tags)if(Array.isArray(this.tags[a]))for(var s in this.tags[a])this.tags[a][s].pause(!!e);else this.tags[a].pause(!!e)}},{key:"render",value:function(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=t.Bindable.make(this);if(r instanceof e&&(r=r.firstNode.parentNode),i instanceof e&&(i=i.firstNode),this.firstNode)return this.reRender(r,i);var a=this.template instanceof DocumentFragment?this.template.cloneNode(!0):e.templates.has(this.template),s=a?this.template instanceof DocumentFragment?a:e.templates.get(this.template).cloneNode(!0):document.createRange().createContextualFragment(this.template);if(a||this.template instanceof DocumentFragment||e.templates.set(this.template,s.cloneNode(!0)),this.mainView||this.preRuleSet.apply(s,this),this.mapTags(s),this.mainView||this.ruleSet.apply(s,this),this.nodes=[],!0===window.devmode?(this.firstNode=document.createComment("Template ".concat(this._id," Start")),this.lastNode=document.createComment("Template ".concat(this._id," End"))):(this.firstNode=document.createTextNode(""),this.lastNode=document.createTextNode("")),(n=this.nodes).push.apply(n,[this.firstNode].concat(u(Array.from(s.childNodes)),[this.lastNode])),r){var l=r.getRootNode(),c=!1;if(l===document&&(c=!0),i?(r.insertBefore(this.firstNode,i),r.insertBefore(this.lastNode,i)):(r.appendChild(this.firstNode),r.appendChild(this.lastNode)),r.insertBefore(s,this.lastNode),c){o.attached(l,r);var f=this.attach.items();for(var d in f)f[d](l,r);this.nodes.filter(function(e){return e.nodeType!==Node.COMMENT_NODE}).map(function(e){e.dispatchEvent(new Event("cvDomAttached",{bubbles:!0,target:e}))})}}return this.renderComplete(this.nodes),this.postRender(r),this.nodes}},{key:"reRender",value:function(e,t){var n=new DocumentFragment;if(this.firstNode.getRootNode()===document){var r=this.detach.items();for(var i in r)r[i]();this.nodes.filter(function(e){return e.nodeType===Node.ELEMENT_NODE}).map(function(e){e.dispatchEvent(new Event("cvDomDetached",{bubbles:!0,target:e}))})}if(n.append.apply(n,u(this.nodes)),e){t?(e.insertBefore(this.firstNode,t),e.insertBefore(this.lastNode,t)):(e.appendChild(this.firstNode),e.appendChild(this.lastNode)),e.insertBefore(n,this.lastNode);var o=e.getRootNode();if(o===document){this.nodes.filter(function(e){return e.nodeType===Node.ELEMENT_NODE}).map(function(e){e.dispatchEvent(new Event("cvDomAttached",{bubbles:!0,target:e}))});var a=this.attach.items();for(var s in a)a[s](o,e)}}return this.nodes}},{key:"mapTags",value:function(e){var t=this;o.Dom.mapTags(e,!1,function(e,n){e[d]||(e=e.matches?(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=t.mapInterpolatableTag(e)).matches("[cv-template]")&&t.mapTemplateTag(e)||e).matches("[cv-slot]")&&t.mapSlotTag(e)||e).matches("[cv-prerender]")&&t.mapPrendererTag(e)||e).matches("[cv-link]")&&t.mapLinkTag(e)||e).matches("[cv-attr]")&&t.mapAttrTag(e)||e).matches("[cv-expand]")&&t.mapExpandableTag(e)||e).matches("[cv-ref]")&&t.mapRefTag(e)||e).matches("[cv-on]")&&t.mapOnTag(e)||e).matches("[cv-each]")&&t.mapEachTag(e)||e).matches("[cv-bind]")&&t.mapBindTag(e)||e).matches("[cv-if]")&&t.mapIfTag(e)||e).matches("[cv-with]")&&t.mapWithTag(e)||e:t.mapInterpolatableTag(e))!==n.currentNode&&(n.currentNode=e)})}},{key:"mapExpandableTag",value:function(e){var n=this,r=e.getAttribute("cv-expand"),i=t.Bindable.makeBindable(this.args[r]||{});e.removeAttribute("cv-expand");var o=function(r){if("name"===r||"type"===r)return"continue";var o=i.bindTo(r,function(e,t){return function(n){e.setAttribute(t,n)}}(e,r));n.onRemove(function(){o(),i.isBound()&&t.Bindable.clearBindings(i)})};for(var a in i)o(a);return e}},{key:"compileExpandableTag",value:function(e){return function(n){var r=e.cloneNode(!0),i=r.getAttribute("cv-expand"),o=t.Bindable.makeBindable(n.args[i]||{});r.removeAttribute("cv-expand");var a=function(e){if("name"===e||"type"===e)return"continue";var i=o.bindTo(e,function(e,t){return function(n){e.setAttribute(t,n)}}(r,e));n.onRemove(function(){i(),o.isBound()&&t.Bindable.clearBindings(o)})};for(var s in o)a(s);return r}}},{key:"mapAttrTag",value:function(e){var t=this.compileAttrTag(e)(this);return e.replaceWith(t),t}},{key:"compileAttrTag",value:function(e){var n=e.getAttribute("cv-attr").split(",").map(function(e){return e.split(":")});return e.removeAttribute("cv-attr"),function(r){var i=e.cloneNode(!0),o=function(e){var o=n[e][1],a=l(t.Bindable.resolve(r.args,o,!0),2),s=a[0],u=a[1],c=n[e][0];r.onRemove(s.bindTo(u,function(e){null!=e?i.setAttribute(c,e):i.setAttribute(c,"")}))};for(var a in n)o(a);return i}}},{key:"mapInterpolatableTag",value:function(n){var r=this,i=this.interpolateRegex;if(n.nodeType===Node.TEXT_NODE){var o=n.nodeValue;if(!this.interpolatable(o))return n;for(var a,s=0,u=function(){var i=a[2],u=!1,c=!1,f=i.split("|"),h=!1;if(f.length>1&&(h=r.stringTransformer(f.slice(1)),i=f[0]),"$$"===i.substr(0,2)&&(u=!0,c=!0,i=i.substr(2)),"$"===i.substr(0,1)&&(u=!0,i=i.substr(1)),"000"===i.substr(0,3))return expand=!0,i=i.substr(3),"continue";var p=o.substring(s,a.index);s=a.index+a[1].length;var m=document.createTextNode(p);m[d]=!0,n.parentNode.insertBefore(m,n);var g=void 0;(g=u?document.createElement("div"):document.createTextNode(""))[d]=!0;var v=r.args,y=i;if(i.match(/\./)){var b=l(t.Bindable.resolve(r.args,i,!0),2);v=b[0],y=b[1]}n.parentNode.insertBefore(g,n);var w=v.bindTo(y,function(t,i,o){if(o[i]instanceof e&&o[i]!==t&&(o[i].preserve||o[i].remove()),g.nodeValue="",c&&!(t instanceof e)){var a=t;(t=new e(r.args,r)).template=a}if(t instanceof e){var s=function(e){t.attached(e)};r.attach.add(s),t.render(n.parentNode,g);var l=function(){t.preserve||t.remove()};r.onRemove(l),t.onRemove(function(){r.attach.remove(s),r._onRemove.remove(l)})}else h&&(t=h(t)),t instanceof Object&&t.__toString instanceof Function&&(t=t.__toString()),u?g.innerHTML=t:g.nodeValue=t,g[d]=!0});r.onRemove(function(){w(),v.isBound()||t.Bindable.clearBindings(v)})};a=i.exec(o);)u();var c=o.substring(s),f=document.createTextNode(c);f[d]=!0,n.parentNode.insertBefore(f,n),n.nodeValue=""}if(n.nodeType===Node.ELEMENT_NODE)for(var h=function(e){if(!r.interpolatable(n.attributes[e].value))return"continue";for(var o=0,a=void 0,s=n.attributes[e].value,u=n.attributes[e],c={},f=[];a=i.exec(s);)f.push(s.substring(o,a.index)),c[a[2]]||(c[a[2]]=[]),c[a[2]].push(f.length),f.push(a[1]),o=a.index+a[1].length;f.push(s.substring(o));var d=function(e){var i=r.args,o=e,a=e.split("|"),s=!1,d=e;if(a.length>1&&(s=r.stringTransformer(a.slice(1)),o=a[0]),o.match(/\./)){var h=l(t.Bindable.resolve(r.args,o,!0),2);i=h[0],o=h[1]}c[d],r.onRemove(i.bindTo(o,function(e,t,r,i){for(var a in s&&(e=s(e)),c)for(var l in c[d])f[c[d][l]]=r[a],t===o&&(f[c[d][l]]=e);n.setAttribute(u.name,f.join(""))})),r.onRemove(function(){i.isBound()||t.Bindable.clearBindings(i)})};for(var h in c)d(h)},p=0;p<n.attributes.length;p++)h(p);return n}},{key:"mapRefTag",value:function(e){var t=l(e.getAttribute("cv-ref").split(":"),3),n=t[0],r=t[1],i=t[2];r||(r="curvature/base/Tag");var o=this.stringToClass(r);e.removeAttribute("cv-ref"),Object.defineProperty(e,"___tag___",{enumerable:!1,writable:!0}),this.onRemove(function(){e.___tag___=null,e.remove()});var a=this;this.viewList&&(a=this.viewList.parent);var s=new o(e,this,n,void 0,this);for(e.___tag___=s,this.tags[n]=e;a;){a.parent;var u=this.args[i];void 0!==u?(a.tags[n]||(a.tags[n]=[]),a.tags[n][u]=s):a.tags[n]=s,a=a.parent}return e}},{key:"mapBindTag",value:function(n){var r=this,i=n.getAttribute("cv-bind"),o=this.args,a=i,s=null;if(i.match(/\./)){var u=l(t.Bindable.resolve(this.args,i,!0),3);o=u[0],a=u[1],s=u[2]}o!==this.args&&(this.subBindings[i]=this.subBindings[i]||[],this.onRemove(this.args.bindTo(s,function(){for(;r.subBindings.length;)r.subBindings.shift()()})));var c=!1;"$"===a.substr(0,1)&&(a=a.substr(1),c=!0);var f=o.bindTo(a,function(t,i,o,a,s){s instanceof e&&s!==t&&s.remove();var l=new CustomEvent("cvAutoChanged",{bubbles:!0});if("INPUT"===n.tagName||"SELECT"===n.tagName||"TEXTAREA"===n.tagName){var u=n.getAttribute("type");if(u&&"checkbox"===u.toLowerCase())n.checked=!!t,n.dispatchEvent(l);else if(u&&"radio"===u.toLowerCase())n.checked=t==n.value,n.dispatchEvent(l);else if("file"!==u){if("SELECT"===n.tagName)for(var f in n.options)n.options[f].value==t&&(n.selectedIndex=f);n.value=null==t?"":t,n.dispatchEvent(l)}}else{var d=!0,h=!1,p=void 0;try{for(var m,g=n.childNodes[Symbol.iterator]();!(d=(m=g.next()).done);d=!0)m.value.remove()}catch(e){h=!0,p=e}finally{try{d||null==g.return||g.return()}finally{if(h)throw p}}if(t instanceof e){var v=function(e){t.attached(e)};r.attach.add(v),t.render(n),t.onRemove(function(){return r.attach.remove(v)})}else c?n.innerHTML=t:n.textContent=t}});o!==this.args&&this.subBindings[i].push(f),this.onRemove(f);var d=n.getAttribute("type"),h=n.getAttribute("multiple"),p=function(e){if(e.target===n)if(d&&"checkbox"===d.toLowerCase())n.checked?o[a]=e.target.getAttribute("value"):o[a]=!1;else if("file"===d&&h){var t=Array.from(e.target.files),r=o[a]||o.___deck___[a];if(r&&t.length){var i=function(e){if(t[e]!==r[e])return t[e].toJSON=function(){return{name:file[e].name,size:file[e].size,type:file[e].type,date:file[e].lastModified}},r[e]=t[e],"break"};for(var s in t)if("break"===i(s))break}else o[a]=t}else if("file"!==d||h)o[a]=e.target.value;else{var l=e.target.files.item(0);l.toJSON=function(){return{name:l.name,size:l.size,type:l.type,date:l.lastModified}},o[a]=l}};return"file"===d||"radio"===d?n.addEventListener("change",p):(n.addEventListener("input",p),n.addEventListener("change",p),n.addEventListener("value-changed",p)),this.onRemove(function(e,t){return function(){"file"===d||"radio"===d?e.removeEventListener("change",p):(e.removeEventListener("input",p),e.removeEventListener("change",p),e.removeEventListener("value-changed",p)),e=void 0}}(n)),n.removeAttribute("cv-bind"),n}},{key:"mapOnTag",value:function(e){var t=this;return String(e.getAttribute("cv-on")).split(";").map(function(e){return e.split(":")}).map(function(n){var r,i=(n=n.map(function(e){return e.trim()}))[0].trim(),o=n[1],a=String(n[2]||""),s=[],l=/(\w+)(?:\(([$\w\s'",]+)\))?/.exec(o);if(!l)throw new Error("Invalid event method referent: "+e.getAttribute("cv-on"));l.length&&(o=l[1].replace(/(^[\s\n]+|[\s\n]+$)/,""),l[2]&&(s=l[2].split(",").map(function(e){return e.trim()}))),i||(i=o);for(var c=t;c&&("function"!=typeof c[o]||"break"!==function(){var e=c,t=o;return r=function(){e[t].apply(e,arguments)},"break"}())&&c.parent;)c=c.parent;var f=function(n){var i=s.map(function(r){var i;return parseInt(r)==r?r:"event"===r||"$event"===r?n:"$view"===r?c:"$tag"===r?e:"$parent"===r?t.parent:"$subview"===r?t:r in t.args?t.args[r]:(i=/^['"](\w+?)["']$/.exec(r))?i[1]:void 0});if("function"!=typeof r)throw new Error("".concat(o," is not defined on View object.")+"\nTag:\n"+"".concat(e.outerHTML));r.apply(void 0,u(i))},d={};switch(a.includes("p")?d.passive=!0:a.includes("P")&&(d.passive=!1),a.includes("c")?d.capture=!0:a.includes("C")&&(d.capture=!1),a.includes("o")?d.once=!0:a.includes("O")&&(d.once=!1),i){case"_init":f();break;case"_attach":t.attach.add(f);break;case"_detach":t.detach.add(f);break;default:e.addEventListener(i,f,d),t.onRemove(function(){e.removeEventListener(i,f,d)})}return[i,o,s]}),e.removeAttribute("cv-on"),e}},{key:"mapLinkTag",value:function(e){var t=e.getAttribute("cv-link");e.setAttribute("href",t);var n=function(n){n.preventDefault(),"http"!==t.substring(0,4)&&"//"!==t.substring(0,2)?i.Router.go(e.getAttribute("href")):window.open(e.getAttribute("href",t))};return e.addEventListener("click",n),this.onRemove(function(e,t){return function(){e.removeEventListener("click",t),e=void 0,t=void 0}}(e,n)),e.removeAttribute("cv-link"),e}},{key:"compileLinkTag",value:function(t){var n=t.getAttribute("cv-link");return t.removeAttribute("cv-link"),function(r){var i=t.cloneNode(!0);return i.setAttribute("href",n),i.addEventListener("click",e.linkClicked),r.onRemove(function(){return i.removeEventListener(e.linkClicked)}),i}}},{key:"mapPrendererTag",value:function(e){var t=e.getAttribute("cv-prerender"),n=window.prerenderer||navigator.userAgent.match(/prerender/i);return n&&(window.prerenderer=window.prerenderer||!0),("never"===t&&n||"only"===t&&!n)&&e.parentNode.removeChild(e),e}},{key:"mapWithTag",value:function(n){var r=this,i=n.getAttribute("cv-with"),o=n.getAttribute("cv-carry");n.removeAttribute("cv-with"),n.removeAttribute("cv-carry");var a=new DocumentFragment;Array.from(n.childNodes).map(function(e){return a.appendChild(e)});var s=[];o&&(s=o.split(",").map(function(e){return e.trim()}));var l=this.args.bindTo(i,function(i,o,l,u){for(r.withViews[o]&&r.withViews[o].remove();n.firstChild;)n.removeChild(n.firstChild);var c=new e({},r);r.onRemove(function(e){return function(){e.remove()}}(c)),c.template=a;var f=function(e){var t=r.args.bindTo(s[e],function(e,t){c.args[t]=e});c.onRemove(t),r.onRemove(function(){t(),c.remove()})};for(var d in s)f(d);var h=function(e){var n=i.bindTo(e,function(e,t){c.args[t]=e});r.onRemove(function(){n(),i.isBound()||t.Bindable.clearBindings(i),c.remove()}),c.onRemove(function(){n(),i.isBound()||t.Bindable.clearBindings(i)})};for(var p in i)h(p);c.render(n),r.withViews[o]=c});return this.onRemove(l),n}},{key:"mapEachTag",value:function(e){var t=this,n=e.getAttribute("cv-each");e.removeAttribute("cv-each");var i=new DocumentFragment;Array.from(e.childNodes).map(function(e){return i.appendChild(e)});var o=l(n.split(":"),3),a=o[0],s=o[1],u=o[2],c=this.args.bindTo(a,function(n,o,l,c,f){t.viewLists[a]&&t.viewLists[a].remove();var d=new r.ViewList(i,s,n,t,u),h=function(){return d.remove()};t.onRemove(h),d.onRemove(function(){return t._onRemove.remove(h)});var p=t.args.bindTo(function(e,t,n,r){"_id"!==t&&(d.args.subArgs[t]=e)}),m=d.args.bindTo(function(e,n,r,i,o){"_id"!==n&&"value"!==n&&"___"!==n.substring(0,3)&&n in t.args&&(t.args[n]=e)});for(d.onRemove(p),d.onRemove(m),t.onRemove(p),t.onRemove(m);e.firstChild;)e.removeChild(e.firstChild);t.viewLists[a]=d,d.render(e)});return this.onRemove(c),e}},{key:"mapIfTag",value:function(n){var r=n,i=r.getAttribute("cv-if"),o=!1;r.removeAttribute("cv-if"),"!"===i.substr(0,1)&&(i=i.substr(1),o=!0);var a=new DocumentFragment;Array.from(r.childNodes).map(function(e){return a.appendChild(e)});var s=this,u=new DocumentFragment,c=new e(this.args,s);c.template=a;var f=s.args,d=i;if(i.match(/\./)){var h=l(t.Bindable.resolve(s.args,i,!0),2);f=h[0],d=h[1]}var p=!1,m=f.bindTo(d,function(e,t){if(!p){var r=!!f[d]^!!o?n:u;return c.render(r),void(p=!0)}Array.isArray(e)&&(e=!!e.length),o&&(e=!e),e?n.appendChild(u):c.nodes.map(function(e){return u.appendChild(e)})});s.onRemove(m);var g=function(){f.isBound()||t.Bindable.clearBindings(f)};return s.onRemove(function(){m(),g(),s._onRemove.remove(m),s._onRemove.remove(g)}),n}},{key:"compileIfTag",value:function(n){var r=n.getAttribute("cv-if"),i=!1;n.removeAttribute("cv-if"),"!"===r.substr(0,1)&&(r=r.substr(1),i=!0);var o=new DocumentFragment;return Array.from(n.childNodes).map(function(e){return o.appendChild(e.cloneNode(!0))}),function(a){var s=n.cloneNode(),u=new DocumentFragment,c=new e({},a);c.template=o,a.syncBind(c);var f=a.args,d=r;if(r.match(/\./)){var h=l(t.Bindable.resolve(a.args,r,!0),2);f=h[0],d=h[1]}var p=!1,m=f.bindTo(d,function(e,t){if(!p){var n=a.args[d]||i?s:u;return c.render(n),void(p=!0)}Array.isArray(e)&&(e=!!e.length),i&&(e=!e),e?s.appendChild(u):c.nodes.map(function(e){return u.appendChild(e)})});a.onRemove(m);var g=function(){f.isBound()||t.Bindable.clearBindings(f)};return c.onRemove(function(){m(),g(),a._onRemove.remove(m),a._onRemove.remove(g)}),s}}},{key:"mapTemplateTag",value:function(e){var t=e.getAttribute("cv-template");return e.removeAttribute("cv-template"),this.subTemplates[t]=function(){return"TEMPLATE"===e.tagName?e.content.cloneNode(!0):new DocumentFragment(e.innerHTML)},e}},{key:"mapSlotTag",value:function(e){var t=e.getAttribute("cv-slot"),n=this.subTemplates[t];if(!n){for(var r=this;r&&!(n=r.subTemplates[t]);)r=this.parent;if(!n)return void console.error("Template ".concat(t," not found."))}var i=n();for(e.removeAttribute("cv-slot");e.firstChild;)e.firstChild.remove();return e.appendChild(i),e}},{key:"syncBind",value:function(t){var n=this,r=this.args.bindTo(function(e,n,r,i){"_id"!==n&&t.args[n]!==e&&(t.args[n]=e)}),i=t.args.bindTo(function(t,r,i,o,a){if("_id"!==r){var s=t,l=a;s instanceof e&&(s=s.___ref___),l instanceof e&&(l=l.___ref___),s!==l&&l instanceof e&&a.remove(),r in n.args&&(n.args[r]=t)}});this.onRemove(r),this.onRemove(i),t.onRemove(function(){n._onRemove.remove(r),n._onRemove.remove(i)})}},{key:"postRender",value:function(e){}},{key:"attached",value:function(e){}},{key:"interpolatable",value:function(e){return!!String(e).match(this.interpolateRegex)}},{key:"uuid",value:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}},{key:"remove",value:function(){var e=this,t=function(){for(var t in e.firstNode=e.lastNode=void 0,e.nodes)e.nodes[t].dispatchEvent(new Event("cvDomDetached")),e.nodes[t].remove()};arguments.length>0&&void 0!==arguments[0]&&arguments[0]?t():requestAnimationFrame(t);var n,r=this._onRemove.items(),i=!0,o=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;this._onRemove.remove(u),u()}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}for(;n=this.cleanup.shift();)n&&n();for(var c in this.viewLists)this.viewLists[c]&&this.viewLists[c].remove();for(var f in this.viewLists=[],this.timeouts)clearInterval(this.timeouts[f].timeout),delete this.timeouts[f];for(var d in this.intervals)clearInterval(this.intervals[d].timeout),delete this.intervals[d];this.removed=!0}},{key:"findTag",value:function(e){for(var t in this.nodes){var n;if(this.nodes[t].querySelector){if(this.nodes[t].matches(e))return this.nodes[t];if(n=this.nodes[t].querySelector(e))return n}}}},{key:"findTags",value:function(e){return this.nodes,map(function(t){return t.querySelectorAll(e)}).flat()}},{key:"onRemove",value:function(e){this._onRemove.add(e)}},{key:"update",value:function(){}},{key:"beforeUpdate",value:function(e){}},{key:"afterUpdate",value:function(e){}},{key:"stringTransformer",value:function(e){var t=this;return function(n){for(var r in e){for(var i=t,o=e[r];i&&!i[o];)i=i.parent;if(!i)return;n=i[e[r]](n)}return n}}},{key:"stringToClass",value:function(t){if(e.refClasses.has(t))return e.refClasses.get(t);var r=t.split("/"),i=r[r.length-1],o=n(t);return e.refClasses.set(t,o[i]),o[i]}},{key:"preventParsing",value:function(e){e[d]=!0}},{key:"toString",value:function(){return this.nodes.map(function(e){return e.outerHTML}).join(" ")}}],[{key:"isView",value:function(){return e}}]),e}();e.View=h,Object.defineProperty(h,"templates",{enumerable:!1,writable:!1,value:new Map}),Object.defineProperty(h,"refClasses",{enumerable:!1,writable:!1,value:new Map}),Object.defineProperty(h,"linkClicked",function(e){e.preventDefault();var t=e.target.getAttribute("href");"http"!==t.substring(0,4)&&"//"!==t.substring(0,2)?i.Router.go(t):window.open(t)})}()}),require.register("curvature/base/ViewList.js",function(e,n,r){n=t(n,{},"curvature"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewList=void 0;var t=n("./Bindable"),r=n("./View"),i=n("./Bag");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(n,r,o,a){var s=this,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.removed=!1,this.args=t.Bindable.makeBindable({}),this.args.value=t.Bindable.makeBindable(o||{}),this.args.subArgs=t.Bindable.makeBindable({}),this.views=[],this.cleanup=[],this._onRemove=new i.Bag,this.template=n,this.subProperty=r,this.keyProperty=l,this.tag=null,this.paused=!1,this.parent=a,this.rendered=new Promise(function(e,t){Object.defineProperty(s,"renderComplete",{configurable:!1,writable:!0,value:e})}),this.willReRender=!1,this.args.___before(function(e,t,n,r){"bindTo"!=t&&(s.paused=!0)}),this.args.___after(function(e,t,n,r){"bindTo"!=t&&(s.paused=n.length>1,s.reRender())});var u=this.args.value.bindTo(function(e,t,n,r){if(!s.paused){var i=t;if(isNaN(t)&&(i="_"+t),r)for(var o in s.views[i]&&s.views[i].remove(),delete s.views[i],s.views)s.views[o].args[s.keyProperty]="string"!=typeof o?o:o.substr(1);else s.views[i]||s.willReRender?s.views[i]&&s.views[i].args&&(s.views[i].args[s.keyProperty]=t,s.views[i].args[s.subProperty]=e):s.willReRender=requestAnimationFrame(function(){s.reRender()})}});this._onRemove.add(u)}var n,a;return n=e,(a=[{key:"render",value:function(e){var t=this,n=[],r=!0,i=!1,o=void 0;try{for(var a,s=function(){var t=a.value;t.render(e),n.push(t.rendered.then(function(){return t}))},l=this.views[Symbol.iterator]();!(r=(a=l.next()).done);r=!0)s()}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}this.tag=e,Promise.all(n).then(function(e){return t.renderComplete(e)})}},{key:"reRender",value:function(){var e=this;if(!this.paused&&this.tag){var t=[];for(var n in this.views)t[n]=this.views[n];var i=[];for(var o in this.args.value){var a=!1,s=o;for(var l in isNaN(s)&&(s="_"+o),t)if(t[l]&&void 0!==this.args.value[o]&&this.args.value[o]===t[l].args[this.subProperty]){a=!0,i[s]=t[l],i[s].args[this.keyProperty]=o,delete t[l];break}a||function(){var t={},n=i[s]=new r.View(t,e.parent);i[s].template=(e.template,e.template),i[s].viewList=e,i[s].args[e.keyProperty]=o,i[s].args[e.subProperty]=e.args.value[o];var a=t.bindTo(e.subProperty,function(n,r){var i=t[e.keyProperty];e.args.value[i]=n}),l=e.args.subArgs.bindTo(function(e,n,r,i){t[n]=e});n.onRemove(function(){a(),l(),e._onRemove.remove(a),e._onRemove.remove(l)}),e._onRemove.add(a),e._onRemove.add(l),t[e.subProperty]=e.args.value[o]}()}for(var u in t){var c=!1;for(var f in i)if(t[u]===i[f]){c=!0;break}c||t[u].remove()}if(Array.isArray(this.args.value))this.rendered=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=i.length-n-1;return i[r]?i[r]===e.views[r]?i[r].firstNode?t(n+1):(i[r].render(e.tag,i[r+1]),i[r].rendered.then(function(){return t(n+1)})):(i[r].render(e.tag,i[r+1]),e.views.splice(r,0,i[r]),i[r].rendered.then(function(){return t(n+1)})):Promise.resolve()}();else{var d=[],h=Object.assign({},i),p=function(t){if(delete h[t],i[t].firstNode&&i[t]===e.views[t])return"continue";i[t].render(e.tag),d.push(i[t].rendered.then(function(){return i[t]}))};for(var m in i)p(m);for(var g in h)delete this.args.views[g],h.remove();this.rendered=Promise.all(d)}for(var v in this.views=i,i)isNaN(v)?i[v].args[this.keyProperty]=v.substr(1):i[v].args[this.keyProperty]=v;this.willReRender=!1}}},{key:"pause",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];for(var t in this.views)this.views[t].pause(e)}},{key:"onRemove",value:function(e){this._onRemove.add(e)}},{key:"remove",value:function(){for(var e in this.views)this.views[e].remove();var n=this._onRemove.items();for(var r in n)this._onRemove.remove(n[r]),n[r]();for(;this.cleanup.length;)this.cleanup.pop()();for(this.views=[];this.tag&&this.tag.firstChild;)this.tag.removeChild(this.tag.firstChild);this.args.subArgs&&t.Bindable.clearBindings(this.args.subArgs),t.Bindable.clearBindings(this.args),this.args.value&&!this.args.value.isBound()&&t.Bindable.clearBindings(this.args.value),this.removed=!0}}])&&o(n.prototype,a),e}();e.ViewList=a}()}),require.register("php-wasm/Php.js",function(e,n,r){n=t(n,{},"php-wasm"),function(){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=n("./php-web");e.Php=function(e){function n(){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.returnValue=-1,e.onerror=function(){console.log("READY!!!")},e.onoutput=function(){},e.onready=function(){},e.binary=r({postRun:function(){var t=new CustomEvent("ready");e.dispatchEvent(t),e.onready(t)},print:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=new CustomEvent("output",{detail:n});e.dispatchEvent(i),e.onoutput(i)},printErr:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=new CustomEvent("error",{detail:n});e.dispatchEvent(i)}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),t(n,[{key:"run",value:function(e){var t=this;return new Promise(function(n){return t.binary.then(function(t){var r=t.ccall("pib_eval","number",["string"],["?>"+e]);t.ccall("pib_eval","number",["string"],['echo "\n"']),console.log(e,r),n(r)})})}}]),n}(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(EventTarget))}()}),require.register("php-wasm/php-web.js",function(e,n,r){var i,o;n=t(n,{},"php-wasm"),i="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,o=function(e){var t=void 0!==(e=e||{})?e:{};t.expectedDataFileDownloads||(t.expectedDataFileDownloads=0,t.finishedDataFileDownloads=0),t.expectedDataFileDownloads++,function(e){if("object"==typeof window)window.encodeURIComponent(window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/");else{if("undefined"==typeof location)throw"using preloaded data can only be done on a web page or in a web worker";encodeURIComponent(location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/")}"function"!=typeof t.locateFilePackage||t.locateFile||(t.locateFile=t.locateFilePackage,d("warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)"));var n=t.locateFile?t.locateFile("php-web.data",""):"php-web.data",r=e.remote_package_size;e.package_uuid;var i,o,a,s,l=null,u=t.getPreloadedPackage?t.getPreloadedPackage(n,r):null;function c(){function n(e,t){if(!e)throw t+(new Error).stack}function r(e,t,n){this.start=e,this.end=t,this.audio=n}t.FS_createPath("/","Zend",!0,!0),r.prototype={requests:{},open:function(e,n){this.name=n,this.requests[n]=this,t.addRunDependency("fp "+this.name)},send:function(){},onload:function(){var e=this.byteArray.subarray(this.start,this.end);this.finish(e)},finish:function(e){t.FS_createDataFile(this.name,null,e,!0,!0,!0),t.removeRunDependency("fp "+this.name),this.requests[this.name]=null}};for(var i=e.files,o=0;o<i.length;++o)new r(i[o].start,i[o].end,i[o].audio).open("GET",i[o].filename);function a(i){t.finishedDataFileDownloads++,n(i,"Loading data file failed."),n(i instanceof ArrayBuffer,"bad input to processPackageData");var o=new Uint8Array(i),a=t.getMemory(o.length);t.HEAPU8.set(o,a),r.prototype.byteArray=t.HEAPU8.subarray(a,a+o.length);for(var s=e.files,l=0;l<s.length;++l)r.prototype.requests[s[l].filename].onload();t.removeRunDependency("datafile_out/php-web.data")}t.addRunDependency("datafile_out/php-web.data"),t.preloadResults||(t.preloadResults={}),t.preloadResults["out/php-web.data"]={fromCache:!1},u?(a(u),u=null):l=a}u||(i=n,o=r,a=function(e){l?(l(e),l=null):u=e},(s=new XMLHttpRequest).open("GET",i,!0),s.responseType="arraybuffer",s.onprogress=function(e){var n=i,r=o;if(e.total&&(r=e.total),e.loaded){s.addedTotal?t.dataFileDownloads[n].loaded=e.loaded:(s.addedTotal=!0,t.dataFileDownloads||(t.dataFileDownloads={}),t.dataFileDownloads[n]={loaded:e.loaded,total:r});var a=0,l=0,u=0;for(var c in t.dataFileDownloads){var f=t.dataFileDownloads[c];a+=f.total,l+=f.loaded,u++}a=Math.ceil(a*t.expectedDataFileDownloads/u),t.setStatus&&t.setStatus("Downloading data... ("+l+"/"+a+")")}else t.dataFileDownloads||t.setStatus&&t.setStatus("Downloading data...")},s.onerror=function(e){throw new Error("NetworkError for: "+i)},s.onload=function(e){if(!(200==s.status||304==s.status||206==s.status||0==s.status&&s.response))throw new Error(s.statusText+" : "+s.responseURL);var t=s.response;a(t)},s.send(null)),t.calledRun?c():(t.preRun||(t.preRun=[]),t.preRun.push(c))}({files:[{start:0,audio:0,end:7634,filename:"/Zend/bench.php"}],remote_package_size:7634,package_uuid:"ddf1cfe3-8671-4d9e-af5b-ba0d7220de5c"});var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);var o,a,s=[],l="./this.program",u=function(e,t){throw t},c="";document.currentScript&&(c=document.currentScript.src),i&&(c=i),c=0!==c.indexOf("blob:")?c.substr(0,c.lastIndexOf("/")+1):"",o=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText};var f=t.print||console.log.bind(console),d=t.printErr||console.warn.bind(console);for(n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);function h(e){var t=A[V>>2],n=t+e+15&-16;return n>Fe()&&le(),A[V>>2]=n,t}function p(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return 4;if("i"===e[0]){var t=parseInt(e.substr(1));return _(t%8==0,"getNativeTypeSize invalid bits "+t+", type "+e),t/8}return 0}}r=null,t.arguments&&(s=t.arguments),t.thisProgram&&(l=t.thisProgram),t.quit&&(u=t.quit);var m,g,v,y={"f64-rem":function(e,t){return e%t},debugger:function(){}},b=(new Array(0),0),w=function(e){b=e};function x(e,t,n,r){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":O[e>>0]=t;break;case"i16":P[e>>1]=t;break;case"i32":A[e>>2]=t;break;case"i64":de=[t>>>0,(fe=t,+Q(fe)>=1?fe>0?(0|ne(+te(fe/4294967296),4294967295))>>>0:~~+ee((fe-+(~~fe>>>0))/4294967296)>>>0:0)],A[e>>2]=de[0],A[e+4>>2]=de[1];break;case"float":R[e>>2]=t;break;case"double":D[e>>3]=t;break;default:le("invalid type for setValue: "+n)}}t.wasmBinary&&(m=t.wasmBinary),t.noExitRuntime&&(g=t.noExitRuntime),"object"!=typeof WebAssembly&&d("no native wasm support detected");var k=new WebAssembly.Table({initial:5295,maximum:5295,element:"anyfunc"}),S=!1;function _(e,t){e||le("Assertion failed: "+t)}function E(e,t,n,r){var i,o;"number"==typeof e?(i=!0,o=e):(i=!1,o=e.length);var a,s="string"==typeof t?t:null;if(a=3==n?r:[ut,mt,h][n](Math.max(o,s?1:t.length)),i){var l;for(r=a,_(0==(3&a)),l=a+(-4&o);r<l;r+=4)A[r>>2]=0;for(l=a+o;r<l;)O[r++>>0]=0;return a}if("i8"===s)return e.subarray||e.slice?L.set(e,a):L.set(new Uint8Array(e),a),a;for(var u,c,f,d=0;d<o;){var m=e[d];0!==(u=s||t[d])?("i64"==u&&(u="i32"),x(a+d,m,u),f!==u&&(c=p(u),f=u),d+=c):d++}return a}function C(e){return J?ut(e):h(e)}var T,O,L,P,M,A,R,D,j="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function N(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.subarray&&j)return j.decode(e.subarray(t,i));for(var o="";t<i;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var l=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|l:(7&a)<<18|s<<12|l<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function B(e,t){return e?N(L,e,t):""}function F(e,t,n,r){if(!(r>0))return 0;for(var i=n,o=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(n>=o)break;t[n++]=s}else if(s<=2047){if(n+1>=o)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=o)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=o)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-i}function I(e,t,n){return F(e,L,t,n)}function H(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}function z(e){var t=H(e)+1,n=mt(t);return F(e,O,n,t),n}function W(e,t){O.set(e,t)}function q(e,t,n){for(var r=0;r<e.length;++r)O[t++>>0]=e.charCodeAt(r);n||(O[t>>0]=0)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var U,V=2209456,Y=t.TOTAL_MEMORY||134217728;function G(e){for(;e.length>0;){var n=e.shift();if("function"!=typeof n){var r=n.func;"number"==typeof r?void 0===n.arg?t.dynCall_v(r):t.dynCall_vi(r,n.arg):r(void 0===n.arg?null:n.arg)}else n()}}(v=t.wasmMemory?t.wasmMemory:new WebAssembly.Memory({initial:Y/65536,maximum:Y/65536}))&&(T=v.buffer),Y=T.byteLength,T=U=T,t.HEAP8=O=new Int8Array(U),t.HEAP16=P=new Int16Array(U),t.HEAP32=A=new Int32Array(U),t.HEAPU8=L=new Uint8Array(U),t.HEAPU16=M=new Uint16Array(U),t.HEAPU32=new Uint32Array(U),t.HEAPF32=R=new Float32Array(U),t.HEAPF64=D=new Float64Array(U),A[V>>2]=7452528;var $=[],K=[],X=[],Z=[],J=!1,Q=Math.abs,ee=Math.ceil,te=Math.floor,ne=Math.min,re=0,ie=null,oe=null;function ae(e){re++,t.monitorRunDependencies&&t.monitorRunDependencies(re)}function se(e){if(re--,t.monitorRunDependencies&&t.monitorRunDependencies(re),0==re&&(null!==ie&&(clearInterval(ie),ie=null),oe)){var n=oe;oe=null,n()}}function le(e){throw t.onAbort&&t.onAbort(e),f(e+=""),d(e),S=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}function ue(e){return String.prototype.startsWith?e.startsWith("data:application/octet-stream;base64,"):0===e.indexOf("data:application/octet-stream;base64,")}t.preloadedImages={},t.preloadedAudios={};var ce,fe,de,he="php-web.wasm";function pe(){try{if(m)return new Uint8Array(m);if(a)return a(he);throw"both async and sync fetching of the wasm failed"}catch(e){le(e)}}ue(he)||(ce=he,he=t.locateFile?t.locateFile(ce,c):c+ce),t.asm=function(){var e={env:Je,wasi_unstable:Je,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:y};function n(e,n){var r=e.exports;t.asm=r,se()}function r(e){n(e.instance)}function i(t){return(m||"function"!=typeof fetch?new Promise(function(e,t){e(pe())}):fetch(he,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+he+"'";return e.arrayBuffer()}).catch(function(){return pe()})).then(function(t){return WebAssembly.instantiate(t,e)}).then(t,function(e){d("failed to asynchronously prepare wasm: "+e),le(e)})}if(ae(),t.instantiateWasm)try{return t.instantiateWasm(e,n)}catch(e){return d("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(m||"function"!=typeof WebAssembly.instantiateStreaming||ue(he)||"function"!=typeof fetch)return i(r);fetch(he,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,e).then(r,function(e){d("wasm streaming compile failed: "+e),d("falling back to ArrayBuffer instantiation"),i(r)})})}(),{}},K.push({func:function(){tt()}});var me={};function ge(e){var t,n;ge.called?(n=A[e>>2],t=A[n>>2]):(ge.called=!0,me.USER="web_user",me.LOGNAME="web_user",me.PATH="/",me.PWD="/",me.HOME="/home/web_user",me.LANG=("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",me._=l,t=C(1024),n=C(256),A[n>>2]=t,A[e>>2]=n);var r=[],i=0;for(var o in me)if("string"==typeof me[o]){var a=o+"="+me[o];r.push(a),i+=a.length}if(i>1024)throw new Error("Environment size exceeded TOTAL_ENV_SIZE!");for(var s=0;s<r.length;s++)q(a=r[s],t),A[n+4*s>>2]=t,t+=a.length+1;A[n+4*r.length>>2]=0}function ve(){le()}function ye(e){return t.___errno_location&&(A[t.___errno_location()>>2]=e),e}function be(e,t){var n;if(0===e)n=Date.now();else{if(1!==e||"object"!=typeof performance||!performance||"function"!=typeof performance.now)return ye(28),-1;n=ve()}return A[t>>2]=n/1e3|0,A[t+4>>2]=n%1e3*1e3*1e3|0,0}var we={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=we.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=we.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return we.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return we.normalize(e.join("/"))},join2:function(e,t){return we.normalize(e+"/"+t)}},xe={resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:_e.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return(t?"/":"")+(e=we.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"))||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=xe.resolve(e).substr(1),t=xe.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),a=o,s=0;s<o;s++)if(r[s]!==i[s]){a=s;break}var l=[];for(s=a;s<r.length;s++)l.push("..");return(l=l.concat(i.slice(a))).join("/")}},ke={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){ke.ttys[e]={input:[],output:[],ops:t},_e.registerDevice(e,ke.stream_ops)},stream_ops:{open:function(e){var t=ke.ttys[e.node.rdev];if(!t)throw new _e.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new _e.ErrnoError(60);for(var o=0,a=0;a<r;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new _e.ErrnoError(29)}if(void 0===s&&0===o)throw new _e.ErrnoError(6);if(null==s)break;o++,t[n+a]=s}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.put_char)throw new _e.ErrnoError(60);try{for(var o=0;o<r;o++)e.tty.ops.put_char(e.tty,t[n+o])}catch(e){throw new _e.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=Ze(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(f(N(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(f(N(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(d(N(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(d(N(e.output,0)),e.output=[])}}},Se={ops_table:null,mount:function(e){return Se.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(_e.isBlkdev(n)||_e.isFIFO(n))throw new _e.ErrnoError(63);Se.ops_table||(Se.ops_table={dir:{node:{getattr:Se.node_ops.getattr,setattr:Se.node_ops.setattr,lookup:Se.node_ops.lookup,mknod:Se.node_ops.mknod,rename:Se.node_ops.rename,unlink:Se.node_ops.unlink,rmdir:Se.node_ops.rmdir,readdir:Se.node_ops.readdir,symlink:Se.node_ops.symlink},stream:{llseek:Se.stream_ops.llseek}},file:{node:{getattr:Se.node_ops.getattr,setattr:Se.node_ops.setattr},stream:{llseek:Se.stream_ops.llseek,read:Se.stream_ops.read,write:Se.stream_ops.write,allocate:Se.stream_ops.allocate,mmap:Se.stream_ops.mmap,msync:Se.stream_ops.msync}},link:{node:{getattr:Se.node_ops.getattr,setattr:Se.node_ops.setattr,readlink:Se.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Se.node_ops.getattr,setattr:Se.node_ops.setattr},stream:_e.chrdev_stream_ops}});var i=_e.createNode(e,t,n,r);return _e.isDir(i.mode)?(i.node_ops=Se.ops_table.dir.node,i.stream_ops=Se.ops_table.dir.stream,i.contents={}):_e.isFile(i.mode)?(i.node_ops=Se.ops_table.file.node,i.stream_ops=Se.ops_table.file.stream,i.usedBytes=0,i.contents=null):_e.isLink(i.mode)?(i.node_ops=Se.ops_table.link.node,i.stream_ops=Se.ops_table.link.stream):_e.isChrdev(i.mode)&&(i.node_ops=Se.ops_table.chrdev.node,i.stream_ops=Se.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],n=0;n<e.usedBytes;++n)t.push(e.contents[n]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){t=Math.max(t,n*(n<1048576?2:1.125)|0),0!=n&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var n=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=_e.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,_e.isDir(e.mode)?t.size=4096:_e.isFile(e.mode)?t.size=e.usedBytes:_e.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Se.resizeFileStorage(e,t.size)},lookup:function(e,t){throw _e.genericErrors[44]},mknod:function(e,t,n,r){return Se.createNode(e,t,n,r)},rename:function(e,t,n){if(_e.isDir(e.mode)){var r;try{r=_e.lookupNode(t,n)}catch(e){}if(r)for(var i in r.contents)throw new _e.ErrnoError(55)}delete e.parent.contents[e.name],e.name=n,t.contents[n]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var n=_e.lookupNode(e,t);for(var r in n.contents)throw new _e.ErrnoError(55);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=Se.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!_e.isLink(e.mode))throw new _e.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,n,r,i){var o=e.node.contents;if(i>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-i,r);if(a>8&&o.subarray)t.set(o.subarray(i,i+a),n);else for(var s=0;s<a;s++)t[n+s]=o[i+s];return a},write:function(e,t,n,r,i,o){if(!r)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(o)return a.contents=t.subarray(n,n+r),a.usedBytes=r,r;if(0===a.usedBytes&&0===i)return a.contents=new Uint8Array(t.subarray(n,n+r)),a.usedBytes=r,r;if(i+r<=a.usedBytes)return a.contents.set(t.subarray(n,n+r),i),r}if(Se.expandFileStorage(a,i+r),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)a.contents[i+s]=t[n+s];return a.usedBytes=Math.max(a.usedBytes,i+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&_e.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new _e.ErrnoError(28);return r},allocate:function(e,t,n){Se.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,i,o,a){if(!_e.isFile(e.node.mode))throw new _e.ErrnoError(43);var s,l,u=e.node.contents;if(2&a||u.buffer!==t.buffer){(i>0||i+r<e.node.usedBytes)&&(u=u.subarray?u.subarray(i,i+r):Array.prototype.slice.call(u,i,i+r)),l=!0;var c=t.buffer==O.buffer;if(!(s=ut(r)))throw new _e.ErrnoError(48);(c?O:t).set(u,s)}else l=!1,s=u.byteOffset;return{ptr:s,allocated:l}},msync:function(e,t,n,r,i){if(!_e.isFile(e.node.mode))throw new _e.ErrnoError(43);return 2&i||Se.stream_ops.write(e,t,0,r,n,!1),0}}},_e={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof _e.ErrnoError))throw e+" : "+function(){var e=function(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}();return t.extraStackTrace&&(e+="\n"+t.extraStackTrace()),e.replace(/\b__Z[\w\d_]+/g,function(e){return e==e?e:e+" ["+e+"]"})}();return ye(e.errno)},lookupPath:function(e,t){if(t=t||{},!(e=xe.resolve(_e.cwd(),e)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var r in n)void 0===t[r]&&(t[r]=n[r]);if(t.recurse_count>8)throw new _e.ErrnoError(32);for(var i=we.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),o=_e.root,a="/",s=0;s<i.length;s++){var l=s===i.length-1;if(l&&t.parent)break;if(o=_e.lookupNode(o,i[s]),a=we.join2(a,i[s]),_e.isMountpoint(o)&&(!l||l&&t.follow_mount)&&(o=o.mounted.root),!l||t.follow)for(var u=0;_e.isLink(o.mode);){var c=_e.readlink(a);if(a=xe.resolve(we.dirname(a),c),o=_e.lookupPath(a,{recurse_count:t.recurse_count}).node,u++>40)throw new _e.ErrnoError(32)}}return{path:a,node:o}},getPath:function(e){for(var t;;){if(_e.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%_e.nameTable.length},hashAddNode:function(e){var t=_e.hashName(e.parent.id,e.name);e.name_next=_e.nameTable[t],_e.nameTable[t]=e},hashRemoveNode:function(e){var t=_e.hashName(e.parent.id,e.name);if(_e.nameTable[t]===e)_e.nameTable[t]=e.name_next;else for(var n=_e.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=_e.mayLookup(e);if(n)throw new _e.ErrnoError(n,e);for(var r=_e.hashName(e.id,t),i=_e.nameTable[r];i;i=i.name_next){var o=i.name;if(i.parent.id===e.id&&o===t)return i}return _e.lookup(e,t)},createNode:function(e,t,n,r){_e.FSNode||(_e.FSNode=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=_e.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},_e.FSNode.prototype={},Object.defineProperties(_e.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return _e.isDir(this.mode)}},isDevice:{get:function(){return _e.isChrdev(this.mode)}}}));var i=new _e.FSNode(e,t,n,r);return _e.hashAddNode(i),i},destroyNode:function(e){_e.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=_e.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return _e.ignorePermissions||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){return _e.nodePermissions(e,"x")||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return _e.lookupNode(e,t),20}catch(e){}return _e.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=_e.lookupNode(e,t)}catch(e){return e.errno}var i=_e.nodePermissions(e,"wx");if(i)return i;if(n){if(!_e.isDir(r.mode))return 54;if(_e.isRoot(r)||_e.getPath(r)===_e.cwd())return 10}else if(_e.isDir(r.mode))return 31;return 0},mayOpen:function(e,t){return e?_e.isLink(e.mode)?32:_e.isDir(e.mode)&&("r"!==_e.flagsToPermissionString(t)||512&t)?31:_e.nodePermissions(e,_e.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||_e.MAX_OPEN_FDS;for(var n=e;n<=t;n++)if(!_e.streams[n])return n;throw new _e.ErrnoError(33)},getStream:function(e){return _e.streams[e]},createStream:function(e,t,n){_e.FSStream||(_e.FSStream=function(){},_e.FSStream.prototype={},Object.defineProperties(_e.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var r=new _e.FSStream;for(var i in e)r[i]=e[i];e=r;var o=_e.nextfd(t,n);return e.fd=o,_e.streams[o]=e,e},closeStream:function(e){_e.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=_e.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new _e.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){_e.devices[e]={stream_ops:t}},getDevice:function(e){return _e.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),_e.syncFSRequests++,_e.syncFSRequests>1&&console.log("warning: "+_e.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=_e.getMounts(_e.root.mount),r=0;function i(e){return _e.syncFSRequests--,t(e)}function o(e){if(e)return o.errored?void 0:(o.errored=!0,i(e));++r>=n.length&&i(null)}n.forEach(function(t){if(!t.type.syncfs)return o(null);t.type.syncfs(t,e,o)})},mount:function(e,t,n){var r,i="/"===n,o=!n;if(i&&_e.root)throw new _e.ErrnoError(10);if(!i&&!o){var a=_e.lookupPath(n,{follow_mount:!1});if(n=a.path,r=a.node,_e.isMountpoint(r))throw new _e.ErrnoError(10);if(!_e.isDir(r.mode))throw new _e.ErrnoError(54)}var s={type:e,opts:t,mountpoint:n,mounts:[]},l=e.mount(s);return l.mount=s,s.root=l,i?_e.root=l:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),l},unmount:function(e){var t=_e.lookupPath(e,{follow_mount:!1});if(!_e.isMountpoint(t.node))throw new _e.ErrnoError(28);var n=t.node,r=n.mounted,i=_e.getMounts(r);Object.keys(_e.nameTable).forEach(function(e){for(var t=_e.nameTable[e];t;){var n=t.name_next;-1!==i.indexOf(t.mount)&&_e.destroyNode(t),t=n}}),n.mounted=null;var o=n.mount.mounts.indexOf(r);n.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=_e.lookupPath(e,{parent:!0}).node,i=we.basename(e);if(!i||"."===i||".."===i)throw new _e.ErrnoError(28);var o=_e.mayCreate(r,i);if(o)throw new _e.ErrnoError(o);if(!r.node_ops.mknod)throw new _e.ErrnoError(63);return r.node_ops.mknod(r,i,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,_e.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,_e.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",i=0;i<n.length;++i)if(n[i]){r+="/"+n[i];try{_e.mkdir(r,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,n){return void 0===n&&(n=t,t=438),t|=8192,_e.mknod(e,t,n)},symlink:function(e,t){if(!xe.resolve(e))throw new _e.ErrnoError(44);var n=_e.lookupPath(t,{parent:!0}).node;if(!n)throw new _e.ErrnoError(44);var r=we.basename(t),i=_e.mayCreate(n,r);if(i)throw new _e.ErrnoError(i);if(!n.node_ops.symlink)throw new _e.ErrnoError(63);return n.node_ops.symlink(n,r,e)},rename:function(e,t){var n,r,i=we.dirname(e),o=we.dirname(t),a=we.basename(e),s=we.basename(t);try{n=_e.lookupPath(e,{parent:!0}).node,r=_e.lookupPath(t,{parent:!0}).node}catch(e){throw new _e.ErrnoError(10)}if(!n||!r)throw new _e.ErrnoError(44);if(n.mount!==r.mount)throw new _e.ErrnoError(75);var l,u=_e.lookupNode(n,a),c=xe.relative(e,o);if("."!==c.charAt(0))throw new _e.ErrnoError(28);if("."!==(c=xe.relative(t,i)).charAt(0))throw new _e.ErrnoError(55);try{l=_e.lookupNode(r,s)}catch(e){}if(u!==l){var f=_e.isDir(u.mode),d=_e.mayDelete(n,a,f);if(d)throw new _e.ErrnoError(d);if(d=l?_e.mayDelete(r,s,f):_e.mayCreate(r,s))throw new _e.ErrnoError(d);if(!n.node_ops.rename)throw new _e.ErrnoError(63);if(_e.isMountpoint(u)||l&&_e.isMountpoint(l))throw new _e.ErrnoError(10);if(r!==n&&(d=_e.nodePermissions(n,"w")))throw new _e.ErrnoError(d);try{_e.trackingDelegate.willMovePath&&_e.trackingDelegate.willMovePath(e,t)}catch(n){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}_e.hashRemoveNode(u);try{n.node_ops.rename(u,r,s)}catch(e){throw e}finally{_e.hashAddNode(u)}try{_e.trackingDelegate.onMovePath&&_e.trackingDelegate.onMovePath(e,t)}catch(n){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}}},rmdir:function(e){var t=_e.lookupPath(e,{parent:!0}).node,n=we.basename(e),r=_e.lookupNode(t,n),i=_e.mayDelete(t,n,!0);if(i)throw new _e.ErrnoError(i);if(!t.node_ops.rmdir)throw new _e.ErrnoError(63);if(_e.isMountpoint(r))throw new _e.ErrnoError(10);try{_e.trackingDelegate.willDeletePath&&_e.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,n),_e.destroyNode(r);try{_e.trackingDelegate.onDeletePath&&_e.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=_e.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new _e.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=_e.lookupPath(e,{parent:!0}).node,n=we.basename(e),r=_e.lookupNode(t,n),i=_e.mayDelete(t,n,!1);if(i)throw new _e.ErrnoError(i);if(!t.node_ops.unlink)throw new _e.ErrnoError(63);if(_e.isMountpoint(r))throw new _e.ErrnoError(10);try{_e.trackingDelegate.willDeletePath&&_e.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.unlink(t,n),_e.destroyNode(r);try{_e.trackingDelegate.onDeletePath&&_e.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=_e.lookupPath(e).node;if(!t)throw new _e.ErrnoError(44);if(!t.node_ops.readlink)throw new _e.ErrnoError(28);return xe.resolve(_e.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var n=_e.lookupPath(e,{follow:!t}).node;if(!n)throw new _e.ErrnoError(44);if(!n.node_ops.getattr)throw new _e.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(e){return _e.stat(e,!0)},chmod:function(e,t,n){var r;if(!(r="string"==typeof e?_e.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new _e.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){_e.chmod(e,t,!0)},fchmod:function(e,t){var n=_e.getStream(e);if(!n)throw new _e.ErrnoError(8);_e.chmod(n.node,t)},chown:function(e,t,n,r){var i;if(!(i="string"==typeof e?_e.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new _e.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,n){_e.chown(e,t,n,!0)},fchown:function(e,t,n){var r=_e.getStream(e);if(!r)throw new _e.ErrnoError(8);_e.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new _e.ErrnoError(28);var n;if(!(n="string"==typeof e?_e.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new _e.ErrnoError(63);if(_e.isDir(n.mode))throw new _e.ErrnoError(31);if(!_e.isFile(n.mode))throw new _e.ErrnoError(28);var r=_e.nodePermissions(n,"w");if(r)throw new _e.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=_e.getStream(e);if(!n)throw new _e.ErrnoError(8);if(0==(2097155&n.flags))throw new _e.ErrnoError(28);_e.truncate(n.node,t)},utime:function(e,t,n){var r=_e.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,n)})},open:function(e,n,r,i,o){if(""===e)throw new _e.ErrnoError(44);var a;if(r=void 0===r?438:r,r=64&(n="string"==typeof n?_e.modeStringToFlags(n):n)?4095&r|32768:0,"object"==typeof e)a=e;else{e=we.normalize(e);try{a=_e.lookupPath(e,{follow:!(131072&n)}).node}catch(e){}}var s=!1;if(64&n)if(a){if(128&n)throw new _e.ErrnoError(20)}else a=_e.mknod(e,r,0),s=!0;if(!a)throw new _e.ErrnoError(44);if(_e.isChrdev(a.mode)&&(n&=-513),65536&n&&!_e.isDir(a.mode))throw new _e.ErrnoError(54);if(!s){var l=_e.mayOpen(a,n);if(l)throw new _e.ErrnoError(l)}512&n&&_e.truncate(a,0),n&=-641;var u=_e.createStream({node:a,path:_e.getPath(a),flags:n,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},i,o);u.stream_ops.open&&u.stream_ops.open(u),!t.logReadFiles||1&n||(_e.readFiles||(_e.readFiles={}),e in _e.readFiles||(_e.readFiles[e]=1,console.log("FS.trackingDelegate error on read file: "+e)));try{if(_e.trackingDelegate.onOpenFile){var c=0;1!=(2097155&n)&&(c|=_e.tracking.openFlags.READ),0!=(2097155&n)&&(c|=_e.tracking.openFlags.WRITE),_e.trackingDelegate.onOpenFile(e,c)}}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return u},close:function(e){if(_e.isClosed(e))throw new _e.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{_e.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(_e.isClosed(e))throw new _e.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new _e.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new _e.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,i){if(r<0||i<0)throw new _e.ErrnoError(28);if(_e.isClosed(e))throw new _e.ErrnoError(8);if(1==(2097155&e.flags))throw new _e.ErrnoError(8);if(_e.isDir(e.node.mode))throw new _e.ErrnoError(31);if(!e.stream_ops.read)throw new _e.ErrnoError(28);var o=void 0!==i;if(o){if(!e.seekable)throw new _e.ErrnoError(70)}else i=e.position;var a=e.stream_ops.read(e,t,n,r,i);return o||(e.position+=a),a},write:function(e,t,n,r,i,o){if(r<0||i<0)throw new _e.ErrnoError(28);if(_e.isClosed(e))throw new _e.ErrnoError(8);if(0==(2097155&e.flags))throw new _e.ErrnoError(8);if(_e.isDir(e.node.mode))throw new _e.ErrnoError(31);if(!e.stream_ops.write)throw new _e.ErrnoError(28);1024&e.flags&&_e.llseek(e,0,2);var a=void 0!==i;if(a){if(!e.seekable)throw new _e.ErrnoError(70)}else i=e.position;var s=e.stream_ops.write(e,t,n,r,i,o);a||(e.position+=s);try{e.path&&_e.trackingDelegate.onWriteToFile&&_e.trackingDelegate.onWriteToFile(e.path)}catch(t){console.log("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+t.message)}return s},allocate:function(e,t,n){if(_e.isClosed(e))throw new _e.ErrnoError(8);if(t<0||n<=0)throw new _e.ErrnoError(28);if(0==(2097155&e.flags))throw new _e.ErrnoError(8);if(!_e.isFile(e.node.mode)&&!_e.isDir(e.node.mode))throw new _e.ErrnoError(43);if(!e.stream_ops.allocate)throw new _e.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,i,o,a){if(0!=(2&o)&&0==(2&a)&&2!=(2097155&e.flags))throw new _e.ErrnoError(2);if(1==(2097155&e.flags))throw new _e.ErrnoError(2);if(!e.stream_ops.mmap)throw new _e.ErrnoError(43);return e.stream_ops.mmap(e,t,n,r,i,o,a)},msync:function(e,t,n,r,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new _e.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile:function(e,t){if((t=t||{}).flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=_e.open(e,t.flags),i=_e.stat(e).size,o=new Uint8Array(i);return _e.read(r,o,0,i,0),"utf8"===t.encoding?n=N(o,0):"binary"===t.encoding&&(n=o),_e.close(r),n},writeFile:function(e,t,n){(n=n||{}).flags=n.flags||"w";var r=_e.open(e,n.flags,n.mode);if("string"==typeof t){var i=new Uint8Array(H(t)+1),o=F(t,i,0,i.length);_e.write(r,i,0,o,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");_e.write(r,t,0,t.byteLength,void 0,n.canOwn)}_e.close(r)},cwd:function(){return _e.currentPath},chdir:function(e){var t=_e.lookupPath(e,{follow:!0});if(null===t.node)throw new _e.ErrnoError(44);if(!_e.isDir(t.node.mode))throw new _e.ErrnoError(54);var n=_e.nodePermissions(t.node,"x");if(n)throw new _e.ErrnoError(n);_e.currentPath=t.path},createDefaultDirectories:function(){_e.mkdir("/tmp"),_e.mkdir("/home"),_e.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(_e.mkdir("/dev"),_e.registerDevice(_e.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,i){return r}}),_e.mkdev("/dev/null",_e.makedev(1,3)),ke.register(_e.makedev(5,0),ke.default_tty_ops),ke.register(_e.makedev(6,0),ke.default_tty1_ops),_e.mkdev("/dev/tty",_e.makedev(5,0)),_e.mkdev("/dev/tty1",_e.makedev(6,0)),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}e||(e=function(){le("random_device")}),_e.createDevice("/dev","random",e),_e.createDevice("/dev","urandom",e),_e.mkdir("/dev/shm"),_e.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){_e.mkdir("/proc"),_e.mkdir("/proc/self"),_e.mkdir("/proc/self/fd"),_e.mount({mount:function(){var e=_e.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var n=+t,r=_e.getStream(n);if(!r)throw new _e.ErrnoError(8);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){t.stdin?_e.createDevice("/dev","stdin",t.stdin):_e.symlink("/dev/tty","/dev/stdin"),t.stdout?_e.createDevice("/dev","stdout",null,t.stdout):_e.symlink("/dev/tty","/dev/stdout"),t.stderr?_e.createDevice("/dev","stderr",null,t.stderr):_e.symlink("/dev/tty1","/dev/stderr"),_e.open("/dev/stdin","r"),_e.open("/dev/stdout","w"),_e.open("/dev/stderr","w")},ensureErrnoError:function(){_e.ErrnoError||(_e.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},_e.ErrnoError.prototype=new Error,_e.ErrnoError.prototype.constructor=_e.ErrnoError,[44].forEach(function(e){_e.genericErrors[e]=new _e.ErrnoError(e),_e.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){_e.ensureErrnoError(),_e.nameTable=new Array(4096),_e.mount(Se,{},"/"),_e.createDefaultDirectories(),_e.createDefaultDevices(),_e.createSpecialDirectories(),_e.filesystems={MEMFS:Se}},init:function(e,n,r){_e.init.initialized=!0,_e.ensureErrnoError(),t.stdin=e||t.stdin,t.stdout=n||t.stdout,t.stderr=r||t.stderr,_e.createStandardStreams()},quit:function(){_e.init.initialized=!1;var e=t._fflush;e&&e(0);for(var n=0;n<_e.streams.length;n++){var r=_e.streams[n];r&&_e.close(r)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},joinPath:function(e,t){var n=we.join.apply(null,e);return t&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(e,t){return xe.resolve(t,e)},standardizePath:function(e){return we.normalize(e)},findObject:function(e,t){var n=_e.analyzePath(e,t);return n.exists?n.object:(ye(n.error),null)},analyzePath:function(e,t){try{e=(r=_e.lookupPath(e,{follow:!t})).path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=_e.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=we.basename(e),r=_e.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(e){n.error=e.errno}return n},createFolder:function(e,t,n,r){var i=we.join2("string"==typeof e?e:_e.getPath(e),t),o=_e.getMode(n,r);return _e.mkdir(i,o)},createPath:function(e,t,n,r){e="string"==typeof e?e:_e.getPath(e);for(var i=t.split("/").reverse();i.length;){var o=i.pop();if(o){var a=we.join2(e,o);try{_e.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,n,r,i){var o=we.join2("string"==typeof e?e:_e.getPath(e),t),a=_e.getMode(r,i);return _e.create(o,a)},createDataFile:function(e,t,n,r,i,o){var a=t?we.join2("string"==typeof e?e:_e.getPath(e),t):e,s=_e.getMode(r,i),l=_e.create(a,s);if(n){if("string"==typeof n){for(var u=new Array(n.length),c=0,f=n.length;c<f;++c)u[c]=n.charCodeAt(c);n=u}_e.chmod(l,146|s);var d=_e.open(l,"w");_e.write(d,n,0,n.length,0,o),_e.close(d),_e.chmod(l,s)}return l},createDevice:function(e,t,n,r){var i=we.join2("string"==typeof e?e:_e.getPath(e),t),o=_e.getMode(!!n,!!r);_e.createDevice.major||(_e.createDevice.major=64);var a=_e.makedev(_e.createDevice.major++,0);return _e.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,i,o){for(var a=0,s=0;s<i;s++){var l;try{l=n()}catch(e){throw new _e.ErrnoError(29)}if(void 0===l&&0===a)throw new _e.ErrnoError(6);if(null==l)break;a++,t[r+s]=l}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,i,o){for(var a=0;a<i;a++)try{r(t[n+a])}catch(e){throw new _e.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),a}}),_e.mkdev(i,o,a)},createLink:function(e,t,n,r,i){var o=we.join2("string"==typeof e?e:_e.getPath(e),t);return _e.symlink(n,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!o)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Ze(o(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||ye(29),t},createLazyFile:function(e,t,n,r,i){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,o=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;i||(a=r);var s=this;s.setDataGetter(function(e){var t=e*a,i=(e+1)*a-1;if(i=Math.min(i,r-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",n,!1),r!==a&&i.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+n+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):Ze(i.responseText||"",!0)}(t,i)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]}),!o&&r||(a=r=1,r=this.getter(0).length,a=r,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a={isDevice:!1,url:n},s=_e.createFile(e,t,a,r,i);a.contents?s.contents=a.contents:a.url&&(s.contents=null,s.url=a.url),Object.defineProperties(s,{usedBytes:{get:function(){return this.contents.length}}});var l={};return Object.keys(s.stream_ops).forEach(function(e){var t=s.stream_ops[e];l[e]=function(){if(!_e.forceLoadFile(s))throw new _e.ErrnoError(29);return t.apply(null,arguments)}}),l.read=function(e,t,n,r,i){if(!_e.forceLoadFile(s))throw new _e.ErrnoError(29);var o=e.node.contents;if(i>=o.length)return 0;var a=Math.min(o.length-i,r);if(o.slice)for(var l=0;l<a;l++)t[n+l]=o[i+l];else for(l=0;l<a;l++)t[n+l]=o.get(i+l);return a},s.stream_ops=l,s},createPreloadedFile:function(e,n,r,i,o,a,s,l,u,c){Browser.init();var f=n?xe.resolve(we.join2(e,n)):e;function d(r){function d(t){c&&c(),l||_e.createDataFile(e,n,t,i,o,u),a&&a(),se()}var h=!1;t.preloadPlugins.forEach(function(e){h||e.canHandle(f)&&(e.handle(r,f,d,function(){s&&s(),se()}),h=!0)}),h||d(r)}ae(),"string"==typeof r?Browser.asyncLoad(r,function(e){d(e)},s):d(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=_e.indexedDB();try{var i=r.open(_e.DB_NAME(),_e.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=function(){console.log("creating db"),i.result.createObjectStore(_e.DB_STORE_NAME)},i.onsuccess=function(){var r=i.result.transaction([_e.DB_STORE_NAME],"readwrite"),o=r.objectStore(_e.DB_STORE_NAME),a=0,s=0,l=e.length;function u(){0==s?t():n()}e.forEach(function(e){var t=o.put(_e.analyzePath(e).object.contents,e);t.onsuccess=function(){++a+s==l&&u()},t.onerror=function(){a+ ++s==l&&u()}}),r.onerror=n},i.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=_e.indexedDB();try{var i=r.open(_e.DB_NAME(),_e.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=n,i.onsuccess=function(){var r=i.result;try{var o=r.transaction([_e.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var a=o.objectStore(_e.DB_STORE_NAME),s=0,l=0,u=e.length;function c(){0==l?t():n()}e.forEach(function(e){var t=a.get(e);t.onsuccess=function(){_e.analyzePath(e).exists&&_e.unlink(e),_e.createDataFile(we.dirname(e),we.basename(e),t.result,!0,!0,!0),++s+l==u&&c()},t.onerror=function(){s+ ++l==u&&c()}}),o.onerror=n},i.onerror=n}},Ee={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var n;if(-100===e)n=_e.cwd();else{var r=_e.getStream(e);if(!r)throw new _e.ErrnoError(8);n=r.path}t=we.join2(n,t)}return t},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&we.normalize(t)!==we.normalize(_e.getPath(e.node)))return-54;throw e}return A[n>>2]=r.dev,A[n+4>>2]=0,A[n+8>>2]=r.ino,A[n+12>>2]=r.mode,A[n+16>>2]=r.nlink,A[n+20>>2]=r.uid,A[n+24>>2]=r.gid,A[n+28>>2]=r.rdev,A[n+32>>2]=0,de=[r.size>>>0,(fe=r.size,+Q(fe)>=1?fe>0?(0|ne(+te(fe/4294967296),4294967295))>>>0:~~+ee((fe-+(~~fe>>>0))/4294967296)>>>0:0)],A[n+40>>2]=de[0],A[n+44>>2]=de[1],A[n+48>>2]=4096,A[n+52>>2]=r.blocks,A[n+56>>2]=r.atime.getTime()/1e3|0,A[n+60>>2]=0,A[n+64>>2]=r.mtime.getTime()/1e3|0,A[n+68>>2]=0,A[n+72>>2]=r.ctime.getTime()/1e3|0,A[n+76>>2]=0,de=[r.ino>>>0,(fe=r.ino,+Q(fe)>=1?fe>0?(0|ne(+te(fe/4294967296),4294967295))>>>0:~~+ee((fe-+(~~fe>>>0))/4294967296)>>>0:0)],A[n+80>>2]=de[0],A[n+84>>2]=de[1],0},doMsync:function(e,t,n,r){var i=new Uint8Array(L.subarray(e,e+n));_e.msync(t,i,0,n,r)},doMkdir:function(e,t){return"/"===(e=we.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),_e.mkdir(e,t,0),0},doMknod:function(e,t,n){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return _e.mknod(e,t,n),0},doReadlink:function(e,t,n){if(n<=0)return-28;var r=_e.readlink(e),i=Math.min(n,H(r)),o=O[t+i];return I(r,t,n+1),O[t+i]=o,i},doAccess:function(e,t){if(-8&t)return-28;var n;if(!(n=_e.lookupPath(e,{follow:!0}).node))return-44;var r="";return 4&t&&(r+="r"),2&t&&(r+="w"),1&t&&(r+="x"),r&&_e.nodePermissions(n,r)?-2:0},doDup:function(e,t,n){var r=_e.getStream(n);return r&&_e.close(r),_e.open(e,t,0,n,n).fd},doReadv:function(e,t,n,r){for(var i=0,o=0;o<n;o++){var a=A[t+8*o>>2],s=A[t+(8*o+4)>>2],l=_e.read(e,O,a,s,r);if(l<0)return-1;if(i+=l,l<s)break}return i},doWritev:function(e,t,n,r){for(var i=0,o=0;o<n;o++){var a=A[t+8*o>>2],s=A[t+(8*o+4)>>2],l=_e.write(e,O,a,s,r);if(l<0)return-1;i+=l}return i},varargs:0,get:function(e){return Ee.varargs+=4,A[Ee.varargs-4>>2]},getStr:function(){return B(Ee.get())},getStreamFromFD:function(e){void 0===e&&(e=Ee.get());var t=_e.getStream(e);if(!t)throw new _e.ErrnoError(8);return t},get64:function(){var e=Ee.get();return Ee.get(),e},getZero:function(){Ee.get()}},Ce={mount:function(e){return t.websocket=t.websocket&&"object"==typeof t.websocket?t.websocket:{},t.websocket._callbacks={},t.websocket.on=function(e,t){return"function"==typeof t&&(this._callbacks[e]=t),this},t.websocket.emit=function(e,t){"function"==typeof this._callbacks[e]&&this._callbacks[e].call(this,t)},_e.createNode(null,"/",16895,0)},createSocket:function(e,t,n){n&&_(1==t==(6==n));var r={family:e,type:t,protocol:n,server:null,error:null,peers:{},pending:[],recv_queue:[],sock_ops:Ce.websocket_sock_ops},i=Ce.nextname(),o=_e.createNode(Ce.root,i,49152,0);o.sock=r;var a=_e.createStream({path:i,node:o,flags:_e.modeStringToFlags("r+"),seekable:!1,stream_ops:Ce.stream_ops});return r.stream=a,r},getSocket:function(e){var t=_e.getStream(e);return t&&_e.isSocket(t.node.mode)?t.node.sock:null},stream_ops:{poll:function(e){var t=e.node.sock;return t.sock_ops.poll(t)},ioctl:function(e,t,n){var r=e.node.sock;return r.sock_ops.ioctl(r,t,n)},read:function(e,t,n,r,i){var o=e.node.sock,a=o.sock_ops.recvmsg(o,r);return a?(t.set(a.buffer,n),a.buffer.length):0},write:function(e,t,n,r,i){var o=e.node.sock;return o.sock_ops.sendmsg(o,t,n,r)},close:function(e){var t=e.node.sock;t.sock_ops.close(t)}},nextname:function(){return Ce.nextname.current||(Ce.nextname.current=0),"socket["+Ce.nextname.current+++"]"},websocket_sock_ops:{createPeer:function(e,n,r){var i;if("object"==typeof n&&(i=n,n=null,r=null),i)if(i._socket)n=i._socket.remoteAddress,r=i._socket.remotePort;else{var o=/ws[s]?:\/\/([^:]+):(\d+)/.exec(i.url);if(!o)throw new Error("WebSocket URL must be in the format ws(s)://address:port");n=o[1],r=parseInt(o[2],10)}else try{var a=t.websocket&&"object"==typeof t.websocket,s="ws:#".replace("#","//");if(a&&"string"==typeof t.websocket.url&&(s=t.websocket.url),"ws://"===s||"wss://"===s){var l=n.split("/");s=s+l[0]+":"+r+"/"+l.slice(1).join("/")}var u="binary";a&&"string"==typeof t.websocket.subprotocol&&(u=t.websocket.subprotocol);var c=void 0;"null"!==u&&(c=u=u.replace(/^ +| +$/g,"").split(/ *, */)),a&&null===t.websocket.subprotocol&&(u="null",c=void 0),(i=new(0,window.WebSocket)(s,c)).binaryType="arraybuffer"}catch(e){throw new _e.ErrnoError(23)}var f={addr:n,port:r,socket:i,dgram_send_queue:[]};return Ce.websocket_sock_ops.addPeer(e,f),Ce.websocket_sock_ops.handlePeerEvents(e,f),2===e.type&&void 0!==e.sport&&f.dgram_send_queue.push(new Uint8Array([255,255,255,255,"p".charCodeAt(0),"o".charCodeAt(0),"r".charCodeAt(0),"t".charCodeAt(0),(65280&e.sport)>>8,255&e.sport])),f},getPeer:function(e,t,n){return e.peers[t+":"+n]},addPeer:function(e,t){e.peers[t.addr+":"+t.port]=t},removePeer:function(e,t){delete e.peers[t.addr+":"+t.port]},handlePeerEvents:function(e,n){var r=!0;function i(i){if("string"==typeof i)i=(new TextEncoder).encode(i);else{if(_(void 0!==i.byteLength),0==i.byteLength)return;i=new Uint8Array(i)}var o=r;if(r=!1,o&&10===i.length&&255===i[0]&&255===i[1]&&255===i[2]&&255===i[3]&&i[4]==="p".charCodeAt(0)&&i[5]==="o".charCodeAt(0)&&i[6]==="r".charCodeAt(0)&&i[7]==="t".charCodeAt(0)){var a=i[8]<<8|i[9];return Ce.websocket_sock_ops.removePeer(e,n),n.port=a,void Ce.websocket_sock_ops.addPeer(e,n)}e.recv_queue.push({addr:n.addr,port:n.port,data:i}),t.websocket.emit("message",e.stream.fd)}n.socket.onopen=function(){t.websocket.emit("open",e.stream.fd);try{for(var r=n.dgram_send_queue.shift();r;)n.socket.send(r),r=n.dgram_send_queue.shift()}catch(e){n.socket.close()}},n.socket.onclose=function(){t.websocket.emit("close",e.stream.fd)},n.socket.onmessage=function(e){i(e.data)},n.socket.onerror=function(n){e.error=14,t.websocket.emit("error",[e.stream.fd,e.error,"ECONNREFUSED: Connection refused"])}},poll:function(e){if(1===e.type&&e.server)return e.pending.length?65:0;var t=0,n=1===e.type?Ce.websocket_sock_ops.getPeer(e,e.daddr,e.dport):null;return(e.recv_queue.length||!n||n&&n.socket.readyState===n.socket.CLOSING||n&&n.socket.readyState===n.socket.CLOSED)&&(t|=65),(!n||n&&n.socket.readyState===n.socket.OPEN)&&(t|=4),(n&&n.socket.readyState===n.socket.CLOSING||n&&n.socket.readyState===n.socket.CLOSED)&&(t|=16),t},ioctl:function(e,t,n){switch(t){case 21531:var r=0;return e.recv_queue.length&&(r=e.recv_queue[0].data.length),A[n>>2]=r,0;default:return 28}},close:function(e){if(e.server){try{e.server.close()}catch(e){}e.server=null}for(var t=Object.keys(e.peers),n=0;n<t.length;n++){var r=e.peers[t[n]];try{r.socket.close()}catch(e){}Ce.websocket_sock_ops.removePeer(e,r)}return 0},bind:function(e,t,n){if(void 0!==e.saddr||void 0!==e.sport)throw new _e.ErrnoError(28);if(e.saddr=t,e.sport=n,2===e.type){e.server&&(e.server.close(),e.server=null);try{e.sock_ops.listen(e,0)}catch(e){if(!(e instanceof _e.ErrnoError))throw e;if(138!==e.errno)throw e}}},connect:function(e,t,n){if(e.server)throw new _e.ErrnoError(138);if(void 0!==e.daddr&&void 0!==e.dport){var r=Ce.websocket_sock_ops.getPeer(e,e.daddr,e.dport);if(r)throw r.socket.readyState===r.socket.CONNECTING?new _e.ErrnoError(7):new _e.ErrnoError(30)}var i=Ce.websocket_sock_ops.createPeer(e,t,n);throw e.daddr=i.addr,e.dport=i.port,new _e.ErrnoError(26)},listen:function(e,t){throw new _e.ErrnoError(138)},accept:function(e){if(!e.server)throw new _e.ErrnoError(28);var t=e.pending.shift();return t.stream.flags=e.stream.flags,t},getname:function(e,t){var n,r;if(t){if(void 0===e.daddr||void 0===e.dport)throw new _e.ErrnoError(53);n=e.daddr,r=e.dport}else n=e.saddr||0,r=e.sport||0;return{addr:n,port:r}},sendmsg:function(e,t,n,r,i,o){if(2===e.type){if(void 0!==i&&void 0!==o||(i=e.daddr,o=e.dport),void 0===i||void 0===o)throw new _e.ErrnoError(17)}else i=e.daddr,o=e.dport;var a,s=Ce.websocket_sock_ops.getPeer(e,i,o);if(1===e.type){if(!s||s.socket.readyState===s.socket.CLOSING||s.socket.readyState===s.socket.CLOSED)throw new _e.ErrnoError(53);if(s.socket.readyState===s.socket.CONNECTING)throw new _e.ErrnoError(6)}if(ArrayBuffer.isView(t)&&(n+=t.byteOffset,t=t.buffer),a=t.slice(n,n+r),2===e.type&&(!s||s.socket.readyState!==s.socket.OPEN))return s&&s.socket.readyState!==s.socket.CLOSING&&s.socket.readyState!==s.socket.CLOSED||(s=Ce.websocket_sock_ops.createPeer(e,i,o)),s.dgram_send_queue.push(a),r;try{return s.socket.send(a),r}catch(e){throw new _e.ErrnoError(28)}},recvmsg:function(e,t){if(1===e.type&&e.server)throw new _e.ErrnoError(53);var n=e.recv_queue.shift();if(!n){if(1===e.type){var r=Ce.websocket_sock_ops.getPeer(e,e.daddr,e.dport);if(r){if(r.socket.readyState===r.socket.CLOSING||r.socket.readyState===r.socket.CLOSED)return null;throw new _e.ErrnoError(6)}throw new _e.ErrnoError(53)}throw new _e.ErrnoError(6)}var i=n.data.byteLength||n.data.length,o=n.data.byteOffset||0,a=n.data.buffer||n.data,s=Math.min(t,i),l={buffer:new Uint8Array(a,o,s),addr:n.addr,port:n.port};if(1===e.type&&s<i){var u=i-s;n.data=new Uint8Array(a,o+s,u),e.recv_queue.unshift(n)}return l}}};function Te(e){for(var t=e.split("."),n=0;n<4;n++){var r=Number(t[n]);if(isNaN(r))return null;t[n]=r}return(t[0]|t[1]<<8|t[2]<<16|t[3]<<24)>>>0}function Oe(e){var t,n,r,i,o=[];if(!/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i.test(e))return null;if("::"===e)return[0,0,0,0,0,0,0,0];for((e=0===e.indexOf("::")?e.replace("::","Z:"):e.replace("::",":Z:")).indexOf(".")>0?((t=(e=e.replace(new RegExp("[.]","g"),":")).split(":"))[t.length-4]=parseInt(t[t.length-4])+256*parseInt(t[t.length-3]),t[t.length-3]=parseInt(t[t.length-2])+256*parseInt(t[t.length-1]),t=t.slice(0,t.length-2)):t=e.split(":"),r=0,i=0,n=0;n<t.length;n++)if("string"==typeof t[n])if("Z"===t[n]){for(i=0;i<8-t.length+1;i++)o[n+i]=0;r=i-1}else o[n+r]=st(parseInt(t[n],16));else o[n+r]=t[n];return[o[1]<<16|o[0],o[3]<<16|o[2],o[5]<<16|o[4],o[7]<<16|o[6]]}var Le={address_map:{id:1,addrs:{},names:{}},lookup_name:function(e){var t,n=Te(e);if(null!==n)return e;if(null!==(n=Oe(e)))return e;if(Le.address_map.addrs[e])t=Le.address_map.addrs[e];else{var r=Le.address_map.id++;_(r<65535,"exceeded max address mappings of 65535"),t="172.29."+(255&r)+"."+(65280&r),Le.address_map.names[t]=e,Le.address_map.addrs[e]=t}return t},lookup_addr:function(e){return Le.address_map.names[e]?Le.address_map.names[e]:null}};function Pe(e){return(255&e)+"."+(e>>8&255)+"."+(e>>16&255)+"."+(e>>24&255)}function Me(e,t){var n,r=P[e>>1],i=ht(M[e+2>>1]);switch(r){case 2:if(16!==t)return{errno:28};n=Pe(n=A[e+4>>2]);break;case 10:if(28!==t)return{errno:28};n=function(e){var t="",n=0,r=0,i=0,o=0,a=0,s=0,l=[65535&e[0],e[0]>>16,65535&e[1],e[1]>>16,65535&e[2],e[2]>>16,65535&e[3],e[3]>>16],u=!0,c="";for(s=0;s<5;s++)if(0!==l[s]){u=!1;break}if(u){if(c=Pe(l[6]|l[7]<<16),-1===l[5])return(t="::ffff:")+c;if(0===l[5])return t="::","0.0.0.0"===c&&(c=""),"0.0.0.1"===c&&(c="1"),t+c}for(n=0;n<8;n++)0===l[n]&&(n-i>1&&(a=0),i=n,a++),a>r&&(o=n-(r=a)+1);for(n=0;n<8;n++)r>1&&0===l[n]&&n>=o&&n<o+r?n===o&&(t+=":",0===o&&(t+=":")):(t+=Number(ht(65535&l[n])).toString(16),t+=n<7?":":"");return t}(n=[A[e+8>>2],A[e+12>>2],A[e+16>>2],A[e+20>>2]]);break;default:return{errno:5}}return{family:r,addr:n,port:i}}function Ae(e,t,n,r){switch(t){case 2:n=Te(n),P[e>>1]=t,A[e+4>>2]=n,P[e+2>>1]=st(r);break;case 10:n=Oe(n),A[e>>2]=t,A[e+8>>2]=n[0],A[e+12>>2]=n[1],A[e+16>>2]=n[2],A[e+20>>2]=n[3],P[e+2>>1]=st(r),A[e+4>>2]=0,A[e+24>>2]=0;break;default:return{errno:5}}return{}}function Re(e,t){Ee.varargs=t;try{return 0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}}var De={BUCKET_BUFFER_SIZE:8192,mount:function(e){return _e.createNode(null,"/",16895,0)},createPipe:function(){var e={buckets:[]};e.buckets.push({buffer:new Uint8Array(De.BUCKET_BUFFER_SIZE),offset:0,roffset:0});var t=De.nextname(),n=De.nextname(),r=_e.createNode(De.root,t,4096,0),i=_e.createNode(De.root,n,4096,0);r.pipe=e,i.pipe=e;var o=_e.createStream({path:t,node:r,flags:_e.modeStringToFlags("r"),seekable:!1,stream_ops:De.stream_ops});r.stream=o;var a=_e.createStream({path:n,node:i,flags:_e.modeStringToFlags("w"),seekable:!1,stream_ops:De.stream_ops});return i.stream=a,{readable_fd:o.fd,writable_fd:a.fd}},stream_ops:{poll:function(e){var t=e.node.pipe;if(1==(2097155&e.flags))return 260;if(t.buckets.length>0)for(var n=0;n<t.buckets.length;n++){var r=t.buckets[n];if(r.offset-r.roffset>0)return 65}return 0},ioctl:function(e,t,n){return 28},fsync:function(e){return 28},read:function(e,t,n,r,i){for(var o=e.node.pipe,a=0,s=0;s<o.buckets.length;s++){var l=o.buckets[s];a+=l.offset-l.roffset}_(t instanceof ArrayBuffer||ArrayBuffer.isView(t));var u=t.subarray(n,n+r);if(r<=0)return 0;if(0==a)throw new _e.ErrnoError(6);var c=Math.min(a,r),f=c,d=0;for(s=0;s<o.buckets.length;s++){var h=o.buckets[s],p=h.offset-h.roffset;if(c<=p){var m=h.buffer.subarray(h.roffset,h.offset);c<p?(m=m.subarray(0,c),h.roffset+=c):d++,u.set(m);break}m=h.buffer.subarray(h.roffset,h.offset),u.set(m),u=u.subarray(m.byteLength),c-=m.byteLength,d++}return d&&d==o.buckets.length&&(d--,o.buckets[d].offset=0,o.buckets[d].roffset=0),o.buckets.splice(0,d),f},write:function(e,t,n,r,i){var o=e.node.pipe;_(t instanceof ArrayBuffer||ArrayBuffer.isView(t));var a=t.subarray(n,n+r),s=a.byteLength;if(s<=0)return 0;var l=null;0==o.buckets.length?(l={buffer:new Uint8Array(De.BUCKET_BUFFER_SIZE),offset:0,roffset:0},o.buckets.push(l)):l=o.buckets[o.buckets.length-1],_(l.offset<=De.BUCKET_BUFFER_SIZE);var u=De.BUCKET_BUFFER_SIZE-l.offset;if(u>=s)return l.buffer.set(a,l.offset),l.offset+=s,s;u>0&&(l.buffer.set(a.subarray(0,u),l.offset),l.offset+=u,a=a.subarray(u,a.byteLength));for(var c=a.byteLength/De.BUCKET_BUFFER_SIZE|0,f=a.byteLength%De.BUCKET_BUFFER_SIZE,d=0;d<c;d++){var h={buffer:new Uint8Array(De.BUCKET_BUFFER_SIZE),offset:De.BUCKET_BUFFER_SIZE,roffset:0};o.buckets.push(h),h.buffer.set(a.subarray(0,De.BUCKET_BUFFER_SIZE)),a=a.subarray(De.BUCKET_BUFFER_SIZE,a.byteLength)}return f>0&&(h={buffer:new Uint8Array(De.BUCKET_BUFFER_SIZE),offset:a.byteLength,roffset:0},o.buckets.push(h),h.buffer.set(a)),s},close:function(e){e.node.pipe.buckets=null}},nextname:function(){return De.nextname.current||(De.nextname.current=0),"pipe["+De.nextname.current+++"]"}};function je(e){At(e)}function Ne(){if(!Ne.called){Ne.called=!0,A[it()>>2]=60*(new Date).getTimezoneOffset();var e=(new Date).getFullYear(),t=new Date(e,0,1),n=new Date(e,6,1);A[nt()>>2]=Number(t.getTimezoneOffset()!=n.getTimezoneOffset());var r=s(t),i=s(n),o=E(Ze(r),"i8",0),a=E(Ze(i),"i8",0);n.getTimezoneOffset()<t.getTimezoneOffset()?(A[ot()>>2]=o,A[ot()+4>>2]=a):(A[ot()>>2]=a,A[ot()+4>>2]=o)}function s(e){var t=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return t?t[1]:"GMT"}}function Be(){le("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function Fe(){return O.length}function Ie(){return ye(45),-1}function He(e){e=B(e);var t=ut(20),n=ut(e.length+1);I(e,n,e.length+1),A[t>>2]=n;var r=ut(4);A[r>>2]=0,A[t+4>>2]=r,A[t+8>>2]=2,A[t+12>>2]=4;var i=ut(12);return A[i>>2]=i+8,A[i+4>>2]=0,A[i+8>>2]=Te(Le.lookup_name(e)),A[t+16>>2]=i,t}var ze={list:[],map:{}};function We(e){function t(e,t,n){var r=ut(e.length+1);q(e,r);for(var i=0,o=n.length,a=ut(4*(o+1)),s=0;s<o;s++,i+=4){var l=n[s],u=ut(l.length+1);q(l,u),A[a+i>>2]=u}A[a+i>>2]=0;var c=ut(12);return A[c>>2]=r,A[c+4>>2]=a,A[c+8>>2]=t,c}var n=ze.list,r=ze.map;if(0===n.length){var i=t("tcp",6,["TCP"]);n.push(i),r.tcp=r[6]=i,i=t("udp",17,["UDP"]),n.push(i),r.udp=r[17]=i}We.index=0}var qe=(I("GMT",2209536,4),2209536);function Ue(){var e=Ue;return e.LLVM_SAVEDSTACKS||(e.LLVM_SAVEDSTACKS=[]),e.LLVM_SAVEDSTACKS.push(vt()),e.LLVM_SAVEDSTACKS.length-1}function Ve(e){var t=e/1e3;if(self.performance&&self.performance.now)for(var n=self.performance.now();self.performance.now()-n<t;);else for(n=Date.now();Date.now()-n<t;);return 0}function Ye(e){return e%4==0&&(e%100!=0||e%400==0)}function Ge(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}t._usleep=Ve;var $e=[31,29,31,30,31,30,31,31,30,31,30,31],Ke=[31,28,31,30,31,30,31,31,30,31,30,31];function Xe(e,t){for(var n=new Date(e.getTime());t>0;){var r=Ye(n.getFullYear()),i=n.getMonth(),o=(r?$e:Ke)[i];if(!(t>o-n.getDate()))return n.setDate(n.getDate()+t),n;t-=o-n.getDate()+1,n.setDate(1),i<11?n.setMonth(i+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}function Ze(e,t,n){var r=n>0?n:H(e)+1,i=new Array(r),o=F(e,i,0,i.length);return t&&(i.length=o),i}ve="undefined"!=typeof dateNow?dateNow:"object"==typeof performance&&performance&&"function"==typeof performance.now?function(){return performance.now()}:Date.now,_e.staticInit(),t.FS_createFolder=_e.createFolder,t.FS_createPath=_e.createPath,t.FS_createDataFile=_e.createDataFile,t.FS_createPreloadedFile=_e.createPreloadedFile,t.FS_createLazyFile=_e.createLazyFile,t.FS_createLink=_e.createLink,t.FS_createDevice=_e.createDevice,t.FS_unlink=_e.unlink;var Je={D:function(e,t,n,r){le("Assertion failed: "+B(e)+", at: "+[t?B(t):"unknown filename",n,r?B(r):"unknown function"])},nb:ge,mb:function(e,t){return be(e,t)},s:function(){},lb:function(e,t){return ye(63),-1},kb:function(e,t){Ee.varargs=t;try{var n=Ee.getStr();return _e.unlink(n),0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},o:function(e,t){Ee.varargs=t;try{var n=Ee.get(),r=Ee.get();Ee.varargs=r;var i=function(){var e=Ce.getSocket(Ee.get());if(!e)throw new _e.ErrnoError(8);return e},o=function(e){var t=Ee.get(),n=Ee.get();if(e&&0===t)return null;var r=Me(t,n);if(r.errno)throw new _e.ErrnoError(r.errno);return r.addr=Le.lookup_addr(r.addr)||r.addr,r};switch(n){case 1:var a=Ee.get(),s=Ee.get(),l=Ee.get();return(u=Ce.createSocket(a,s,l)).stream.fd;case 2:var u=i(),c=o();return u.sock_ops.bind(u,c.addr,c.port),0;case 3:return u=i(),c=o(),u.sock_ops.connect(u,c.addr,c.port),0;case 4:u=i();var f=Ee.get();return u.sock_ops.listen(u,f),0;case 5:u=i();var d=Ee.get(),h=(Ee.get(),u.sock_ops.accept(u));return d&&Ae(d,h.family,Le.lookup_name(h.daddr),h.dport),h.stream.fd;case 6:return u=i(),d=Ee.get(),Ee.get(),Ae(d,u.family,Le.lookup_name(u.saddr||"0.0.0.0"),u.sport),0;case 7:return u=i(),d=Ee.get(),Ee.get(),u.daddr?(Ae(d,u.family,Le.lookup_name(u.daddr),u.dport),0):-53;case 11:u=i();var p=Ee.get(),m=Ee.get(),g=(Ee.get(),o(!0));return g?u.sock_ops.sendmsg(u,O,p,m,g.addr,g.port):_e.write(u.stream,O,p,m);case 12:u=i();var v=Ee.get(),y=Ee.get();return Ee.get(),d=Ee.get(),Ee.get(),(F=u.sock_ops.recvmsg(u,y))?(d&&Ae(d,u.family,Le.lookup_name(F.addr),F.port),L.set(F.buffer,v),F.buffer.byteLength):0;case 14:return-50;case 15:u=i();var b=Ee.get(),w=Ee.get(),x=Ee.get(),k=Ee.get();return 1===b&&4===w?(A[x>>2]=u.error,A[k>>2]=4,u.error=null,0):-50;case 16:u=i(),p=Ee.get(),Ee.get();var S,_=A[p+8>>2],E=A[p+12>>2],C=A[p>>2],T=A[p+4>>2];if(C){if((c=Me(C,T)).errno)return-c.errno;S=c.port,d=Le.lookup_addr(c.addr)||c.addr}for(var P=0,M=0;M<E;M++)P+=A[_+(8*M+4)>>2];var R=new Uint8Array(P),D=0;for(M=0;M<E;M++)for(var j=A[_+(8*M+0)>>2],N=A[_+(8*M+4)>>2],B=0;B<N;B++)R[D++]=O[j+B>>0];return u.sock_ops.sendmsg(u,R,0,P,d,S);case 17:for(u=i(),p=Ee.get(),Ee.get(),_=A[p+8>>2],E=A[p+12>>2],P=0,M=0;M<E;M++)P+=A[_+(8*M+4)>>2];var F;if(!(F=u.sock_ops.recvmsg(u,P)))return 0;(C=A[p>>2])&&Ae(C,u.family,Le.lookup_name(F.addr),F.port);var I=0,H=F.buffer.byteLength;for(M=0;H>0&&M<E;M++)j=A[_+(8*M+0)>>2],(N=A[_+(8*M+4)>>2])&&(m=Math.min(N,H),v=F.buffer.subarray(I,I+m),L.set(v,j+I),I+=m,H-=m);return I;default:return-52}}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},jb:function(e,t){Ee.varargs=t;try{le("cannot wait on child processes")}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},ib:function(e,t){Ee.varargs=t;try{var n=Ee.getStr();return _e.chdir(n),0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},hb:function(e,t){Ee.varargs=t;try{var n=Ee.get();if(!n)return-21;var r={sysname:0,nodename:65,domainname:325,machine:260,version:195,release:130,__size__:390},i=function(e,t){q(t,n+r[e])};return i("sysname","Emscripten"),i("nodename","emscripten"),i("release","1.0"),i("version","#1"),i("machine","x86-JS"),0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},gb:function(e,t){Ee.varargs=t;try{for(var n=Ee.get(),r=Ee.get(),i=Ee.get(),o=Ee.get(),a=(Ee.get(),0),s=r?A[r>>2]:0,l=r?A[r+4>>2]:0,u=i?A[i>>2]:0,c=i?A[i+4>>2]:0,f=o?A[o>>2]:0,d=o?A[o+4>>2]:0,h=0,p=0,m=0,g=0,v=0,y=0,b=(r?A[r>>2]:0)|(i?A[i>>2]:0)|(o?A[o>>2]:0),w=(r?A[r+4>>2]:0)|(i?A[i+4>>2]:0)|(o?A[o+4>>2]:0),x=function(e,t,n,r){return e<32?t&r:n&r},k=0;k<n;k++){var S=1<<k%32;if(x(k,b,w,S)){var _=_e.getStream(k);if(!_)throw new _e.ErrnoError(8);var E=Ee.DEFAULT_POLLMASK;_.stream_ops.poll&&(E=_.stream_ops.poll(_)),1&E&&x(k,s,l,S)&&(k<32?h|=S:p|=S,a++),4&E&&x(k,u,c,S)&&(k<32?m|=S:g|=S,a++),2&E&&x(k,f,d,S)&&(k<32?v|=S:y|=S,a++)}}return r&&(A[r>>2]=h,A[r+4>>2]=p),i&&(A[i>>2]=m,A[i+4>>2]=g),o&&(A[o>>2]=v,A[o+4>>2]=y),a}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},fb:function(e,t){Ee.varargs=t;try{var n=Ee.getStr(),r=Ee.get();return _e.chmod(n,r),0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},eb:function(e,t){Ee.varargs=t;try{for(var n=Ee.get(),r=Ee.get(),i=(Ee.get(),0),o=0;o<r;o++){var a=n+8*o,s=A[a>>2],l=P[a+4>>1],u=32,c=_e.getStream(s);c&&(u=Ee.DEFAULT_POLLMASK,c.stream_ops.poll&&(u=c.stream_ops.poll(c))),(u&=24|l)&&i++,P[a+6>>1]=u}return i}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},db:function(e,t){Ee.varargs=t;try{var n=Ee.get(),r=Ee.get();if(0===r)return-28;var i=_e.cwd();return r<H(i)+1?-68:(I(i,n,r),n)}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},cb:function(e,t){Ee.varargs=t;try{return function(e,t,n,r,i,o){var a;o<<=12;var s=!1;if(0!=(16&r)&&e%16384!=0)return-28;if(0!=(32&r)){if(!(a=ct(16384,t)))return-48;dt(a,0,t),s=!0}else{var l=_e.getStream(i);if(!l)return-8;var u=_e.mmap(l,L,e,t,o,n,r);a=u.ptr,s=u.allocated}return Ee.mappings[a]={malloc:a,len:t,allocated:s,fd:i,flags:r},a}(Ee.get(),Ee.get(),Ee.get(),Ee.get(),Ee.get(),Ee.get())}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},bb:function(e,t){Ee.varargs=t;try{var n=Ee.get(),r=(Ee.getZero(),Ee.get64());return _e.ftruncate(n,r),0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},ba:function(e,t){Ee.varargs=t;try{var n=Ee.getStr(),r=Ee.get();return Ee.doStat(_e.stat,n,r)}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},ab:function(e,t){Ee.varargs=t;try{var n=Ee.getStr(),r=Ee.get();return Ee.doStat(_e.lstat,n,r)}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},$a:function(e,t){Ee.varargs=t;try{var n=Ee.getStreamFromFD(),r=Ee.get();return Ee.doStat(_e.stat,n.path,r)}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},_a:function(e,t){Ee.varargs=t;try{var n=Ee.getStr(),r=Ee.get(),i=Ee.get();return _e.chown(n,r,i),0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Za:function(e,t){return Re(0,t)},Ya:function(e,t){Ee.varargs=t;try{return 42}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Xa:function(e,t){return Re(0,t)},Wa:function(e,t){Ee.varargs=t;try{var n=Ee.get(),r=Ee.get();return n<1?-28:(A[r>>2]=0,1)}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Va:function(e,t){Ee.varargs=t;try{var n=Ee.getStr(),r=Ee.get(),i=Ee.get();return _e.chown(n,r,i),0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Ua:function(e,t){Ee.varargs=t;try{return 0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Ta:function(e,t){Ee.varargs=t;try{var n=Ee.getStreamFromFD(),r=Ee.get(),i=Ee.get();n.getdents||(n.getdents=_e.readdir(n.path));for(var o=0,a=_e.llseek(n,0,1),s=Math.floor(a/280);s<n.getdents.length&&o+280<=i;){var l,u,c=n.getdents[s];if("."===c[0])l=1,u=4;else{var f=_e.lookupNode(n.node,c);l=f.id,u=_e.isChrdev(f.mode)?2:_e.isDir(f.mode)?4:_e.isLink(f.mode)?10:8}de=[l>>>0,(fe=l,+Q(fe)>=1?fe>0?(0|ne(+te(fe/4294967296),4294967295))>>>0:~~+ee((fe-+(~~fe>>>0))/4294967296)>>>0:0)],A[r+o>>2]=de[0],A[r+o+4>>2]=de[1],de=[280*(s+1)>>>0,(fe=280*(s+1),+Q(fe)>=1?fe>0?(0|ne(+te(fe/4294967296),4294967295))>>>0:~~+ee((fe-+(~~fe>>>0))/4294967296)>>>0:0)],A[r+o+8>>2]=de[0],A[r+o+12>>2]=de[1],P[r+o+16>>1]=280,O[r+o+18>>0]=u,I(c,r+o+19,256),o+=280,s+=1}return _e.llseek(n,280*s,0),o}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},n:function(e,t){Ee.varargs=t;try{var n=Ee.getStreamFromFD();switch(Ee.get()){case 0:return(r=Ee.get())<0?-28:_e.open(n.path,n.flags,0,r).fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var r=Ee.get();return n.flags|=r,0;case 12:return r=Ee.get(),P[r+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return ye(28),-1;default:return-28}}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Sa:function(e,t){Ee.varargs=t;try{Ee.getStr(),Ee.get();var n=Ee.get();return A[n+4>>2]=4096,A[n+40>>2]=4096,A[n+8>>2]=1e6,A[n+12>>2]=5e5,A[n+16>>2]=5e5,A[n+20>>2]=_e.nextInode,A[n+24>>2]=1e6,A[n+28>>2]=42,A[n+44>>2]=2,A[n+36>>2]=255,0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Ra:function(e,t){Ee.varargs=t;try{var n=Ee.getStreamFromFD(),r=Ee.get(),i=Ee.get();return _e.read(n,O,r,i)}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Qa:function(e,t){Ee.varargs=t;try{var n=Ee.getStr(),r=Ee.get();return Ee.doAccess(n,r)}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Pa:function(e,t){Ee.varargs=t;try{return Ee.get(),-63}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Oa:function(e,t){Ee.varargs=t;try{var n=Ee.getStr(),r=Ee.getStr();return _e.rename(n,r),0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Na:function(e,t){Ee.varargs=t;try{var n=Ee.getStr(),r=Ee.get();return Ee.doMkdir(n,r)}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Ma:function(e,t){Ee.varargs=t;try{var n=Ee.getStreamFromFD(),r=Ee.get(),i=Ee.get();return _e.write(n,O,r,i)}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},La:function(e,t){Ee.varargs=t;try{var n=Ee.getStr();return _e.rmdir(n),0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Ka:function(e,t){Ee.varargs=t;try{var n=Ee.getStreamFromFD();return _e.open(n.path,n.flags,0).fd}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Ja:function(e,t){Ee.varargs=t;try{var n=Ee.get();if(0==n)throw new _e.ErrnoError(21);var r=De.createPipe();return A[n>>2]=r.readable_fd,A[n+4>>2]=r.writable_fd,0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Q:function(e,t){Ee.varargs=t;try{var n=Ee.getStr(),r=Ee.get(),i=Ee.get();return _e.open(n,r,i).fd}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Ia:function(e,t){Ee.varargs=t;try{var n=Ee.getStreamFromFD(),r=Ee.get();switch(r){case 21509:case 21505:return n.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var i=Ee.get();return A[i>>2]=0,0;case 21520:return n.tty?-28:-59;case 21531:return i=Ee.get(),_e.ioctl(n,r,i);case 21523:case 21524:return n.tty?0:-59;default:le("bad ioctl syscall "+r)}}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Ha:function(e,t){Ee.varargs=t;try{var n=Ee.get(),r=Ee.umask;return Ee.umask=n,r}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Ga:function(e,t){Ee.varargs=t;try{var n=Ee.getStreamFromFD(),r=Ee.get();return n.fd===r?r:Ee.doDup(n.path,n.flags,r)}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Fa:function(e,t){Ee.varargs=t;try{Ee.get();var n=Ee.get();return dt(n,0,136),A[n>>2]=1,A[n+4>>2]=2,A[n+8>>2]=3,A[n+12>>2]=4,0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Ea:function(e,t){Ee.varargs=t;try{var n=Ee.getStr(),r=Ee.getStr();return _e.symlink(n,r),0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Da:function(e,t){Ee.varargs=t;try{var n=Ee.getStr(),r=Ee.get(),i=Ee.get();return Ee.doReadlink(n,r,i)}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Ca:function(e,t){Ee.varargs=t;try{return Ee.get(),Ee.get(),-34}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},Ba:function(e,t){Ee.varargs=t;try{return function(e,t){if(-1===e||0===t)return-28;var n=Ee.mappings[e];if(!n)return 0;if(t===n.len){var r=_e.getStream(n.fd);Ee.doMsync(e,r,t,n.flags),_e.munmap(r),Ee.mappings[e]=null,n.allocated&&at(n.malloc)}return 0}(Ee.get(),Ee.get())}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),-e.errno}},p:function(){},C:function(){return function(e){try{var t=Ee.getStreamFromFD(e);return _e.close(t),0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),e.errno}}.apply(null,arguments)},aa:function(){return function(e,t){try{var n=Ee.getStreamFromFD(e),r=n.tty?2:_e.isDir(n.mode)?3:_e.isLink(n.mode)?7:4;return O[t>>0]=r,0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),e.errno}}.apply(null,arguments)},Aa:function(){return function(e,t,n,r){try{var i=Ee.getStreamFromFD(e),o=Ee.doReadv(i,t,n);return A[r>>2]=o,0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),e.errno}}.apply(null,arguments)},pb:function(){return function(e,t,n,r,i){try{var o=Ee.getStreamFromFD(e),a=4294967296*n+(t>>>0);return a<=-9007199254740992||a>=9007199254740992?-61:(_e.llseek(o,a,r),de=[o.position>>>0,(fe=o.position,+Q(fe)>=1?fe>0?(0|ne(+te(fe/4294967296),4294967295))>>>0:~~+ee((fe-+(~~fe>>>0))/4294967296)>>>0:0)],A[i>>2]=de[0],A[i+4>>2]=de[1],o.getdents&&0===a&&0===r&&(o.getdents=null),0)}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),e.errno}}.apply(null,arguments)},za:function(){return function(e,t,n,r){try{var i=Ee.getStreamFromFD(e),o=Ee.doWritev(i,t,n);return A[r>>2]=o,0}catch(e){return void 0!==_e&&e instanceof _e.ErrnoError||le(e),e.errno}}.apply(null,arguments)},J:function(e){return je(e)},__memory_base:1024,__table_base:0,$:function(){le()},ya:function(e,t){var n=A[e>>2],r=A[e+4>>2],i=A[e+8>>2],o=A[e+12>>2],a=A[e+16>>2],s=A[e+20>>2];return I(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][A[e+24>>2]]+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a]+(o<10?"  ":" ")+o+(i<10?" 0":" ")+i+(r<10?":0":":")+r+(n<10?":0":":")+n+" "+(1900+s)+"\n",t,26),t},xa:function(e){return ye(2),-1},wa:be,va:function(e,t){return e-t},y:function(){return Be.apply(null,arguments)},t:function(){return Be.apply(null,arguments)},B:Be,u:function(){return Be.apply(null,arguments)},x:Fe,ua:function(e,t,n){L.set(L.subarray(t,t+n),e)},w:function(e){le("OOM")},sa:Ie,ra:function(){return Ie.apply(null,arguments)},qa:function(){return Ie.apply(null,arguments)},A:je,pa:function(e,t){return 0},oa:function(){return ye(6),-1},na:function(){d("missing function: getdtablesize"),le(-1)},m:function e(t){return 0===t?0:(t=B(t),me.hasOwnProperty(t)?(e.ret&&at(e.ret),e.ret=(r=H(n=me[t])+1,(i=ut(r))&&F(n,O,i,r),i)):0);var n,r,i},_:function(){d("missing function: getgrnam"),le(-1)},Z:function(e,t,n){if(2!==n)return ye(5),null;var r=Pe(e=A[e>>2]),i=Le.lookup_addr(r);return i&&(r=i),He(E(Ze(r),"i8",1))},Y:function(e,t,n,r,i,o){var a=He(e);return ft(t,a,20),at(a),A[o>>2]=0,A[i>>2]=t,0},la:function(e,t){for(var n=Math.min(t,3),r=0;r<n;r++)D[e+8*r>>3]=.1;return n},ka:function(e){return e=B(e),We(),ze.map[e]},ja:function(e){return We(),ze.map[e]},X:function(){throw"getpwnam: TODO"},ia:function(e){return 0},j:function(e){var t=Date.now();return A[e>>2]=t/1e3|0,A[e+4>>2]=t%1e3*1e3|0,0},W:function(e,t){var n=new Date(1e3*A[e>>2]);A[t>>2]=n.getUTCSeconds(),A[t+4>>2]=n.getUTCMinutes(),A[t+8>>2]=n.getUTCHours(),A[t+12>>2]=n.getUTCDate(),A[t+16>>2]=n.getUTCMonth(),A[t+20>>2]=n.getUTCFullYear()-1900,A[t+24>>2]=n.getUTCDay(),A[t+36>>2]=0,A[t+32>>2]=0;var r=Date.UTC(n.getUTCFullYear(),0,1,0,0,0,0),i=(n.getTime()-r)/864e5|0;return A[t+28>>2]=i,A[t+40>>2]=qe,t},V:function(e,t){return ye(63),-1},ob:function(e,t){var n=lt(t)>>>0,r=lt(e)>>>0;return 0|(w(r),n)},P:function(e){return t=e,Math.log(t)/Math.LN10;var t},H:function(e){var t=Ue,n=t.LLVM_SAVEDSTACKS[e];t.LLVM_SAVEDSTACKS.splice(e,1),gt(n)},O:Ue,ha:function(e,t){Ne();var n=new Date(1e3*A[e>>2]);A[t>>2]=n.getSeconds(),A[t+4>>2]=n.getMinutes(),A[t+8>>2]=n.getHours(),A[t+12>>2]=n.getDate(),A[t+16>>2]=n.getMonth(),A[t+20>>2]=n.getFullYear()-1900,A[t+24>>2]=n.getDay();var r=new Date(n.getFullYear(),0,1),i=(n.getTime()-r.getTime())/864e5|0;A[t+28>>2]=i,A[t+36>>2]=-60*n.getTimezoneOffset();var o=new Date(n.getFullYear(),6,1).getTimezoneOffset(),a=r.getTimezoneOffset(),s=0|(o!=a&&n.getTimezoneOffset()==Math.min(a,o));A[t+32>>2]=s;var l=A[ot()+(s?4:0)>>2];return A[t+40>>2]=l,t},c:function(e,t){throw pt(e,t||1),"longjmp"},ga:function(e){Ne();var t=new Date(A[e+20>>2]+1900,A[e+16>>2],A[e+12>>2],A[e+8>>2],A[e+4>>2],A[e>>2],0),n=A[e+32>>2],r=t.getTimezoneOffset(),i=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),a=i.getTimezoneOffset(),s=Math.min(a,o);if(n<0)A[e+32>>2]=Number(o!=a&&s==r);else if(n>0!=(s==r)){var l=Math.max(a,o),u=n>0?s:l;t.setTime(t.getTime()+6e4*(u-r))}A[e+24>>2]=t.getDay();var c=(t.getTime()-i.getTime())/864e5|0;return A[e+28>>2]=c,t.getTime()/1e3|0},N:function(e,t){if(0===e)return ye(28),-1;var n=A[e>>2],r=A[e+4>>2];return r<0||r>999999999||n<0?(ye(28),-1):(0!==t&&(A[t>>2]=0,A[t+4>>2]=0),Ve(1e6*n+r/1e3))},G:function(){d("missing function: popen"),le(-1)},z:function(){return 0},U:function(e){if(0===e)return ye(28),-1;var t=(e=B(e)).indexOf("=");if(""===e||-1===e.indexOf("="))return ye(28),-1;var n=e.slice(0,t),r=e.slice(t+1);return n in me&&me[n]===r||(me[n]=r,ge(rt())),0},F:function(){throw"setitimer() is not implemented yet"},i:function(e,t,n){return 0},M:function(e,t){return A[e>>2]=A[e>>2]|1<<t-1,0},q:function(e,t){return A[e>>2]=A[e>>2]&~(1<<t-1),0},E:function(e){return A[e>>2]=0,0},tb:function(e){return A[e>>2]=-1>>>0,0},sb:function(e,t){return 0},L:function(){return 0},T:function(e,t,n,r){var i=A[r+40>>2],o={tm_sec:A[r>>2],tm_min:A[r+4>>2],tm_hour:A[r+8>>2],tm_mday:A[r+12>>2],tm_mon:A[r+16>>2],tm_year:A[r+20>>2],tm_wday:A[r+24>>2],tm_yday:A[r+28>>2],tm_isdst:A[r+32>>2],tm_gmtoff:A[r+36>>2],tm_zone:i?B(i):""},a=B(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var l in s)a=a.replace(new RegExp(l,"g"),s[l]);var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["January","February","March","April","May","June","July","August","September","October","November","December"];function f(e,t,n){for(var r="number"==typeof e?e.toString():e||"";r.length<t;)r=n[0]+r;return r}function d(e,t){return f(e,t,"0")}function h(e,t){function n(e){return e<0?-1:e>0?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function p(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function m(e){var t=Xe(new Date(e.tm_year+1900,0,1),e.tm_yday),n=new Date(t.getFullYear(),0,4),r=new Date(t.getFullYear()+1,0,4),i=p(n),o=p(r);return h(i,t)<=0?h(o,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var g={"%a":function(e){return u[e.tm_wday].substring(0,3)},"%A":function(e){return u[e.tm_wday]},"%b":function(e){return c[e.tm_mon].substring(0,3)},"%B":function(e){return c[e.tm_mon]},"%C":function(e){return d((e.tm_year+1900)/100|0,2)},"%d":function(e){return d(e.tm_mday,2)},"%e":function(e){return f(e.tm_mday,2," ")},"%g":function(e){return m(e).toString().substring(2)},"%G":function(e){return m(e)},"%H":function(e){return d(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),d(t,2)},"%j":function(e){return d(e.tm_mday+Ge(Ye(e.tm_year+1900)?$e:Ke,e.tm_mon-1),3)},"%m":function(e){return d(e.tm_mon+1,2)},"%M":function(e){return d(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return d(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=new Date(e.tm_year+1900,0,1),n=0===t.getDay()?t:Xe(t,7-t.getDay()),r=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(h(n,r)<0){var i=Ge(Ye(r.getFullYear())?$e:Ke,r.getMonth()-1)-31,o=31-n.getDate()+i+r.getDate();return d(Math.ceil(o/7),2)}return 0===h(n,t)?"01":"00"},"%V":function(e){var t,n=new Date(e.tm_year+1900,0,4),r=new Date(e.tm_year+1901,0,4),i=p(n),o=p(r),a=Xe(new Date(e.tm_year+1900,0,1),e.tm_yday);return h(a,i)<0?"53":h(o,a)<=0?"01":(t=i.getFullYear()<e.tm_year+1900?e.tm_yday+32-i.getDate():e.tm_yday+1-i.getDate(),d(Math.ceil(t/7),2))},"%w":function(e){return e.tm_wday},"%W":function(e){var t=new Date(e.tm_year,0,1),n=1===t.getDay()?t:Xe(t,0===t.getDay()?1:7-t.getDay()+1),r=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(h(n,r)<0){var i=Ge(Ye(r.getFullYear())?$e:Ke,r.getMonth()-1)-31,o=31-n.getDate()+i+r.getDate();return d(Math.ceil(o/7),2)}return 0===h(n,t)?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,n=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(n?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var l in g)a.indexOf(l)>=0&&(a=a.replace(new RegExp(l,"g"),g[l](o)));var v=Ze(a,!1);return v.length>t?0:(W(v,e),v.length-1)},rb:function(e,t,n){for(var r=B(t),i=0,o="\\!@#$^&*()+=-[]/{}|:<>?,.".length;i<o;++i)r=r.replace(new RegExp("\\"+"\\!@#$^&*()+=-[]/{}|:<>?,."[i],"g"),"\\"+"\\!@#$^&*()+=-[]/{}|:<>?,."[i]);var a={"%A":"%a","%B":"%b","%c":"%a %b %d %H:%M:%S %Y","%D":"%m\\/%d\\/%y","%e":"%d","%F":"%Y-%m-%d","%h":"%b","%R":"%H\\:%M","%r":"%I\\:%M\\:%S\\s%p","%T":"%H\\:%M\\:%S","%x":"%m\\/%d\\/(?:%y|%Y)","%X":"%H\\:%M\\:%S"};for(var s in a)r=r.replace(s,a[s]);var l={"%a":"(?:Sun(?:day)?)|(?:Mon(?:day)?)|(?:Tue(?:sday)?)|(?:Wed(?:nesday)?)|(?:Thu(?:rsday)?)|(?:Fri(?:day)?)|(?:Sat(?:urday)?)","%b":"(?:Jan(?:uary)?)|(?:Feb(?:ruary)?)|(?:Mar(?:ch)?)|(?:Apr(?:il)?)|May|(?:Jun(?:e)?)|(?:Jul(?:y)?)|(?:Aug(?:ust)?)|(?:Sep(?:tember)?)|(?:Oct(?:ober)?)|(?:Nov(?:ember)?)|(?:Dec(?:ember)?)","%C":"\\d\\d","%d":"0[1-9]|[1-9](?!\\d)|1\\d|2\\d|30|31","%H":"\\d(?!\\d)|[0,1]\\d|20|21|22|23","%I":"\\d(?!\\d)|0\\d|10|11|12","%j":"00[1-9]|0?[1-9](?!\\d)|0?[1-9]\\d(?!\\d)|[1,2]\\d\\d|3[0-6]\\d","%m":"0[1-9]|[1-9](?!\\d)|10|11|12","%M":"0\\d|\\d(?!\\d)|[1-5]\\d","%n":"\\s","%p":"AM|am|PM|pm|A\\.M\\.|a\\.m\\.|P\\.M\\.|p\\.m\\.","%S":"0\\d|\\d(?!\\d)|[1-5]\\d|60","%U":"0\\d|\\d(?!\\d)|[1-4]\\d|50|51|52|53","%W":"0\\d|\\d(?!\\d)|[1-4]\\d|50|51|52|53","%w":"[0-6]","%y":"\\d\\d","%Y":"\\d\\d\\d\\d","%%":"%","%t":"\\s"};for(var u in l)r=r.replace(u,"("+u+l[u]+")");var c=[];for(i=r.indexOf("%");i>=0;i=r.indexOf("%"))c.push(r[i+1]),r=r.replace(new RegExp("\\%"+r[i+1],"g"),"");var f=new RegExp("^"+r,"i").exec(B(e));if(f){var d,h=function(){function e(e,t,n){return"number"!=typeof e||isNaN(e)?t:e>=t?e<=n?e:n:t}return{year:e(A[n+20>>2]+1900,1970,9999),month:e(A[n+16>>2],0,11),day:e(A[n+12>>2],1,31),hour:e(A[n+8>>2],0,23),min:e(A[n+4>>2],0,59),sec:e(A[n>>2],0,59)}}(),p=function(e){var t=c.indexOf(e);if(t>=0)return f[t+1]};if((d=p("S"))&&(h.sec=parseInt(d)),(d=p("M"))&&(h.min=parseInt(d)),d=p("H"))h.hour=parseInt(d);else if(d=p("I")){var m=parseInt(d);(d=p("p"))&&(m+="P"===d.toUpperCase()[0]?12:0),h.hour=m}if(d=p("Y"))h.year=parseInt(d);else if(d=p("y")){var g=parseInt(d);(d=p("C"))?g+=100*parseInt(d):g+=g<69?2e3:1900,h.year=g}if((d=p("m"))?h.month=parseInt(d)-1:(d=p("b"))&&(h.month={JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11}[d.substring(0,3).toUpperCase()]||0),d=p("d"))h.day=parseInt(d);else if(d=p("j"))for(var v=parseInt(d),y=Ye(h.year),b=0;b<12;++b){var w=Ge(y?$e:Ke,b-1);v<=w+(y?$e:Ke)[b]&&(h.day=v-w)}else if(d=p("a")){var x=d.substring(0,3).toUpperCase();if(d=p("U")){var k={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6}[x],S=parseInt(d);E=0===(_=new Date(h.year,0,1)).getDay()?Xe(_,k+7*(S-1)):Xe(_,7-_.getDay()+k+7*(S-1)),h.day=E.getDate(),h.month=E.getMonth()}else if(d=p("W")){var _,E;k={MON:0,TUE:1,WED:2,THU:3,FRI:4,SAT:5,SUN:6}[x],S=parseInt(d),E=1===(_=new Date(h.year,0,1)).getDay()?Xe(_,k+7*(S-1)):Xe(_,7-_.getDay()+1+k+7*(S-1)),h.day=E.getDate(),h.month=E.getMonth()}}var C=new Date(h.year,h.month,h.day,h.hour,h.min,h.sec,0);return A[n>>2]=C.getSeconds(),A[n+4>>2]=C.getMinutes(),A[n+8>>2]=C.getHours(),A[n+12>>2]=C.getDate(),A[n+16>>2]=C.getMonth(),A[n+20>>2]=C.getFullYear()-1900,A[n+24>>2]=C.getDay(),A[n+28>>2]=Ge(Ye(C.getFullYear())?$e:Ke,C.getMonth()-1)+C.getDate()-1,A[n+32>>2]=0,e+Ze(f[0]).length-1}return 0},S:function(e){switch(e){case 30:return 16384;case 85:return L.length/16384;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return ye(28),-1},k:function(e){var t=Date.now()/1e3|0;return e&&(A[e>>2]=t),t},R:Ne,fa:function(e){return 0===e||""===(e=B(e))||-1!==e.indexOf("=")?(ye(28),-1):(me.hasOwnProperty(e)&&(delete me[e],ge(rt())),0)},qb:Ve,ea:function(e,t){var n;t?(n=A[t+4>>2],n*=1e3):n=Date.now(),e=B(e);try{return _e.utime(e,n,n),0}catch(e){return _e.handleFSError(e),-1}},da:function(){return function(e){return ye(12),-1}.apply(null,arguments)},l:le,a:function(){return b},K:function(e){var t=vt();try{return yt(e)}catch(e){if(gt(t),e!==e+0&&"longjmp"!==e)throw e;pt(1,0)}},e:function(e,t){var n=vt();try{return bt(e,t)}catch(e){if(gt(n),e!==e+0&&"longjmp"!==e)throw e;pt(1,0)}},h:function(e,t,n){var r=vt();try{return wt(e,t,n)}catch(e){if(gt(r),e!==e+0&&"longjmp"!==e)throw e;pt(1,0)}},f:function(e,t,n,r){var i=vt();try{return xt(e,t,n,r)}catch(e){if(gt(i),e!==e+0&&"longjmp"!==e)throw e;pt(1,0)}},I:function(e,t,n,r,i){var o=vt();try{return kt(e,t,n,r,i)}catch(e){if(gt(o),e!==e+0&&"longjmp"!==e)throw e;pt(1,0)}},ta:function(e,t,n,r,i,o){var a=vt();try{return St(e,t,n,r,i,o)}catch(e){if(gt(a),e!==e+0&&"longjmp"!==e)throw e;pt(1,0)}},ma:function(e,t,n,r,i,o,a){var s=vt();try{return _t(e,t,n,r,i,o,a)}catch(e){if(gt(s),e!==e+0&&"longjmp"!==e)throw e;pt(1,0)}},g:function(e){var t=vt();try{Et(e)}catch(e){if(gt(t),e!==e+0&&"longjmp"!==e)throw e;pt(1,0)}},d:function(e,t){var n=vt();try{Ct(e,t)}catch(e){if(gt(n),e!==e+0&&"longjmp"!==e)throw e;pt(1,0)}},r:function(e,t,n){var r=vt();try{Tt(e,t,n)}catch(e){if(gt(r),e!==e+0&&"longjmp"!==e)throw e;pt(1,0)}},v:function(e,t,n,r){var i=vt();try{Ot(e,t,n,r)}catch(e){if(gt(i),e!==e+0&&"longjmp"!==e)throw e;pt(1,0)}},ca:function(e,t,n,r,i){var o=vt();try{Lt(e,t,n,r,i)}catch(e){if(gt(o),e!==e+0&&"longjmp"!==e)throw e;pt(1,0)}},memory:v,b:w,table:k},Qe=t.asm({},Je,T);t.asm=Qe;var et,tt=t.___emscripten_environ_constructor=function(){return t.asm.ub.apply(null,arguments)},nt=(t.___errno_location=function(){return t.asm.vb.apply(null,arguments)},t.__get_daylight=function(){return t.asm.wb.apply(null,arguments)}),rt=t.__get_environ=function(){return t.asm.xb.apply(null,arguments)},it=t.__get_timezone=function(){return t.asm.yb.apply(null,arguments)},ot=t.__get_tzname=function(){return t.asm.zb.apply(null,arguments)},at=t._free=function(){return t.asm.Ab.apply(null,arguments)},st=t._htons=function(){return t.asm.Bb.apply(null,arguments)},lt=t._llvm_bswap_i32=function(){return t.asm.Cb.apply(null,arguments)},ut=(t._main=function(){return t.asm.Db.apply(null,arguments)},t._malloc=function(){return t.asm.Eb.apply(null,arguments)}),ct=t._memalign=function(){return t.asm.Fb.apply(null,arguments)},ft=t._memcpy=function(){return t.asm.Gb.apply(null,arguments)},dt=t._memset=function(){return t.asm.Hb.apply(null,arguments)},ht=t._ntohs=function(){return t.asm.Ib.apply(null,arguments)},pt=(t._php_embed_init=function(){return t.asm.Jb.apply(null,arguments)},t._php_embed_shutdown=function(){return t.asm.Kb.apply(null,arguments)},t._pib_eval=function(){return t.asm.Lb.apply(null,arguments)},t._setThrew=function(){return t.asm.Mb.apply(null,arguments)}),mt=(t._zend_eval_string=function(){return t.asm.Nb.apply(null,arguments)},t.stackAlloc=function(){return t.asm._b.apply(null,arguments)}),gt=t.stackRestore=function(){return t.asm.$b.apply(null,arguments)},vt=t.stackSave=function(){return t.asm.ac.apply(null,arguments)},yt=t.dynCall_i=function(){return t.asm.Ob.apply(null,arguments)},bt=t.dynCall_ii=function(){return t.asm.Pb.apply(null,arguments)},wt=t.dynCall_iii=function(){return t.asm.Qb.apply(null,arguments)},xt=t.dynCall_iiii=function(){return t.asm.Rb.apply(null,arguments)},kt=t.dynCall_iiiii=function(){return t.asm.Sb.apply(null,arguments)},St=t.dynCall_iiiiii=function(){return t.asm.Tb.apply(null,arguments)},_t=t.dynCall_iiiiiii=function(){return t.asm.Ub.apply(null,arguments)},Et=t.dynCall_v=function(){return t.asm.Vb.apply(null,arguments)},Ct=t.dynCall_vi=function(){return t.asm.Wb.apply(null,arguments)},Tt=t.dynCall_vii=function(){return t.asm.Xb.apply(null,arguments)},Ot=t.dynCall_viii=function(){return t.asm.Yb.apply(null,arguments)},Lt=t.dynCall_viiii=function(){return t.asm.Zb.apply(null,arguments)};function Pt(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Mt(e){function n(){et||(et=!0,t.calledRun=!0,S||(J=!0,t.noFSInit||_e.init.initialized||_e.init(),ke.init(),Ce.root=_e.mount(Ce,{},null),De.root=_e.mount(De,{},null),G(K),_e.ignorePermissions=!1,G(X),t.onRuntimeInitialized&&t.onRuntimeInitialized(),Rt&&function(e){var n=t._main,r=(e=e||[]).length+1,i=mt(4*(r+1));A[i>>2]=z(l);for(var o=1;o<r;o++)A[(i>>2)+o]=z(e[o-1]);A[(i>>2)+r]=0;try{At(n(r,i),!0)}catch(e){if(e instanceof Pt)return;if("SimulateInfiniteLoop"==e)return void(g=!0);var a=e;e&&"object"==typeof e&&e.stack&&(a=[e,e.stack]),d("exception thrown: "+a),u(1,e)}}(e),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)e=t.postRun.shift(),Z.unshift(e);var e;G(Z)}()))}e=e||s,re>0||(function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)e=t.preRun.shift(),$.unshift(e);var e;G($)}(),re>0||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),n()},1)):n()))}function At(e,n){n&&g&&0===e||(g||(S=!0,t.onExit&&t.onExit(e)),u(e,new Pt(e)))}if(t.asm=Qe,t.ccall=function(e,n,r,i,o){var a={string:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);I(e,t=mt(n),n)}return t},array:function(e){var t=mt(e.length);return W(e,t),t}},s=function(e){var n=t["_"+e];return _(n,"Cannot call unknown function "+e+", make sure it is exported"),n}(e),l=[],u=0;if(i)for(var c=0;c<i.length;c++){var f=a[r[c]];f?(0===u&&(u=vt()),l[c]=f(i[c])):l[c]=i[c]}var d=s.apply(null,l);return d=function(e){return"string"===n?B(e):"boolean"===n?Boolean(e):e}(d),0!==u&&gt(u),d},t.getMemory=C,t.addRunDependency=ae,t.removeRunDependency=se,t.FS_createFolder=_e.createFolder,t.FS_createPath=_e.createPath,t.FS_createDataFile=_e.createDataFile,t.FS_createPreloadedFile=_e.createPreloadedFile,t.FS_createLazyFile=_e.createLazyFile,t.FS_createLink=_e.createLink,t.FS_createDevice=_e.createDevice,t.FS_unlink=_e.unlink,t.calledRun=et,t.then=function(e){if(et)e(t);else{var n=t.onRuntimeInitialized;t.onRuntimeInitialized=function(){n&&n(),e(t)}}return t},oe=function e(){et||Mt(),et||(oe=e)},t.run=Mt,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();var Rt=!1;return t.noInitialRun&&(Rt=!1),g=!0,Mt(),e},"object"==typeof e&&"object"==typeof r?r.exports=o:"function"==typeof define&&define.amd?define([],function(){return o}):"object"==typeof e&&(e.PHP=o)}),require.register("simplemde/dist/simplemde.min.js",function(n,r,i){r=t(r,{},"simplemde"),function(t){"object"==typeof n&&void 0!==i?i.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).SimpleMDE=t()}(function(){return function e(t,n,i){function o(s,l){if(!n[s]){if(!t[s]){var u="function"==typeof r&&r;if(!l&&u)return u(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){return o(t[s][1][e]||e)},f,f.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){"use strict";function r(e){return o[e>>18&63]+o[e>>12&63]+o[e>>6&63]+o[63&e]}function i(e,t,n){for(var i,o=[],a=t;n>a;a+=3)i=(e[a]<<16)+(e[a+1]<<8)+e[a+2],o.push(r(i));return o.join("")}n.toByteArray=function(e){var t,n,r,i,o,l,u=e.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[u-2]?2:"="===e[u-1]?1:0,l=new s(3*u/4-o),r=o>0?u-4:u;var c=0;for(t=0,n=0;r>t;t+=4,n+=3)i=a[e.charCodeAt(t)]<<18|a[e.charCodeAt(t+1)]<<12|a[e.charCodeAt(t+2)]<<6|a[e.charCodeAt(t+3)],l[c++]=i>>16&255,l[c++]=i>>8&255,l[c++]=255&i;return 2===o?(i=a[e.charCodeAt(t)]<<2|a[e.charCodeAt(t+1)]>>4,l[c++]=255&i):1===o&&(i=a[e.charCodeAt(t)]<<10|a[e.charCodeAt(t+1)]<<4|a[e.charCodeAt(t+2)]>>2,l[c++]=i>>8&255,l[c++]=255&i),l},n.fromByteArray=function(e){for(var t,n=e.length,r=n%3,a="",s=[],l=16383,u=0,c=n-r;c>u;u+=l)s.push(i(e,u,u+l>c?c:u+l));return 1===r?(t=e[n-1],a+=o[t>>2],a+=o[t<<4&63],a+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],a+=o[t>>10],a+=o[t>>4&63],a+=o[t<<2&63],a+="="),s.push(a),s.join("")};var o=[],a=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array;!function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;n>t;++t)o[t]=e[t],a[e.charCodeAt(t)]=t;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63}()},{}],2:[function(e,t,n){},{}],3:[function(t,n,r){(function(e){"use strict";function n(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=o.prototype:(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,0>n||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),o.TYPED_ARRAY_SUPPORT?(e=t).__proto__=o.prototype:e=u(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');return(e=i(e,0|f(t,n))).write(t,n),e}(e,t,n):function(e,t){if(o.isBuffer(t)){var n=0|c(t.length);return 0===(e=i(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?i(e,0):u(e,t);if("Buffer"===t.type&&I(t.data))return u(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number')}function l(e,t){if(s(t),e=i(e,0>t?0:0|c(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;t>n;n++)e[n]=0;return e}function u(e,t){var n=0|c(t.length);e=i(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function c(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function f(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":case void 0:return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(r)return D(e).length;t=(""+t).toLowerCase(),r=!0}}function d(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function h(e,t,n,r){function i(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,a=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,s/=2,n/=2}for(var l=-1,u=0;a>n+u;u++)if(i(e,n+u)===i(t,-1===l?0:u-l)){if(-1===l&&(l=u),u-l+1===s)return(n+l)*o}else-1!==l&&(u-=u-l),l=-1;return-1}function p(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;r>a;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function m(e,t,n,r){return N(D(t,e.length-n),e,n,r)}function g(e,t,n,r){return N(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function v(e,t,n,r){return g(e,t,n,r)}function y(e,t,n,r){return N(j(t),e,n,r)}function b(e,t,n,r){return N(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);a++)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function w(e,t,n){return 0===t&&n===e.length?B.fromByteArray(e):B.fromByteArray(e.slice(t,n))}function x(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;n>i;){var o,a,s,l,u=e[i],c=null,f=u>239?4:u>223?3:u>191?2:1;if(n>=i+f)switch(f){case 1:128>u&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(55296>l||l>57343)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&1114112>l&&(c=l)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(e){var t=e.length;if(H>=t)return String.fromCharCode.apply(String,e);for(var n="",r=0;t>r;)n+=String.fromCharCode.apply(String,e.slice(r,r+=H));return n}(r)}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(127&e[i]);return r}function S(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(e[i]);return r}function _(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=t;n>o;o++)i+=R(e[o]);return i}function E(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function C(e,t,n){if(e%1!=0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||a>t)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r){0>t&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);o>i;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){0>t&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);o>i;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function P(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function M(e,t,n,r,i){return i||P(e,0,n,4),F.write(e,t,n,r,23,4),n+4}function A(e,t,n,r,i){return i||P(e,0,n,8),F.write(e,t,n,r,52,8),n+8}function R(e){return 16>e?"0"+e.toString(16):e.toString(16)}function D(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;r>a;a++){if((n=e.charCodeAt(a))>55295&&57344>n){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,128>n){if((t-=1)<0)break;o.push(n)}else if(2048>n){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(e){return B.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,n,r){for(var i=0;r>i&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}var B=t("base64-js"),F=t("ieee754"),I=t("isarray");r.Buffer=o,r.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},r.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),r.kMaxLength=n(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return function(e,t,n,r){return s(t),0>=t?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}(null,e,t,n)},o.allocUnsafe=function(e){return l(null,e)},o.allocUnsafeSlow=function(e){return l(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);a>i;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return r>n?-1:n>r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!I(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;n++){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;e>t;t+=2)d(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;e>t;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?x(this,0,e):function(e,t,n){var r=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if((t>>>=0)>=(n>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return _(this,t,n);case"utf8":case"utf-8":return x(this,t,n);case"ascii":return k(this,t,n);case"binary":return S(this,t,n);case"base64":return w(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),0>t||n>e.length||0>r||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),l=Math.min(a,s),u=this.slice(r,i),c=e.slice(t,n),f=0;l>f;++f)if(u[f]!==c[f]){a=u[f],s=c[f];break}return s>a?-1:a>s?1:0},o.prototype.indexOf=function(e,t,n){if("string"==typeof t?(n=t,t=0):t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e&&(e=o.from(e,n)),o.isBuffer(e))return 0===e.length?-1:h(this,e,t,n);if("number"==typeof e)return o.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):h(this,[e],t,n);throw new TypeError("val must be string, number or Buffer")},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return p(this,e,t,n);case"utf8":case"utf-8":return m(this,e,t,n);case"ascii":return g(this,e,t,n);case"binary":return v(this,e,t,n);case"base64":return y(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var H=4096;o.prototype.slice=function(e,t){var n,r=this.length;if(0>(e=~~e)?0>(e+=r)&&(e=0):e>r&&(e=r),0>(t=void 0===t?r:~~t)?0>(t+=r)&&(t=0):t>r&&(t=r),e>t&&(t=e),o.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=o.prototype;else{var i=t-e;n=new o(i,void 0);for(var a=0;i>a;a++)n[a]=this[a+e]}return n},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),F.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),F.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),F.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),F.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||T(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||T(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);T(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)0>e&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);T(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)0>e&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return A(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return A(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&t>n&&r>t)for(i=a-1;i>=0;i--)e[i+t]=this[i+n];else if(1e3>a||!o.TYPED_ARRAY_SUPPORT)for(i=0;a>i;i++)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);256>i&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(0>t||this.length<t||this.length<n)throw new RangeError("Out of range index");if(t>=n)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;n>a;a++)this[a]=e;else{var s=o.isBuffer(e)?e:D(new o(e,r).toString()),l=s.length;for(a=0;n-t>a;a++)this[a+t]=s[a%l]}return this};var z=/[^+\/0-9A-Za-z-_]/g}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:15,isarray:16}],4:[function(e,t,n){"use strict";function r(e){return"function"!=typeof(e=e||{}).codeMirrorInstance||"function"!=typeof e.codeMirrorInstance.defineMode?void console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`"):(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),void e.codeMirrorInstance.defineMode("spell-checker",function(t){if(!r.aff_loading){r.aff_loading=!0;var n=new XMLHttpRequest;n.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),n.onload=function(){4===n.readyState&&200===n.status&&(r.aff_data=n.responseText,r.num_loaded++,2==r.num_loaded&&(r.typo=new i("en_US",r.aff_data,r.dic_data,{platform:"any"})))},n.send(null)}if(!r.dic_loading){r.dic_loading=!0;var o=new XMLHttpRequest;o.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),o.onload=function(){4===o.readyState&&200===o.status&&(r.dic_data=o.responseText,r.num_loaded++,2==r.num_loaded&&(r.typo=new i("en_US",r.aff_data,r.dic_data,{platform:"any"})))},o.send(null)}var a='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',s={token:function(e){var t=e.peek(),n="";if(a.includes(t))return e.next(),null;for(;null!=(t=e.peek())&&!a.includes(t);)n+=t,e.next();return r.typo&&!r.typo.check(n)?"spell-error":null}},l=e.codeMirrorInstance.getMode(t,t.backdrop||"text/plain");return e.codeMirrorInstance.overlayMode(l,s,!0)}))}var i=e("typo-js");r.num_loaded=0,r.aff_loading=!1,r.dic_loading=!1,r.aff_data="",r.dic_data="",r.typo,t.exports=r},{"typo-js":18}],5:[function(e,t,n){!function(e){"use strict";e.defineOption("fullScreen",!1,function(t,n,r){r==e.Init&&(r=!1),!r!=!n&&(n?function(e){var t=e.getWrapperElement();e.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:t.style.width,height:t.style.height},t.style.width="",t.style.height="auto",t.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",e.refresh()}(t):function(e){var t=e.getWrapperElement();t.className=t.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var n=e.state.fullScreenRestore;t.style.width=n.width,t.style.height=n.height,window.scrollTo(n.scrollLeft,n.scrollTop),e.refresh()}(t))})}("object"==typeof n&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],6:[function(e,t,n){!function(e){function t(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function n(e){t(e);var n=e.state.placeholder=document.createElement("pre");n.style.cssText="height: 0; overflow: visible",n.className="CodeMirror-placeholder";var r=e.getOption("placeholder");"string"==typeof r&&(r=document.createTextNode(r)),n.appendChild(r),e.display.lineSpace.insertBefore(n,e.display.lineSpace.firstChild)}function r(e){o(e)&&n(e)}function i(e){var r=e.getWrapperElement(),i=o(e);r.className=r.className.replace(" CodeMirror-empty","")+(i?" CodeMirror-empty":""),i?n(e):t(e)}function o(e){return 1===e.lineCount()&&""===e.getLine(0)}e.defineOption("placeholder","",function(n,o,a){var s=a&&a!=e.Init;if(o&&!s)n.on("blur",r),n.on("change",i),n.on("swapDoc",i),i(n);else if(!o&&s){n.off("blur",r),n.off("change",i),n.off("swapDoc",i),t(n);var l=n.getWrapperElement();l.className=l.className.replace(" CodeMirror-empty","")}o&&!n.hasFocus()&&r(n)})}("object"==typeof n&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],7:[function(e,t,n){!function(e){"use strict";var t=/^(\s*)(>[> ]*|[*+-]\s|(\d+)([.)]))(\s*)/,n=/^(\s*)(>[> ]*|[*+-]|(\d+)[.)])(\s*)$/,r=/[*+-]\s/;e.commands.newlineAndIndentContinueMarkdownList=function(i){if(i.getOption("disableInput"))return e.Pass;for(var o=i.listSelections(),a=[],s=0;s<o.length;s++){var l=o[s].head,u=i.getStateAfter(l.line),c=!1!==u.list,f=0!==u.quote,d=i.getLine(l.line),h=t.exec(d);if(!o[s].empty()||!c&&!f||!h)return void i.execCommand("newlineAndIndent");if(n.test(d))i.replaceRange("",{line:l.line,ch:0},{line:l.line,ch:l.ch+1}),a[s]="\n";else{var p=h[1],m=h[5],g=r.test(h[2])||h[2].indexOf(">")>=0?h[2]:parseInt(h[3],10)+1+h[4];a[s]="\n"+p+g+m}}i.replaceSelections(a)}}("object"==typeof n&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],8:[function(e,t,n){!function(e){"use strict";e.overlayMode=function(t,n,r){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(r){return{base:e.copyState(t,r.base),overlay:e.copyState(n,r.overlay),basePos:r.basePos,baseCur:null,overlayPos:r.overlayPos,overlayCur:null}},token:function(e,i){return(e!=i.streamSeen||Math.min(i.basePos,i.overlayPos)<e.start)&&(i.streamSeen=e,i.basePos=i.overlayPos=e.start),e.start==i.basePos&&(i.baseCur=t.token(e,i.base),i.basePos=e.pos),e.start==i.overlayPos&&(e.pos=e.start,i.overlayCur=n.token(e,i.overlay),i.overlayPos=e.pos),e.pos=Math.min(i.basePos,i.overlayPos),null==i.overlayCur?i.baseCur:null!=i.baseCur&&i.overlay.combineTokens||r&&null==i.overlay.combineTokens?i.baseCur+" "+i.overlayCur:i.overlayCur},indent:t.indent&&function(e,n){return t.indent(e.base,n)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){t.blankLine&&t.blankLine(e.base),n.blankLine&&n.blankLine(e.overlay)}}}}("object"==typeof n&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],9:[function(e,t,n){!function(e){"use strict";function t(e){e.operation(function(){!function(e){if(!e.somethingSelected())return i(e);if(e.listSelections().length>1)return o(e);var t=e.getCursor("start"),n=e.getCursor("end"),s=e.state.markedSelection;if(!s.length)return r(e,t,n);var u=s[0].find(),c=s[s.length-1].find();if(!u||!c||n.line-t.line<a||l(t,c.to)>=0||l(n,u.from)<=0)return o(e);for(;l(t,u.from)>0;)s.shift().clear(),u=s[0].find();for(l(t,u.from)<0&&(u.to.line-t.line<a?(s.shift().clear(),r(e,t,u.to,0)):r(e,t,u.from,0));l(n,c.to)<0;)s.pop().clear(),c=s[s.length-1].find();l(n,c.to)>0&&(n.line-c.from.line<a?(s.pop().clear(),r(e,c.from,n)):r(e,c.to,n))}(e)})}function n(e){e.state.markedSelection.length&&e.operation(function(){i(e)})}function r(e,t,n,r){if(0!=l(t,n))for(var i=e.state.markedSelection,o=e.state.markedSelectionStyle,u=t.line;;){var c=u==t.line?t:s(u,0),f=u+a,d=f>=n.line,h=d?n:s(f,0),p=e.markText(c,h,{className:o});if(null==r?i.push(p):i.splice(r++,0,p),d)break;u=f}}function i(e){for(var t=e.state.markedSelection,n=0;n<t.length;++n)t[n].clear();t.length=0}function o(e){i(e);for(var t=e.listSelections(),n=0;n<t.length;n++)r(e,t[n].from(),t[n].to())}e.defineOption("styleSelectedText",!1,function(r,a,s){var l=s&&s!=e.Init;a&&!l?(r.state.markedSelection=[],r.state.markedSelectionStyle="string"==typeof a?a:"CodeMirror-selectedtext",o(r),r.on("cursorActivity",t),r.on("change",n)):!a&&l&&(r.off("cursorActivity",t),r.off("change",n),i(r),r.state.markedSelection=r.state.markedSelectionStyle=null)});var a=8,s=e.Pos,l=e.cmpPos}("object"==typeof n&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],10:[function(e,t,n){!function(e){"object"==typeof n&&"object"==typeof t?t.exports=e():(this||window).CodeMirror=e()}(function(){"use strict";function e(t,n){if(!(this instanceof e))return new e(t,n);this.options=n=n?Vr(n):{},Vr(no,n,!1),f(n);var r=n.value;"string"==typeof r&&(r=new To(r,n.mode,null,n.lineSeparator)),this.doc=r;var i=new e.inputStyles[n.inputStyle](this),a=this.display=new function(e,t,n){var r=this;this.input=n,r.scrollbarFiller=Xr("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=Xr("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=Xr("div",null,"CodeMirror-code"),r.selectionDiv=Xr("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=Xr("div",null,"CodeMirror-cursors"),r.measure=Xr("div",null,"CodeMirror-measure"),r.lineMeasure=Xr("div",null,"CodeMirror-measure"),r.lineSpace=Xr("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none"),r.mover=Xr("div",[Xr("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=Xr("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=Xr("div",null,null,"position: absolute; height: "+Fo+"px; width: 1px;"),r.gutters=Xr("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=Xr("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=Xr("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),xi&&8>ki&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),Si||yi&&Mi||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,n.init(r)}(t,r,i);a.wrapper.CodeMirror=this,s(this),o(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),n.autofocus&&!Mi&&a.input.focus(),m(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Fr,keySeq:null,specialChars:null};var l=this;for(var u in xi&&11>ki&&setTimeout(function(){l.display.input.reset(!0)},20),function(e){function t(){r.activeTouch&&(i=setTimeout(function(){r.activeTouch=null},1e3),(o=r.activeTouch).end=+new Date)}function n(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var r=e.display;Ro(r.scroller,"mousedown",mt(e,Lt)),Ro(r.scroller,"dblclick",xi&&11>ki?mt(e,function(t){if(!Dr(e,t)){var n=Ot(e,t);if(n&&!Mt(e,t)&&!Tt(e.display,t)){Po(t);var r=e.findWordAt(n);he(e.doc,r.anchor,r.head)}}}):function(t){Dr(e,t)||Po(t)}),Bi||Ro(r.scroller,"contextmenu",function(t){Vt(e,t)});var i,o={end:0};Ro(r.scroller,"touchstart",function(t){if(!Dr(e,t)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(t)){clearTimeout(i);var n=+new Date;r.activeTouch={start:n,moved:!1,prev:n-o.end<=300?o:null},1==t.touches.length&&(r.activeTouch.left=t.touches[0].pageX,r.activeTouch.top=t.touches[0].pageY)}}),Ro(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),Ro(r.scroller,"touchend",function(i){var o=r.activeTouch;if(o&&!Tt(r,i)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,s=e.coordsChar(r.activeTouch,"page");a=!o.prev||n(o,o.prev)?new oe(s,s):!o.prev.prev||n(o,o.prev.prev)?e.findWordAt(s):new oe(Hi(s.line,0),ue(e.doc,Hi(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),Po(i)}t()}),Ro(r.scroller,"touchcancel",t),Ro(r.scroller,"scroll",function(){r.scroller.clientHeight&&(Dt(e,r.scroller.scrollTop),jt(e,r.scroller.scrollLeft,!0),No(e,"scroll",e))}),Ro(r.scroller,"mousewheel",function(t){Nt(e,t)}),Ro(r.scroller,"DOMMouseScroll",function(t){Nt(e,t)}),Ro(r.wrapper,"scroll",function(){r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(t){Dr(e,t)||Ao(t)},over:function(t){Dr(e,t)||(function(e,t){var n=Ot(e,t);if(n){var r=document.createDocumentFragment();Oe(e,n,r),e.display.dragCursor||(e.display.dragCursor=Xr("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Jr(e.display.dragCursor,r)}}(e,t),Ao(t))},start:function(t){!function(e,t){if(xi&&(!e.state.draggingText||+new Date-Ki<100))Ao(t);else if(!Dr(e,t)&&!Tt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Ti)){var n=Xr("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ci&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Ci&&n.parentNode.removeChild(n)}}(e,t)},drop:mt(e,At),leave:function(t){Dr(e,t)||Rt(e)}};var a=r.input.getField();Ro(a,"keyup",function(t){zt.call(e,t)}),Ro(a,"keydown",mt(e,Ht)),Ro(a,"keypress",mt(e,Wt)),Ro(a,"focus",Yr(qt,e)),Ro(a,"blur",Yr(Ut,e))}(this),na||(function(){var e;Ro(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,ni(Ct)},100))}),Ro(window,"blur",function(){ni(Ut)})}(),na=!0),st(this),this.curOp.forceUpdate=!0,lr(this,r),n.autofocus&&!Mi||l.hasFocus()?setTimeout(Yr(qt,this),20):Ut(this),ro)ro.hasOwnProperty(u)&&ro[u](this,n[u],io);w(this),n.finishInit&&n.finishInit(this);for(var c=0;c<lo.length;++c)lo[c](this);lt(this),Si&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function t(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),n(t)}function n(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Me(e,100),e.state.modeGen++,e.curOp&&wt(e)}function r(e){var t=ot(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/at(e.display)-3);return function(i){if(Bn(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function i(e){var t=e.doc,n=r(e);t.iter(function(e){var t=n(e);t!=e.height&&dr(e,t)})}function o(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),$e(e)}function a(e){s(e),wt(e),setTimeout(function(){b(e)},20)}function s(e){var t=e.display.gutters,n=e.options.gutters;Zr(t);for(var r=0;r<n.length;++r){var i=n[r],o=t.appendChild(Xr("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",l(e)}function l(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function u(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Mn(r);)r=(i=t.find(0,!0)).from.line,n+=i.from.ch-i.to.ch;for(r=e;t=An(r);){var i=t.find(0,!0);n-=r.text.length-i.from.ch,n+=(r=i.to.line).text.length-i.to.ch}return n}function c(e){var t=e.display,n=e.doc;t.maxLine=ur(n,n.first),t.maxLineLength=u(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=u(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function f(e){var t=zr(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function d(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+je(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Be(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function h(e,t,n){this.cm=n;var r=this.vert=Xr("div",[Xr("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=Xr("div",[Xr("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(i),Ro(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),Ro(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,xi&&8>ki&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function p(){}function m(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&ea(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Ro(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?jt(t,e):Dt(t,e)},t),t.display.scrollbars.addClass&&ta(t.display.wrapper,t.display.scrollbars.addClass)}function g(e,t){t||(t=d(e));var n=e.display.barWidth,r=e.display.barHeight;v(e,t);for(var i=0;4>i&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&O(e),v(e,d(e)),n=e.display.barWidth,r=e.display.barHeight}function v(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function y(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-De(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=pr(t,r),a=pr(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;o>s?(o=s,a=pr(t,mr(ur(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=pr(t,mr(ur(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function b(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=k(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&n[a].gutter&&(n[a].gutter.style.left=o);var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function w(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=x(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(Xr("div",[Xr("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",l(e),!0}return!1}function x(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function k(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function S(e,t,n){var r=e.display;this.viewport=t,this.visible=y(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Fe(e),this.force=n,this.dims=P(e),this.events=[]}function _(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return kt(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Et(e))return!1;w(e)&&(kt(e),t.dims=P(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),Ii&&(o=jn(e.doc,o),a=Nn(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;(function(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=bt(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=bt(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(St(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(bt(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,St(e,n)))),r.viewTo=n})(e,o,a),n.viewOffset=mr(ur(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=Et(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=Qr();return l>4&&(n.lineDiv.style.display="none"),function(e,t,n){function r(t){var n=t.nextSibling;return Si&&Ai&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var i=e.display,o=e.options.lineNumbers,a=i.lineDiv,s=a.firstChild,l=i.view,u=i.viewFrom,c=0;c<l.length;c++){var f=l[c];if(f.hidden);else if(f.node&&f.node.parentNode==a){for(;s!=f.node;)s=r(s);var d=o&&null!=t&&u>=t&&f.lineNumber;f.changes&&(zr(f.changes,"gutter")>-1&&(d=!1),M(e,f,u,n)),d&&(Zr(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(x(e.options,u)))),s=f.node.nextSibling}else{var h=F(e,f,u,n);a.insertBefore(h,s)}u+=f.size}for(;s;)s=r(s)}(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,u&&Qr()!=u&&u.offsetHeight&&u.focus(),Zr(n.cursorDiv),Zr(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Me(e,400)),n.updateLineNumbers=null,!0}function E(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Fe(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+je(e.display)-Ie(e),n.top)}),t.visible=y(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&_(e,t);r=!1){O(e);var i=d(e);Ce(e),g(e,i),T(e,i)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function C(e,t){var n=new S(e,t);if(_(e,n)){O(e),E(e,n);var r=d(e);Ce(e),g(e,r),T(e,r),n.finish()}}function T(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Be(e)+"px"}function O(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i,o=t.view[r];if(!o.hidden){if(xi&&8>ki){var a=o.node.offsetTop+o.node.offsetHeight;i=a-n,n=a}else{var s=o.node.getBoundingClientRect();i=s.bottom-s.top}var l=o.line.height-i;if(2>i&&(i=ot(t)),(l>.001||-.001>l)&&(dr(o.line,i),L(o.line),o.rest))for(var u=0;u<o.rest.length;u++)L(o.rest[u])}}}function L(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function P(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[a]]=o.clientWidth;return{fixedPos:k(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function M(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?D(e,t):"gutter"==o?N(e,t,n,r):"class"==o?j(t):"widget"==o&&B(e,t,r)}t.changes=null}function A(e){return e.node==e.text&&(e.node=Xr("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),xi&&8>ki&&(e.node.style.zIndex=2)),e.node}function R(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Zn(e,t)}function D(e,t){var n=t.text.className,r=R(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,j(t)):n&&(t.text.className=n)}function j(e){(function(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=A(e);e.background=n.insertBefore(Xr("div",null,t),n.firstChild)}})(e),e.line.wrapClass?A(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function N(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=A(t);t.gutterBackground=Xr("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){i=A(t);var a=t.gutter=Xr("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),i.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(Xr("div",x(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var s=0;s<e.options.gutters.length;++s){var l=e.options.gutters[s],u=o.hasOwnProperty(l)&&o[l];u&&a.appendChild(Xr("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function B(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild;r;r=i){var i=r.nextSibling;"CodeMirror-linewidget"==r.className&&t.node.removeChild(r)}I(e,t,n)}function F(e,t,n,r){var i=R(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),j(t),N(e,t,n,r),I(e,t,r),t.node}function I(e,t,n){if(H(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)H(e,t.rest[r],t,n,!1)}function H(e,t,n,r,i){if(t.widgets)for(var o=A(n),a=0,s=t.widgets;a<s.length;++a){var l=s[a],u=Xr("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),z(l,u,n,r),e.display.input.setUneditable(u),i&&l.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),Ar(l,"redraw")}}function z(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function W(e){return Hi(e.line,e.ch)}function q(e,t){return zi(e,t)<0?t:e}function U(e,t){return zi(e,t)<0?e:t}function V(e){e.state.focused||(e.display.input.focus(),qt(e))}function Y(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=e.state.pasteIncoming||"paste"==i,s=o.splitLines(t),l=null;if(a&&r.ranges.length>1)if(Wi&&Wi.text.join("\n")==t){if(r.ranges.length%Wi.text.length==0){l=[];for(var u=0;u<Wi.text.length;u++)l.push(o.splitLines(Wi.text[u]))}}else s.length==r.ranges.length&&(l=Wr(s,function(e){return[e]}));for(u=r.ranges.length-1;u>=0;u--){var c=r.ranges[u],f=c.from(),d=c.to();c.empty()&&(n&&n>0?f=Hi(f.line,f.ch-n):e.state.overwrite&&!a?d=Hi(d.line,Math.min(ur(o,d.line).text.length,d.ch+Hr(s).length)):Wi&&Wi.lineWise&&Wi.text.join("\n")==t&&(f=d=Hi(f.line,0)));var h=e.curOp.updateInput,p={from:f,to:d,text:l?l[u%l.length]:s,origin:i||(a?"paste":e.state.cutIncoming?"cut":"+input")};Xt(e.doc,p),Ar(e,"inputRead",e,p)}t&&!a&&$(e,t),an(e),e.curOp.updateInput=h,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function G(e,t){var n=e.clipboardData&&e.clipboardData.getData("text/plain");return n?(e.preventDefault(),t.isReadOnly()||t.options.disableInput||pt(t,function(){Y(t,n,0,null,"paste")}),!0):void 0}function $(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=ln(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(ur(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=ln(e,i.head.line,"smart"));a&&Ar(e,"electricInput",e,i.head.line)}}}function K(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:Hi(i,0),head:Hi(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function X(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function Z(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Fr,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function J(){var e=Xr("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Xr("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Si?e.style.width="1000px":e.setAttribute("wrap","off"),Pi&&(e.style.border="1px solid black"),X(e),t}function Q(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Fr,this.gracePeriod=!1}function ee(e,t){var n=We(e,t.line);if(!n||n.hidden)return null;var r=ur(e.doc,t.line),i=He(n,r,t.line),o=gr(r),a="left";o&&(a=di(o,t.ch)%2?"right":"left");var s=Ve(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function te(e,t){return t&&(e.bad=!0),e}function ne(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return te(e.clipPos(Hi(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return re(o,t,n)}}function re(e,t,n){function r(t,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=0>i?u.map:c[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var l=hr(0>i?e.line:e.rest[i]),f=o[a]+r;return(0>r||s!=t)&&(f=o[a+(r?1:0)]),Hi(l,f)}}}var i=e.text.firstChild,o=!1;if(!t||!Zo(i,t))return te(Hi(hr(e.line),0),!0);if(t==i&&(o=!0,t=i.childNodes[n],n=0,!t)){var a=e.rest?Hr(e.rest):e.line;return te(Hi(hr(a),a.text.length),o)}var s=3==t.nodeType?t:null,l=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,n&&(n=s.nodeValue.length));l.parentNode!=i;)l=l.parentNode;var u=e.measure,c=u.maps,f=r(s,l,n);if(f)return te(f,o);for(var d=l.nextSibling,h=s?s.nodeValue.length-n:0;d;d=d.nextSibling){if(f=r(d,d.firstChild,0))return te(Hi(f.line,f.ch-h),o);h+=d.textContent.length}var p=l.previousSibling;for(h=n;p;p=p.previousSibling){if(f=r(p,p.firstChild,-1))return te(Hi(f.line,f.ch+h),o);h+=d.textContent.length}}function ie(e,t){this.ranges=e,this.primIndex=t}function oe(e,t){this.anchor=e,this.head=t}function ae(e,t){var n=e[t];e.sort(function(e,t){return zi(e.from(),t.from())}),t=zr(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(zi(o.to(),i.from())>=0){var a=U(o.from(),i.from()),s=q(o.to(),i.to()),l=o.empty()?i.from()==i.head:o.from()==o.head;t>=r&&--t,e.splice(--r,2,new oe(l?s:a,l?a:s))}}return new ie(e,t)}function se(e,t){return new ie([new oe(e,t||e)],0)}function le(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ue(e,t){if(t.line<e.first)return Hi(e.first,0);var n=e.first+e.size-1;return t.line>n?Hi(n,ur(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?Hi(e.line,t):0>n?Hi(e.line,0):e}(t,ur(e,t.line).text.length)}function ce(e,t){return t>=e.first&&t<e.first+e.size}function fe(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=ue(e,t[r]);return n}function de(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(r){var o=zi(n,i)<0;o!=zi(r,i)<0?(i=n,n=r):o!=zi(n,r)<0&&(n=r)}return new oe(i,n)}return new oe(r||n,n)}function he(e,t,n,r){ye(e,new ie([de(e,e.sel.primary(),t,n)],0),r)}function pe(e,t,n){for(var r=[],i=0;i<e.sel.ranges.length;i++)r[i]=de(e,e.sel.ranges[i],t[i],null);ye(e,ae(r,e.sel.primIndex),n)}function me(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,ye(e,ae(i,e.sel.primIndex),r)}function ge(e,t,n,r){ye(e,se(t,n),r)}function ve(e,t,n){var r=e.history.done,i=Hr(r);i&&i.ranges?(r[r.length-1]=t,be(e,t,n)):ye(e,t,n)}function ye(e,t,n){be(e,t,n),function(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,Hr(i.done),t))?i.done[i.done.length-1]=t:xr(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&br(i.undone)}(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function be(e,t,n){(Nr(e,"beforeSelectionChange")||e.cm&&Nr(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new oe(ue(e,t[n].anchor),ue(e,t[n].head))},origin:n&&n.origin};return No(e,"beforeSelectionChange",e,r),e.cm&&No(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?ae(r.ranges,r.ranges.length-1):t}(e,t,n)),we(e,ke(e,t,n&&n.bias||(zi(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||an(e.cm)}function we(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,jr(e.cm)),Ar(e,"cursorActivity",e))}function xe(e){we(e,ke(e,e.sel,null,!1))}function ke(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=_e(e,a.anchor,s&&s.anchor,n,r),u=_e(e,a.head,s&&s.head,n,r);(i||l!=a.anchor||u!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new oe(l,u))}return i?ae(i,t.primIndex):t}function Se(e,t,n,r,i){var o=ur(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(No(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var u,c=l.find(0>r?1:-1);if((0>r?l.inclusiveRight:l.inclusiveLeft)&&(c=Ee(e,c,-r,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(u=zi(c,n))&&(0>r?0>u:u>0))return Se(e,c,t,r,i)}var f=l.find(0>r?-1:1);return(0>r?l.inclusiveLeft:l.inclusiveRight)&&(f=Ee(e,f,r,f.line==t.line?o:null)),f?Se(e,f,t,r,i):null}}return t}function _e(e,t,n,r,i){var o=r||1;return Se(e,t,n,o,i)||!i&&Se(e,t,n,o,!0)||Se(e,t,n,-o,i)||!i&&Se(e,t,n,-o,!0)||(e.cantEdit=!0,Hi(e.first,0))}function Ee(e,t,n,r){return 0>n&&0==t.ch?t.line>e.first?ue(e,Hi(t.line-1)):null:n>0&&t.ch==(r||ur(e,t.line)).text.length?t.line<e.first+e.size-1?Hi(t.line+1,0):null:new Hi(t.line,t.ch+n)}function Ce(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Te(e,t){for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(!1!==t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&Oe(e,s.head,i),l||Le(e,s,o)}}return r}function Oe(e,t,n){var r=et(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(Xr("div","","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(Xr("div","","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Le(e,t,n){function r(e,t,n,r){0>t&&(t=0),t=Math.round(t),r=Math.round(r),s.appendChild(Xr("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?c-e:n)+"px; height: "+(r-t)+"px"))}function i(t,n,i){function o(n,r){return Qe(e,Hi(t,n),"div",f,r)}var s,l,f=ur(a,t),d=f.text.length;return function(e,t,n,r){if(!e)return r(t,n,"ltr");for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr"),i=!0)}i||r(t,n,"ltr")}(gr(f),n||0,null==i?d:i,function(e,t,a){var f,h,p,m=o(e,"left");if(e==t)f=m,h=p=m.left;else{if(f=o(t-1,"right"),"rtl"==a){var g=m;m=f,f=g}h=m.left,p=f.right}null==n&&0==e&&(h=u),f.top-m.top>3&&(r(h,m.top,null,m.bottom),h=u,m.bottom<f.top&&r(h,m.bottom,null,f.top)),null==i&&t==d&&(p=c),(!s||m.top<s.top||m.top==s.top&&m.left<s.left)&&(s=m),(!l||f.bottom>l.bottom||f.bottom==l.bottom&&f.right>l.right)&&(l=f),u+1>h&&(h=u),r(h,f.top,p-h,f.bottom)}),{start:s,end:l}}var o=e.display,a=e.doc,s=document.createDocumentFragment(),l=Ne(e.display),u=l.left,c=Math.max(o.sizerWidth,Fe(e)-o.sizer.offsetLeft)-l.right,f=t.from(),d=t.to();if(f.line==d.line)i(f.line,f.ch,d.ch);else{var h=ur(a,f.line),p=ur(a,d.line),m=Dn(h)==Dn(p),g=i(f.line,f.ch,m?h.text.length+1:null).end,v=i(d.line,m?0:null,d.ch).start;m&&(g.top<v.top-2?(r(g.right,g.top,null,g.bottom),r(u,v.top,v.left,v.bottom)):r(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&r(u,g.bottom,null,v.top)}n.appendChild(s)}function Pe(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Me(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Yr(Ae,e))}function Ae(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=co(t.mode,Re(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength,l=Gn(e,o,s?co(t.mode,r):r,!0);o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),d=0;!f&&d<a.length;++d)f=a[d]!=o.styles[d];f&&i.push(t.frontier),o.stateAfter=s?r:co(t.mode,r)}else o.text.length<=e.options.maxHighlightLength&&Kn(e,o.text,r),o.stateAfter=t.frontier%5==0?co(t.mode,r):null;return++t.frontier,+new Date>n?(Me(e,e.options.workDelay),!0):void 0}),i.length&&pt(e,function(){for(var t=0;t<i.length;t++)xt(e,i[t],"text")})}}function Re(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var o=function(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=ur(o,s-1);if(l.stateAfter&&(!n||s<=o.frontier))return s;var u=qo(l.text,null,e.options.tabSize);(null==i||r>u)&&(i=s-1,r=u)}return i}(e,t,n),a=o>r.first&&ur(r,o-1).stateAfter;return a=a?co(r.mode,a):fo(r.mode),r.iter(o,t,function(n){Kn(e,n.text,a);var s=o==t-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;n.stateAfter=s?co(r.mode,a):null,++o}),n&&(r.frontier=o),a}function De(e){return e.lineSpace.offsetTop}function je(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ne(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Jr(e.measure,Xr("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Be(e){return Fo-e.display.nativeBarWidth}function Fe(e){return e.display.scroller.clientWidth-Be(e)-e.display.barWidth}function Ie(e){return e.display.scroller.clientHeight-Be(e)-e.display.barHeight}function He(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(r=0;r<e.rest.length;r++)if(hr(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function ze(e,t,n,r){return Ue(e,qe(e,t),n,r)}function We(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[St(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function qe(e,t){var n=hr(t),r=We(e,n);r&&!r.text?r=null:r&&r.changes&&(M(e,r,n,P(e)),e.curOp.forceUpdate=!0),r||(r=function(e,t){var n=hr(t=Dn(t)),r=e.display.externalMeasured=new yt(e.doc,t,n);r.lineN=n;var i=r.built=Zn(e,r);return r.text=i.pre,Jr(e.display.lineMeasure,i.pre),r}(e,t));var i=He(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Ue(e,t,n,r,i){t.before&&(n=-1);var o,a=n+(r||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var r=e.options.lineWrapping,i=r&&Fe(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,r){var i,o=Ve(t.map,n,r),a=o.node,s=o.start,l=o.end,u=o.collapse;if(3==a.nodeType){for(var c=0;4>c;c++){for(;s&&Kr(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+l<o.coverEnd&&Kr(t.line.text.charAt(o.coverStart+l));)++l;if(xi&&9>ki&&0==s&&l==o.coverEnd-o.coverStart)i=a.parentNode.getBoundingClientRect();else if(xi&&e.options.lineWrapping){var f=Go(a,s,l).getClientRects();i=f.length?f["right"==r?f.length-1:0]:Yi}else i=Go(a,s,l).getBoundingClientRect()||Yi;if(i.left||i.right||0==s)break;l=s,s-=1,u="right"}xi&&11>ki&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=sa)return sa;var t=Jr(e,Xr("span","x")),n=t.getBoundingClientRect(),r=Go(t,0,1).getBoundingClientRect();return sa=Math.abs(n.left-r.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}(e.display.measure,i))}else s>0&&(u=r="right"),i=e.options.lineWrapping&&(f=a.getClientRects()).length>1?f["right"==r?f.length-1:0]:a.getBoundingClientRect();if(xi&&9>ki&&!s&&(!i||!i.left&&!i.right)){var d=a.parentNode.getClientRects()[0];i=d?{left:d.left,right:d.left+at(e.display),top:d.top,bottom:d.bottom}:Yi}var h=i.top-t.rect.top,p=i.bottom-t.rect.top,m=(h+p)/2,g=t.view.measure.heights;for(c=0;c<g.length-1&&!(m<g[c]);c++);var v=c?g[c-1]:0,y=g[c],b={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:v,bottom:y};return i.left||i.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=h,b.rbottom=p),b}(e,t,n,r)).bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function Ve(e,t,n){for(var r,i,o,a,s=0;s<e.length;s+=3){var l=e[s],u=e[s+1];if(l>t?(i=0,o=1,a="left"):u>t?o=1+(i=t-l):(s==e.length-3||t==u&&e[s+3]>t)&&(i=(o=u-l)-1,t>=u&&(a="right")),null!=i){if(r=e[s+2],l==u&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;s&&e[s-2]==e[s-3]&&e[s-1].insertLeft;)r=e[2+(s-=3)],a="left";if("right"==n&&i==u-l)for(;s<e.length-3&&e[s+3]==e[s+4]&&!e[s+5].insertLeft;)r=e[(s+=3)+2],a="right";break}}return{node:r,start:i,end:o,collapse:a,coverStart:l,coverEnd:u}}function Ye(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Ge(e){e.display.externalMeasure=null,Zr(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Ye(e.display.view[t])}function $e(e){Ge(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Ke(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Xe(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ze(e,t,n,r){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var o=Hn(t.widgets[i]);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=mr(t);if("local"==r?a+=De(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:Xe());var l=s.left+("window"==r?0:Ke());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function Je(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=Ke(),i-=Xe();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function Qe(e,t,n,r,i){return r||(r=ur(e.doc,t.line)),Ze(e,r,ze(e,r,t.ch,i),n)}function et(e,t,n,r,i,o){function a(t,a){var s=Ue(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,Ze(e,r,s,n)}function s(e,t){var n=l[t],r=n.level%2;return e==oi(n)&&t&&n.level<l[t-1].level?(e=ai(n=l[--t])-(n.level%2?0:1),r=!0):e==ai(n)&&t<l.length-1&&n.level<l[t+1].level&&(e=oi(n=l[++t])-n.level%2,r=!1),r&&e==n.to&&e>n.from?a(e-1):a(e,r)}r=r||ur(e.doc,t.line),i||(i=qe(e,r));var l=gr(r),u=t.ch;if(!l)return a(u);var c=s(u,di(l,u));return null!=ua&&(c.other=s(u,ua)),c}function tt(e,t){var n=0;t=ue(e.doc,t),e.options.lineWrapping||(n=at(e.display)*t.ch);var r=ur(e.doc,t.line),i=mr(r)+De(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function nt(e,t,n,r){var i=Hi(e,t);return i.xRel=r,n&&(i.outside=!0),i}function rt(e,t,n){var r=e.doc;if(0>(n+=e.display.viewOffset))return nt(r.first,0,!0,-1);var i=pr(r,n),o=r.first+r.size-1;if(i>o)return nt(r.first+r.size-1,ur(r,o).text.length,!0,1);0>t&&(t=0);for(var a=ur(r,i);;){var s=it(e,a,i,t,n),l=An(a),u=l&&l.find(0,!0);if(!l||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=hr(a=u.to.line)}}function it(e,t,n,r,i){function o(r){var i=et(e,Hi(n,r),"line",t,u);return s=!0,a>i.bottom?i.left-l:a<i.top?i.left+l:(s=!1,i.left)}var a=i-mr(t),s=!1,l=2*e.display.wrapper.clientWidth,u=qe(e,t),c=gr(t),f=t.text.length,d=si(t),h=li(t),p=o(d),m=s,g=o(h),v=s;if(r>g)return nt(n,h,v,1);for(;;){if(c?h==d||h==pi(t,d,1):1>=h-d){for(var y=p>r||g-r>=r-p?d:h,b=r-(y==d?p:g);Kr(t.text.charAt(y));)++y;return nt(n,y,y==d?m:v,-1>b?-1:b>1?1:0)}var w=Math.ceil(f/2),x=d+w;if(c){x=d;for(var k=0;w>k;++k)x=pi(t,x,1)}var S=o(x);S>r?(h=x,g=S,(v=s)&&(g+=1e3),f=w):(d=x,p=S,m=s,f-=w)}}function ot(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==qi){qi=Xr("pre");for(var t=0;49>t;++t)qi.appendChild(document.createTextNode("x")),qi.appendChild(Xr("br"));qi.appendChild(document.createTextNode("x"))}Jr(e.measure,qi);var n=qi.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),Zr(e.measure),n||1}function at(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Xr("span","xxxxxxxxxx"),n=Xr("pre",[t]);Jr(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function st(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++$i},Gi?Gi.ops.push(e.curOp):e.curOp.ownsGroup=Gi={ops:[e.curOp],delayedCallbacks:[]}}function lt(e){var t=e.curOp.ownsGroup;if(t)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}(t)}finally{Gi=null;for(var n=0;n<t.ops.length;n++)t.ops[n].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)ut(t[n]);for(n=0;n<t.length;n++)ct(t[n]);for(n=0;n<t.length;n++)ft(t[n]);for(n=0;n<t.length;n++)dt(t[n]);for(n=0;n<t.length;n++)ht(t[n])}(t)}}function ut(e){var t=e.cm,n=t.display;(function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Be(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Be(e)+"px",t.scrollbarsClipped=!0)})(t),e.updateMaxLine&&c(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new S(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function ct(e){e.updatedDisplay=e.mustUpdate&&_(e.cm,e.update)}function ft(e){var t=e.cm,n=t.display;e.updatedDisplay&&O(t),e.barMeasure=d(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=ze(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Be(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Fe(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection(e.focus))}function dt(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&jt(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==Qr()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&g(t,e.barMeasure),e.updatedDisplay&&T(t,e.barMeasure),e.selectionChanged&&Pe(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&V(e.cm)}function ht(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&E(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,b(t)),e.scrollToPos){var i=function(e,t,n,r){null==r&&(r=0);for(var i=0;5>i;i++){var o=!1,a=et(e,t),s=n&&n!=t?et(e,n):a,l=rn(e,Math.min(a.left,s.left),Math.min(a.top,s.top)-r,Math.max(a.left,s.left),Math.max(a.bottom,s.bottom)+r),u=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=l.scrollTop&&(Dt(e,l.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(o=!0)),null!=l.scrollLeft&&(jt(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return a}(t,ue(r,e.scrollToPos.from),ue(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&function(e,t){if(!Dr(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Li){var o=Xr("div","",null,"position: absolute; top: "+(t.top-n.viewOffset-De(e.display))+"px; height: "+(t.bottom-t.top+Be(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t,i)}var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||No(o[s],"hide");if(a)for(s=0;s<a.length;++s)a[s].lines.length&&No(a[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&No(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function pt(e,t){if(e.curOp)return t();st(e);try{return t()}finally{lt(e)}}function mt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);st(e);try{return t.apply(e,arguments)}finally{lt(e)}}}function gt(e){return function(){if(this.curOp)return e.apply(this,arguments);st(this);try{return e.apply(this,arguments)}finally{lt(this)}}}function vt(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);st(t);try{return e.apply(this,arguments)}finally{lt(t)}}}function yt(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=An(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?hr(Hr(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Bn(e,t)}function bt(e,t,n){for(var r,i=[],o=t;n>o;o=r){var a=new yt(e.doc,ur(e.doc,o),o);r=o+a.size,i.push(a)}return i}function wt(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Ii&&jn(e.doc,t)<i.viewTo&&kt(e);else if(n<=i.viewFrom)Ii&&Nn(e.doc,n+r)>i.viewFrom?kt(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)kt(e);else if(t<=i.viewFrom)(o=_t(e,n,n+r,1))?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):kt(e);else if(n>=i.viewTo){var o;(o=_t(e,t,t,-1))?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):kt(e)}else{var a=_t(e,t,t,-1),s=_t(e,n,n+r,1);a&&s?(i.view=i.view.slice(0,a.index).concat(bt(e,a.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):kt(e)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(i.externalMeasured=null))}function xt(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[St(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==zr(a,n)&&a.push(n)}}}function kt(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function St(e,t){if(t>=e.display.viewTo)return null;if(0>(t-=e.display.viewFrom))return null;for(var n=e.display.view,r=0;r<n.length;r++)if(0>(t-=n[r].size))return r}function _t(e,t,n,r){var i,o=St(e,t),a=e.display.view;if(!Ii||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=0,l=e.display.viewFrom;o>s;s++)l+=a[s].size;if(l!=t){if(r>0){if(o==a.length-1)return null;i=l+a[o].size-t,o++}else i=l-t;t+=i,n+=i}for(;jn(e.doc,n)!=n;){if(o==(0>r?0:a.length-1))return null;n+=r*a[o-(0>r?1:0)].size,o+=r}return{index:o,lineN:n}}function Et(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Ct(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Tt(e,t){for(var n=Lr(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Ot(e,t,n,r){var i=e.display;if(!n&&"true"==Lr(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,u=rt(e,o,a);if(r&&1==u.xRel&&(l=ur(e.doc,u.line).text).length==u.ch){var c=qo(l,l.length,e.options.tabSize)-l.length;u=Hi(u.line,Math.max(0,Math.round((o-Ne(e.display).left)/at(e.display))-c))}return u}function Lt(e){var t=this,n=t.display;if(!(Dr(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.shift=e.shiftKey,Tt(n,e))return void(Si||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Mt(t,e)){var r=Ot(t,e);switch(window.focus(),Pr(e)){case 1:t.state.selectingText?t.state.selectingText(e):r?function(e,t,n){xi?setTimeout(Yr(V,e),0):e.curOp.focus=Qr();var r,i=+new Date;Vi&&Vi.time>i-400&&0==zi(Vi.pos,n)?r="triple":Ui&&Ui.time>i-400&&0==zi(Ui.pos,n)?(r="double",Vi={time:i,pos:n}):(r="single",Ui={time:i,pos:n});var o,a=e.doc.sel,s=Ai?t.metaKey:t.ctrlKey;e.options.dragDrop&&ra&&!e.isReadOnly()&&"single"==r&&(o=a.contains(n))>-1&&(zi((o=a.ranges[o]).from(),n)<0||n.xRel>0)&&(zi(o.to(),n)>0||n.xRel<0)?function(e,t,n,r){var i=e.display,o=+new Date,a=mt(e,function(s){Si&&(i.scroller.draggable=!1),e.state.draggingText=!1,jo(document,"mouseup",a),jo(i.scroller,"drop",a),Math.abs(t.clientX-s.clientX)+Math.abs(t.clientY-s.clientY)<10&&(Po(s),!r&&+new Date-200<o&&he(e.doc,n),Si||xi&&9==ki?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});Si&&(i.scroller.draggable=!0),e.state.draggingText=a,i.scroller.dragDrop&&i.scroller.dragDrop(),Ro(document,"mouseup",a),Ro(i.scroller,"drop",a)}(e,t,n,s):function(e,t,n,r,i){function o(t){if(0!=zi(g,t))if(g=t,"rect"==r){for(var i=[],o=e.options.tabSize,a=qo(ur(u,n.line).text,n.ch,o),s=qo(ur(u,t.line).text,t.ch,o),l=Math.min(a,s),h=Math.max(a,s),p=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));m>=p;p++){var v=ur(u,p).text,y=Uo(v,l,o);l==h?i.push(new oe(Hi(p,y),Hi(p,y))):v.length>y&&i.push(new oe(Hi(p,y),Hi(p,Uo(v,h,o))))}i.length||i.push(new oe(n,n)),ye(u,ae(d.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=c,w=b.anchor,x=t;if("single"!=r){if("double"==r)var k=e.findWordAt(t);else k=new oe(Hi(t.line,0),ue(u,Hi(t.line+1,0)));zi(k.anchor,w)>0?(x=k.head,w=U(b.from(),k.anchor)):(x=k.anchor,w=q(b.to(),k.head))}(i=d.ranges.slice(0))[f]=new oe(ue(u,w),x),ye(u,ae(i,f),zo)}}function a(t){var n=++b,i=Ot(e,t,!0,"rect"==r);if(i)if(0!=zi(i,g)){e.curOp.focus=Qr(),o(i);var s=y(l,u);(i.line>=s.to||i.line<s.from)&&setTimeout(mt(e,function(){b==n&&a(t)}),150)}else{var c=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;c&&setTimeout(mt(e,function(){b==n&&(l.scroller.scrollTop+=c,a(t))}),50)}}function s(t){e.state.selectingText=!1,b=1/0,Po(t),l.input.focus(),jo(document,"mousemove",w),jo(document,"mouseup",x),u.history.lastSelOrigin=null}var l=e.display,u=e.doc;Po(t);var c,f,d=u.sel,h=d.ranges;if(i&&!t.shiftKey?(f=u.sel.contains(n),c=f>-1?h[f]:new oe(n,n)):(c=u.sel.primary(),f=u.sel.primIndex),Ri?t.shiftKey&&t.metaKey:t.altKey)r="rect",i||(c=new oe(n,n)),n=Ot(e,t,!0,!0),f=-1;else if("double"==r){var p=e.findWordAt(n);c=e.display.shift||u.extend?de(u,c,p.anchor,p.head):p}else if("triple"==r){var m=new oe(Hi(n.line,0),ue(u,Hi(n.line+1,0)));c=e.display.shift||u.extend?de(u,c,m.anchor,m.head):m}else c=de(u,c,n);i?-1==f?(f=h.length,ye(u,ae(h.concat([c]),f),{scroll:!1,origin:"*mouse"})):h.length>1&&h[f].empty()&&"single"==r&&!t.shiftKey?(ye(u,ae(h.slice(0,f).concat(h.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),d=u.sel):me(u,f,c,zo):(f=0,ye(u,new ie([c],0),zo),d=u.sel);var g=n,v=l.wrapper.getBoundingClientRect(),b=0,w=mt(e,function(e){Pr(e)?a(e):s(e)}),x=mt(e,s);e.state.selectingText=x,Ro(document,"mousemove",w),Ro(document,"mouseup",x)}(e,t,n,r,s)}(t,e,r):Lr(e)==n.scroller&&Po(e);break;case 2:Si&&(t.state.lastMiddleDown=+new Date),r&&he(t.doc,r),setTimeout(function(){n.input.focus()},20),Po(e);break;case 3:Bi?Vt(t,e):function(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Ut(e))},100)}(t)}}}}function Pt(e,t,n,r){try{var i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Po(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!Nr(e,n))return Or(t);o-=s.top-a.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var u=a.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=i){var c=pr(e.doc,o),f=e.options.gutters[l];return No(e,n,e,c,f,t),Or(t)}}}function Mt(e,t){return Pt(e,t,"gutterClick",!0)}function At(e){var t=this;if(Rt(t),!Dr(t,e)&&!Tt(t.display,e)){Po(e),xi&&(Ki=+new Date);var n=Ot(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=function(e,r){if(!t.options.allowDropFileTypes||-1!=zr(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=mt(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[r]=e,++a==i){var l={from:n=ue(t.doc,n),to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Xt(t.doc,l),ve(t.doc,se(n,to(l)))}}),s.readAsText(e)}},l=0;i>l;++l)s(r[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{if(o=e.dataTransfer.getData("Text")){if(t.state.draggingText&&!(Ai?e.altKey:e.ctrlKey))var u=t.listSelections();if(be(t.doc,se(n,n)),u)for(l=0;l<u.length;++l)nn(t.doc,"",u[l].anchor,u[l].head,"drag");t.replaceSelection(o,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Rt(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Dt(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,yi||C(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),yi&&C(e),Me(e,100))}function jt(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,b(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Nt(e,t){var n=Ji(t),r=n.x,i=n.y,o=e.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(r&&s||i&&l){if(i&&Ai&&Si)e:for(var u=t.target,c=o.view;u!=a;u=u.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==u){e.display.currentWheelTarget=u;break e}if(r&&!yi&&!Ci&&null!=Zi)return i&&l&&Dt(e,Math.max(0,Math.min(a.scrollTop+i*Zi,a.scrollHeight-a.clientHeight))),jt(e,Math.max(0,Math.min(a.scrollLeft+r*Zi,a.scrollWidth-a.clientWidth))),(!i||i&&l)&&Po(t),void(o.wheelStartX=null);if(i&&null!=Zi){var d=i*Zi,h=e.doc.scrollTop,p=h+o.wrapper.clientHeight;0>d?h=Math.max(0,h+d-50):p=Math.min(e.doc.height,p+d+50),C(e,{top:h,bottom:p})}20>Xi&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=a.scrollLeft-o.wheelStartX,t=a.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Zi=(Zi*Xi+n)/(Xi+1),++Xi)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function Bt(e,t,n){if("string"==typeof t&&!(t=ho[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=Io}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function Ft(e,t,n,r){var i=e.state.keySeq;if(i){if(go(t))return"handled";Qi.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var o=function(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=mo(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&mo(t,e.options.extraKeys,n,e)||mo(t,e.options.keyMap,n,e)}(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Ar(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(Po(n),Pe(e)),i&&!o&&/\'$/.test(t)?(Po(n),!0):!!o}function It(e,t){var n=vo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?Ft(e,"Shift-"+n,t,function(t){return Bt(e,t,!0)})||Ft(e,n,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?Bt(e,t):void 0}):Ft(e,n,t,function(t){return Bt(e,t)}))}function Ht(e){var t=this;if(t.curOp.focus=Qr(),!Dr(t,e)){xi&&11>ki&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=It(t,e);Ci&&(eo=r?n:null,!r&&88==n&&!aa&&(Ai?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){function t(e){18!=e.keyCode&&e.altKey||(ea(n,"CodeMirror-crosshair"),jo(document,"keyup",t),jo(document,"mouseover",t))}var n=e.display.lineDiv;ta(n,"CodeMirror-crosshair"),Ro(document,"keyup",t),Ro(document,"mouseover",t)}(t)}}function zt(e){16==e.keyCode&&(this.doc.sel.shift=!1),Dr(this,e)}function Wt(e){var t=this;if(!(Tt(t.display,e)||Dr(t,e)||e.ctrlKey&&!e.altKey||Ai&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(Ci&&n==eo)return eo=null,void Po(e);Ci&&(!e.which||e.which<10)&&It(t,e)||function(e,t,n){return Ft(e,"'"+n+"'",t,function(t){return Bt(e,t,!0)})}(t,e,String.fromCharCode(null==r?n:r))||t.display.input.onKeyPress(e)}}function qt(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(No(e,"focus",e),e.state.focused=!0,ta(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),Si&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Pe(e))}function Ut(e){e.state.delayingBlurEvent||(e.state.focused&&(No(e,"blur",e),e.state.focused=!1,ea(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Vt(e,t){Tt(e.display,t)||function(e,t){return!!Nr(e,"gutterContextMenu")&&Pt(e,t,"gutterContextMenu",!1)}(e,t)||Dr(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function Yt(e,t){if(zi(e,t.from)<0)return e;if(zi(e,t.to)<=0)return to(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=to(t).ch-t.to.ch),Hi(n,r)}function Gt(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new oe(Yt(i.anchor,t),Yt(i.head,t)))}return ae(n,e.sel.primIndex)}function $t(e,t,n){return e.line==t.line?Hi(n.line,e.ch-t.ch+n.ch):Hi(n.line+(e.line-t.line),e.ch)}function Kt(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(t,n,r,i){t&&(this.from=ue(e,t)),n&&(this.to=ue(e,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),No(e,"beforeChange",e,r),e.cm&&No(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Xt(e,t,n){if(e.cm){if(!e.cm.curOp)return mt(e.cm,Xt)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Nr(e,"beforeChange")||e.cm&&Nr(e.cm,"beforeChange"))||(t=Kt(e,t,!0))){var r=Fi&&!n&&function(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=zr(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var u=i[l];if(!(zi(u.to,s.from)<0||zi(u.from,s.to)>0)){var c=[l,1],f=zi(u.from,s.from),d=zi(u.to,s.to);(0>f||!a.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(d>0||!a.inclusiveRight&&!d)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-1}}return i}(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Zt(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else Zt(e,t)}}function Zt(e,t){if(1!=t.text.length||""!=t.text[0]||0!=zi(t.from,t.to)){var n=Gt(e,t);wr(e,t,n,e.cm?e.cm.curOp.id:NaN),en(e,t,n,kn(e,t));var r=[];sr(e,function(e,n){n||-1!=zr(r,e.history)||(Tr(e.history,t),r.push(e.history)),en(e,t,null,kn(e,t))})}}function Jt(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var r,i=e.history,o=e.sel,a="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,l=0;l<a.length&&(r=a[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;(r=a.pop()).ranges;){if(xr(r,s),n&&!r.equals(e.sel))return void ye(e,r,{clearRedo:!1});o=r}var u=[];xr(o,s),s.push({changes:u,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;var c=Nr(e,"beforeChange")||e.cm&&Nr(e.cm,"beforeChange");for(l=r.changes.length-1;l>=0;--l){var f=r.changes[l];if(f.origin=t,c&&!Kt(e,f,!1))return void(a.length=0);u.push(yr(e,f));var d=l?Gt(e,f):Hr(a);en(e,f,d,_n(e,f)),!l&&e.cm&&e.cm.scrollIntoView({from:f.from,to:to(f)});var h=[];sr(e,function(e,t){t||-1!=zr(h,e.history)||(Tr(e.history,f),h.push(e.history)),en(e,f,null,_n(e,f))})}}}}function Qt(e,t){if(0!=t&&(e.first+=t,e.sel=new ie(Wr(e.sel.ranges,function(e){return new oe(Hi(e.anchor.line+t,e.anchor.ch),Hi(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){wt(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)xt(e.cm,r,"gutter")}}function en(e,t,n,r){if(e.cm&&!e.cm.curOp)return mt(e.cm,en)(e,t,n,r);if(t.to.line<e.first)Qt(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Qt(e,i),t={from:Hi(e.first,0),to:Hi(t.to.line+i,t.to.ch),text:[Hr(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:Hi(o,ur(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=cr(e,t.from,t.to),n||(n=Gt(e,t)),e.cm?tn(e.cm,t,r):ir(e,t,r),be(e,n,Ho)}}function tn(e,t,n){var i=e.doc,o=e.display,a=t.from,s=t.to,l=!1,c=a.line;e.options.lineWrapping||(c=hr(Dn(ur(i,a.line))),i.iter(c,s.line+1,function(e){return e==o.maxLine?(l=!0,!0):void 0})),i.sel.contains(t.from,t.to)>-1&&jr(e),ir(i,t,n,r(e)),e.options.lineWrapping||(i.iter(c,a.line+t.text.length,function(e){var t=u(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,a.line),Me(e,400);var f=t.text.length-(s.line-a.line)-1;t.full?wt(e):a.line!=s.line||1!=t.text.length||rr(e.doc,t)?wt(e,a.line,s.line+1,f):xt(e,a.line,"text");var d=Nr(e,"changes"),h=Nr(e,"change");if(h||d){var p={from:a,to:s,text:t.text,removed:t.removed,origin:t.origin};h&&Ar(e,"change",e,p),d&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function nn(e,t,n,r,i){if(r||(r=n),zi(r,n)<0){var o=r;r=n,n=o}"string"==typeof t&&(t=e.splitLines(t)),Xt(e,{from:n,to:r,text:t,origin:i})}function rn(e,t,n,r,i){var o=e.display,a=ot(e.display);0>n&&(n=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=Ie(e),u={};i-n>l&&(i=n+l);var c=e.doc.height+je(o),f=a>n,d=i>c-a;if(s>n)u.scrollTop=f?0:n;else if(i>s+l){var h=Math.min(n,(d?c:i)-l);h!=s&&(u.scrollTop=h)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,m=Fe(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),g=r-t>m;return g&&(r=t+m),10>t?u.scrollLeft=0:p>t?u.scrollLeft=Math.max(0,t-(g?0:10)):r>m+p-3&&(u.scrollLeft=r+(g?0:10)-m),u}function on(e,t,n){null==t&&null==n||sn(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function an(e){sn(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?Hi(t.line,t.ch-1):t,r=Hi(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function sn(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=tt(e,t.from),r=tt(e,t.to),i=rn(e,Math.min(n.left,r.left),Math.min(n.top,r.top)-t.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function ln(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=Re(e,t):n="prev");var a=e.options.tabSize,s=ur(o,t),l=qo(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((u=o.mode.indent(i,s.text.slice(c.length),s.text))==Io||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>o.first?qo(ur(o,t-1).text,null,a):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var f="",d=0;if(e.options.indentWithTabs)for(var h=Math.floor(u/a);h;--h)d+=a,f+="\t";if(u>d&&(f+=Ir(u-d)),f!=c)return nn(o,f,Hi(t,0),Hi(t,c.length),"+input"),s.stateAfter=null,!0;for(h=0;h<o.sel.ranges.length;h++){var p=o.sel.ranges[h];if(p.head.line==t&&p.head.ch<c.length){me(o,h,new oe(d=Hi(t,c.length),d));break}}}function un(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=ur(e,le(e,t)):i=hr(t),null==i?null:(r(o,i)&&e.cm&&xt(e.cm,i,n),o)}function cn(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&zi(o.from,Hr(r).to)<=0;){var a=r.pop();if(zi(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}pt(e,function(){for(var t=r.length-1;t>=0;t--)nn(e.doc,"",r[t].from,r[t].to,"+delete");an(e)})}function fn(e,t,n,r,i){function o(){var t=s+n;return!(t<e.first||t>=e.first+e.size)&&(s=t,c=ur(e,t))}function a(e){var t=(i?pi:mi)(c,l,n,!0);if(null==t){if(e||!o())return!1;l=i?(0>n?li:si)(c):0>n?c.text.length:0}else l=t;return!0}var s=t.line,l=t.ch,u=n,c=ur(e,s);if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var f=null,d="group"==r,h=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(0>n)||a(!p);p=!1){var m=c.text.charAt(l)||"\n",g=Gr(m,h)?"w":d&&"\n"==m?"n":!d||/\s/.test(m)?null:"p";if(!d||p||g||(g="s"),f&&f!=g){0>n&&(n=1,a());break}if(g&&(f=g),n>0&&!a(!p))break}var v=_e(e,Hi(s,l),t,u,!0);return zi(t,v)||(v.hitSide=!0),v}function dn(e,t,n,r){var i,o=e.doc,a=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+n*(s-(0>n?1.5:.5)*ot(e.display))}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;;){var l=rt(e,a,i);if(!l.outside)break;if(0>n?0>=i:i>=o.height){l.hitSide=!0;break}i+=5*n}return l}function hn(t,n,r,i){e.defaults[t]=n,r&&(ro[t]=i?function(e,t,n){n!=io&&r(e,t,n)}:r)}function pn(e){for(var t,n,r,i,o=e.split(/-(?!$)/),a=(e=o[o.length-1],0);a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function mn(e){return"string"==typeof e?po[e]:e}function gn(e,t,n,r,i){if(r&&r.shared)return function(e,t,n,r,i){(r=Vr(r)).shared=!1;var o=[gn(e,t,n,r,i)],a=o[0],s=r.widgetNode;return sr(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(gn(e,ue(e,t),ue(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=Hr(o)}),new xo(o,a)}(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return mt(e.cm,gn)(e,t,n,r,i);var o=new wo(e,i),a=zi(t,n);if(r&&Vr(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Xr("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Rn(e,t.line,t,n,o)||t.line!=n.line&&Rn(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ii=!0}o.addToHistory&&wr(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,u=e.cm;if(e.iter(l,n.line+1,function(e){u&&o.collapsed&&!u.options.lineWrapping&&Dn(e)==u.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&dr(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new bn(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&e.iter(t.line,n.line+1,function(t){Bn(e,t)&&dr(t,0)}),o.clearOnEnter&&Ro(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Fi=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++bo,o.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),o.collapsed)wt(u,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=t.line;c<=n.line;c++)xt(u,c,"text");o.atomic&&xe(u.doc),Ar(u,"markerAdded",u,o)}return o}function vn(e){return e.findMarks(Hi(e.first,0),e.clipPos(Hi(e.lastLine())),function(e){return e.parent})}function yn(e){for(var t=0;t<e.length;t++){var n=e[t],r=[n.primary.doc];sr(n.primary.doc,function(e){r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==zr(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}}}function bn(e,t,n){this.marker=e,this.from=t,this.to=n}function wn(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function xn(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function kn(e,t){if(t.full)return null;var n=ce(e,t.from.line)&&ur(e,t.from.line).markedSpans,r=ce(e,t.to.line)&&ur(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==zi(t.from,t.to),s=function(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new bn(a,o.from,s?null:o.to))}}return r}(n,i,a),l=function(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new bn(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return r}(r,o,a),u=1==t.text.length,c=Hr(t.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f)null==(d=s[f]).to&&((h=wn(l,d.marker))?u&&(d.to=null==h.to?null:h.to+c):d.to=i);if(l)for(f=0;f<l.length;++f){var d,h;null!=(d=l[f]).to&&(d.to+=c),null==d.from?(h=wn(s,d.marker))||(d.from=c,u&&(s||(s=[])).push(d)):(d.from+=c,u&&(s||(s=[])).push(d))}s&&(s=Sn(s)),l&&l!=s&&(l=Sn(l));var p=[s];if(!u){var m,g=t.text.length-2;if(g>0&&s)for(f=0;f<s.length;++f)null==s[f].to&&(m||(m=[])).push(new bn(s[f].marker,null,null));for(f=0;g>f;++f)p.push(m);p.push(l)}return p}function Sn(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function _n(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=0,i=[];r<t.text.length;++r)i.push(Sr(n[r]));return i}(e,t),r=kn(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else a&&(n[i]=a)}return n}function En(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Cn(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Tn(e){return e.inclusiveLeft?-1:0}function On(e){return e.inclusiveRight?1:0}function Ln(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=zi(r.from,i.from)||Tn(e)-Tn(t);return o?-o:zi(r.to,i.to)||On(e)-On(t)||t.id-e.id}function Pn(e,t){var n,r=Ii&&e.markedSpans;if(r)for(var i,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||Ln(n,i.marker)<0)&&(n=i.marker);return n}function Mn(e){return Pn(e,!0)}function An(e){return Pn(e,!1)}function Rn(e,t,n,r,i){var o=ur(e,t),a=Ii&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=zi(u.from,n)||Tn(l.marker)-Tn(i),f=zi(u.to,r)||On(l.marker)-On(i);if(!(c>=0&&0>=f||0>=c&&f>=0)&&(0>=c&&(l.marker.inclusiveRight&&i.inclusiveLeft?zi(u.to,n)>=0:zi(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?zi(u.from,r)<=0:zi(u.from,r)<0)))return!0}}}function Dn(e){for(var t;t=Mn(e);)e=t.find(-1,!0).line;return e}function jn(e,t){var n=ur(e,t),r=Dn(n);return n==r?t:hr(r)}function Nn(e,t){if(t>e.lastLine())return t;var n,r=ur(e,t);if(!Bn(e,r))return t;for(;n=An(r);)r=n.find(1,!0).line;return hr(r)+1}function Bn(e,t){var n=Ii&&t.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Fn(e,t,r))return!0}}function Fn(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return Fn(e,r.line,wn(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Fn(e,t,i))return!0}function In(e,t,n){mr(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&on(e,null,n)}function Hn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Zo(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),Jr(t.display.measure,Xr("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function zn(e){e.parent=null,En(e)}function Wn(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function qn(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var r=e.innerMode(t,n);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Un(t,n,r,i){for(var o=0;10>o;o++){i&&(i[0]=e.innerMode(t,r).mode);var a=t.token(n,r);if(n.pos>n.start)return a}throw new Error("Mode "+t.name+" failed to advance stream.")}function Vn(e,t,n,r){function i(e){return{start:f.start,end:f.pos,string:f.current(),type:o||null,state:e?co(a.mode,c):c}}var o,a=e.doc,s=a.mode;t=ue(a,t);var l,u=ur(a,t.line),c=Re(e,t.line,n),f=new yo(u.text,e.options.tabSize);for(r&&(l=[]);(r||f.pos<t.ch)&&!f.eol();)f.start=f.pos,o=Un(s,f,c),r&&l.push(i(!0));return r?l:i()}function Yn(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,f=new yo(t,e.options.tabSize),d=e.options.addModeClass&&[null];for(""==t&&Wn(qn(n,r),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,a&&Kn(e,t,r,f.pos),f.pos=t.length,l=null):l=Wn(Un(n,f,r,d),o),d){var h=d[0].name;h&&(l="m-"+(l?h+" "+l:h))}if(!s||c!=l){for(;u<f.start;)i(u=Math.min(f.start,u+5e4),c);c=l}f.start=f.pos}for(;u<f.pos;){var p=Math.min(f.pos,u+5e4);i(p,c),u=p}}function Gn(e,t,n,r){var i=[e.state.modeGen],o={};Yn(e,t.text,e.doc.mode,n,function(e,t){i.push(e,t)},o,r);for(var a=0;a<e.state.overlays.length;++a){var s=e.state.overlays[a],l=1,u=0;Yn(e,t.text,s.mode,!0,function(e,t){for(var n=l;e>u;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,u=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function $n(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=Re(e,hr(t)),i=Gn(e,t,t.text.length>e.options.maxHighlightLength?co(e.doc.mode,r):r);t.stateAfter=r,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Kn(e,t,n,r){var i=e.doc.mode,o=new yo(t,e.options.tabSize);for(o.start=o.pos=r||0,""==t&&qn(i,n);!o.eol();)Un(i,o,n),o.start=o.pos}function Xn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Eo:_o;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Zn(e,t){var n=Xr("span",null,null,Si?"padding-right: .1px":null),r={pre:Xr("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,splitSpaces:(xi||Si)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o,a=i?t.rest[i-1]:t.line;r.pos=0,r.addToken=Jn,ii(e.display.measure)&&(o=gr(a))&&(r.addToken=er(r.addToken,o)),r.map=[],nr(a,r,$n(e,a,t!=e.display.externalMeasured&&hr(a))),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=ti(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=ti(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(ri(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(Si){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return No(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=ti(r.pre.className,r.textClass||"")),r}function Jn(e,t,n,r,i,o,a){if(t){var s=e.splitSpaces?t.replace(/ {3,}/g,Qn):t,l=e.cm.state.specialChars,u=!1;if(l.test(t))for(var c=document.createDocumentFragment(),f=0;;){l.lastIndex=f;var d=l.exec(t),h=d?d.index-f:t.length-f;if(h){var p=document.createTextNode(s.slice(f,f+h));xi&&9>ki?c.appendChild(Xr("span",[p])):c.appendChild(p),e.map.push(e.pos,e.pos+h,p),e.col+=h,e.pos+=h}if(!d)break;if(f+=h+1,"\t"==d[0]){var m=e.cm.options.tabSize,g=m-e.col%m;(p=c.appendChild(Xr("span",Ir(g),"cm-tab"))).setAttribute("role","presentation"),p.setAttribute("cm-text","\t"),e.col+=g}else"\r"==d[0]||"\n"==d[0]?((p=c.appendChild(Xr("span","\r"==d[0]?"":"","cm-invalidchar"))).setAttribute("cm-text",d[0]),e.col+=1):((p=e.cm.options.specialCharPlaceholder(d[0])).setAttribute("cm-text",d[0]),xi&&9>ki?c.appendChild(Xr("span",[p])):c.appendChild(p),e.col+=1);e.map.push(e.pos,e.pos+1,p),e.pos++}else e.col+=t.length,c=document.createTextNode(s),e.map.push(e.pos,e.pos+t.length,c),xi&&9>ki&&(u=!0),e.pos+=t.length;if(n||r||i||u||a){var v=n||"";r&&(v+=r),i&&(v+=i);var y=Xr("span",[c],v,a);return o&&(y.title=o),e.content.appendChild(y)}e.content.appendChild(c)}}function Qn(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":"";return t+" "}function er(e,t){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var f=0;f<t.length;f++){var d=t[f];if(d.to>u&&d.from<=u)break}if(d.to>=c)return e(n,r,i,o,a,s,l);e(n,r.slice(0,d.to-u),i,o,null,s,l),o=null,r=r.slice(d.to-u),u=d.to}}}function tr(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t}function nr(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,l,u,c,f,d,h=i.length,p=0,m=1,g="",v=0;;){if(v==p){l=u=c=f=s="",d=null,v=1/0;for(var y,b=[],w=0;w<r.length;++w){var x=r[w],k=x.marker;"bookmark"==k.type&&x.from==p&&k.widgetNode?b.push(k):x.from<=p&&(null==x.to||x.to>p||k.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&v>x.to&&(v=x.to,u=""),k.className&&(l+=" "+k.className),k.css&&(s=(s?s+";":"")+k.css),k.startStyle&&x.from==p&&(c+=" "+k.startStyle),k.endStyle&&x.to==v&&(y||(y=[])).push(k.endStyle,x.to),k.title&&!f&&(f=k.title),k.collapsed&&(!d||Ln(d.marker,k)<0)&&(d=x)):x.from>p&&v>x.from&&(v=x.from)}if(y)for(w=0;w<y.length;w+=2)y[w+1]==v&&(u+=" "+y[w]);if(!d||d.from==p)for(w=0;w<b.length;++w)tr(t,0,b[w]);if(d&&(d.from||0)==p){if(tr(t,(null==d.to?h+1:d.to)-p,d.marker,null==d.from),null==d.to)return;d.to==p&&(d=!1)}}if(p>=h)break;for(var S=Math.min(h,v);;){if(g){var _=p+g.length;if(!d){var E=_>S?g.slice(0,S-p):g;t.addToken(t,E,a?a+l:l,c,p+E.length==v?u:"",f,s)}if(_>=S){g=g.slice(S-p),p=S;break}p=_,c=""}g=i.slice(o,o=n[m++]),a=Xn(n[m++],t.cm.options)}}else for(m=1;m<n.length;m+=2)t.addToken(t,i.slice(o,o=n[m]),Xn(n[m+1],t.cm.options))}function rr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Hr(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function ir(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){(function(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),En(e),Cn(e,n);var i=r?r(e):1;i!=e.height&&dr(e,i)})(e,n,i,r),Ar(e,"change",e,t)}function a(e,t){for(var n=e,o=[];t>n;++n)o.push(new So(u[n],i(n),r));return o}var s=t.from,l=t.to,u=t.text,c=ur(e,s.line),f=ur(e,l.line),d=Hr(u),h=i(u.length-1),p=l.line-s.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(rr(e,t)){var m=a(0,u.length-1);o(f,f.text,h),p&&e.remove(s.line,p),m.length&&e.insert(s.line,m)}else c==f?1==u.length?o(c,c.text.slice(0,s.ch)+d+c.text.slice(l.ch),h):((m=a(1,u.length-1)).push(new So(d+c.text.slice(l.ch),h,r)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,m)):1==u.length?(o(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(l.ch),i(0)),e.remove(s.line+1,p)):(o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(f,d+f.text.slice(l.ch),h),m=a(1,u.length-1),p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,m));Ar(e,"change",e,t)}function or(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function ar(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}function sr(e,t,n){!function e(r,i,o){if(r.linked)for(var a=0;a<r.linked.length;++a){var s=r.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;n&&!l||(t(s.doc,l),e(s.doc,r,l))}}}(e,null,!0)}function lr(e,n){if(n.cm)throw new Error("This document is already in use.");e.doc=n,n.cm=e,i(e),t(e),e.options.lineWrapping||c(e),e.options.mode=n.modeOption,wt(e)}function ur(e,t){if(0>(t-=e.first)||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(o>t){n=i;break}t-=o}return n.lines[t]}function cr(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function fr(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function dr(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function hr(e){if(null==e.parent)return null;for(var t=e.parent,n=zr(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function pr(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(o>t){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(r=0;r<e.lines.length;++r){var a=e.lines[r].height;if(a>t)break;t-=a}return n+r}function mr(e){for(var t=0,n=(e=Dn(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(r=0;r<o.children.length;++r){var a=o.children[r];if(a==n)break;t+=a.height}return t}function gr(e){var t=e.order;return null==t&&(t=e.order=ca(e.text)),t}function vr(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function yr(e,t){var n={from:W(t.from),to:to(t),text:cr(e,t.from,t.to)};return kr(e,n,t.from.line,t.to.line+1),sr(e,function(e){kr(e,n,t.from.line,t.to.line+1)},!0),n}function br(e){for(;e.length&&Hr(e).ranges;)e.pop()}function wr(e,t,n,r){var i=e.history;i.undone.length=0;var o,a=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>a-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=function(e,t){return i.lastOp==r?(br(e.done),Hr(e.done)):e.done.length&&!Hr(e.done).ranges?Hr(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Hr(e.done)):void 0}(i))){var s=Hr(o.changes);0==zi(t.from,t.to)&&0==zi(t.from,s.to)?s.to=to(t):o.changes.push(yr(e,t))}else{var l=Hr(i.done);for(l&&l.ranges||xr(e.sel,i.done),o={changes:[yr(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||No(e,"historyAdded")}function xr(e,t){var n=Hr(t);n&&n.ranges&&n.equals(e)||t.push(e)}function kr(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function Sr(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function _r(e,t,n){for(var r=0,i=[];r<e.length;++r){var o=e[r];if(o.ranges)i.push(n?ie.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];i.push({changes:s});for(var l=0;l<a.length;++l){var u,c=a[l];if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var f in c)(u=f.match(/^spans_(\d+)$/))&&zr(t,Number(u[1]))>-1&&(Hr(s)[f]=c[f],delete c[f])}}}return i}function Er(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Cr(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)Er(o.ranges[s].anchor,t,n,r),Er(o.ranges[s].head,t,n,r)}else{for(s=0;s<o.changes.length;++s){var l=o.changes[s];if(n<l.from.line)l.from=Hi(l.from.line+r,l.from.ch),l.to=Hi(l.to.line+r,l.to.ch);else if(t<=l.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function Tr(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;Cr(e.done,n,r,i),Cr(e.undone,n,r,i)}function Or(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Lr(e){return e.target||e.srcElement}function Pr(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Ai&&e.ctrlKey&&1==t&&(t=3),t}function Mr(e,t,n){var r=e._handlers&&e._handlers[t];return n?r&&r.length>0?r.slice():Do:r||Do}function Ar(e,t){function n(e){return function(){e.apply(null,o)}}var r=Mr(e,t,!1);if(r.length){var i,o=Array.prototype.slice.call(arguments,2);Gi?i=Gi.delayedCallbacks:Bo?i=Bo:(i=Bo=[],setTimeout(Rr,0));for(var a=0;a<r.length;++a)i.push(n(r[a]))}}function Rr(){var e=Bo;Bo=null;for(var t=0;t<e.length;++t)e[t]()}function Dr(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),No(e,n||t.type,e,t),Or(t)||t.codemirrorIgnore}function jr(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==zr(n,t[r])&&n.push(t[r])}function Nr(e,t){return Mr(e,t).length>0}function Br(e){e.prototype.on=function(e,t){Ro(this,e,t)},e.prototype.off=function(e,t){jo(this,e,t)}}function Fr(){this.id=null}function Ir(e){for(;Vo.length<=e;)Vo.push(Hr(Vo)+" ");return Vo[e]}function Hr(e){return e[e.length-1]}function zr(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Wr(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function qr(){}function Ur(e,t){var n;return Object.create?n=Object.create(e):(qr.prototype=e,n=new qr),t&&Vr(t,n),n}function Vr(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function Yr(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Gr(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Ko(e))||t.test(e):Ko(e)}function $r(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Kr(e){return e.charCodeAt(0)>=768&&Xo.test(e)}function Xr(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function Zr(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Jr(e,t){return Zr(e).appendChild(t)}function Qr(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function ei(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function ti(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!ei(n[r]).test(t)&&(t+=" "+n[r]);return t}function ni(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function ri(e){if(null==Jo){var t=Xr("span","");Jr(e,Xr("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Jo=t.offsetWidth<=1&&t.offsetHeight>2&&!(xi&&8>ki))}var n=Jo?Xr("span",""):Xr("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function ii(e){if(null!=Qo)return Qo;var t=Jr(e,document.createTextNode("AA")),n=Go(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var r=Go(t,1,2).getBoundingClientRect();return Qo=r.right-n.right<3}function oi(e){return e.level%2?e.to:e.from}function ai(e){return e.level%2?e.from:e.to}function si(e){var t=gr(e);return t?oi(t[0]):0}function li(e){var t=gr(e);return t?ai(Hr(t)):e.text.length}function ui(e,t){var n=ur(e.doc,t),r=Dn(n);r!=n&&(t=hr(r));var i=gr(r),o=i?i[0].level%2?li(r):si(r):0;return Hi(t,o)}function ci(e,t){var n=ui(e,t.line),r=ur(e.doc,n.line),i=gr(r);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return Hi(n.line,a?0:o)}return n}function fi(e,t,n){var r=e[0].level;return t==r||n!=r&&n>t}function di(e,t){ua=null;for(var n,r=0;r<e.length;++r){var i=e[r];if(i.from<t&&i.to>t)return r;if(i.from==t||i.to==t){if(null!=n)return fi(e,i.level,e[n].level)?(i.from!=i.to&&(ua=n),r):(i.from!=i.to&&(ua=r),n);n=r}}return n}function hi(e,t,n,r){if(!r)return t+n;do{t+=n}while(t>0&&Kr(e.text.charAt(t)));return t}function pi(e,t,n,r){var i=gr(e);if(!i)return mi(e,t,n,r);for(var o=di(i,t),a=i[o],s=hi(e,t,a.level%2?-n:n,r);;){if(s>a.from&&s<a.to)return s;if(s==a.from||s==a.to)return di(i,s)==o?s:n>0==(a=i[o+=n]).level%2?a.to:a.from;if(!(a=i[o+=n]))return null;s=n>0==a.level%2?hi(e,a.to,-1,r):hi(e,a.from,1,r)}}function mi(e,t,n,r){var i=t+n;if(r)for(;i>0&&Kr(e.text.charAt(i));)i+=n;return 0>i||i>e.text.length?null:i}var gi=navigator.userAgent,vi=navigator.platform,yi=/gecko\/\d/i.test(gi),bi=/MSIE \d/.test(gi),wi=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(gi),xi=bi||wi,ki=xi&&(bi?document.documentMode||6:wi[1]),Si=/WebKit\//.test(gi),_i=Si&&/Qt\/\d+\.\d+/.test(gi),Ei=/Chrome\//.test(gi),Ci=/Opera\//.test(gi),Ti=/Apple Computer/.test(navigator.vendor),Oi=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(gi),Li=/PhantomJS/.test(gi),Pi=/AppleWebKit/.test(gi)&&/Mobile\/\w+/.test(gi),Mi=Pi||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(gi),Ai=Pi||/Mac/.test(vi),Ri=/\bCrOS\b/.test(gi),Di=/win/i.test(vi),ji=Ci&&gi.match(/Version\/(\d*\.\d*)/);ji&&(ji=Number(ji[1])),ji&&ji>=15&&(Ci=!1,Si=!0);var Ni=Ai&&(_i||Ci&&(null==ji||12.11>ji)),Bi=yi||xi&&ki>=9,Fi=!1,Ii=!1;h.prototype=Vr({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=Ai&&!Oi?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Fr,this.disableVert=new Fr},enableZeroWidthBar:function(e,t){e.style.pointerEvents="auto",t.set(1e3,function n(){var r=e.getBoundingClientRect();document.elementFromPoint(r.left+1,r.bottom-1)!=e?e.style.pointerEvents="none":t.set(1e3,n)})},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},h.prototype),p.prototype=Vr({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},p.prototype),e.scrollbarModel={native:h,null:p},S.prototype.signal=function(e,t){Nr(e,t)&&this.events.push(arguments)},S.prototype.finish=function(){for(var e=0;e<this.events.length;e++)No.apply(null,this.events[e])};var Hi=e.Pos=function(e,t){return this instanceof Hi?(this.line=e,void(this.ch=t)):new Hi(e,t)},zi=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Wi=null;Z.prototype=Vr({init:function(e){function t(e){if(!Dr(r,e)){if(r.somethingSelected())Wi={lineWise:!1,text:r.getSelections()},n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=Wi.text.join("\n"),Yo(o));else{if(!r.options.lineWiseCopyCut)return;var t=K(r);Wi={lineWise:!0,text:t.text},"cut"==e.type?r.setSelections(t.ranges,null,Ho):(n.prevInput="",o.value=t.text.join("\n"),Yo(o))}"cut"==e.type&&(r.state.cutIncoming=!0)}}var n=this,r=this.cm,i=this.wrapper=J(),o=this.textarea=i.firstChild;e.wrapper.insertBefore(i,e.wrapper.firstChild),Pi&&(o.style.width="0px"),Ro(o,"input",function(){xi&&ki>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),Ro(o,"paste",function(e){Dr(r,e)||G(e,r)||(r.state.pasteIncoming=!0,n.fastPoll())}),Ro(o,"cut",t),Ro(o,"copy",t),Ro(e.scroller,"paste",function(t){Tt(e,t)||Dr(r,t)||(r.state.pasteIncoming=!0,n.focus())}),Ro(e.lineSpace,"selectstart",function(t){Tt(e,t)||Po(t)}),Ro(o,"compositionstart",function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),Ro(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,r=Te(e);if(e.options.moveInputWithCursor){var i=et(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},showSelection:function(e){var t=this.cm.display;Jr(t.cursorDiv,e.cursors),Jr(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,r=this.cm,i=r.doc;if(r.somethingSelected()){this.prevInput="";var o=i.sel.primary(),a=(t=aa&&(o.to().line-o.from().line>100||(n=r.getSelection()).length>1e3))?"-":n||r.getSelection();this.textarea.value=a,r.state.focused&&Yo(this.textarea),xi&&ki>=9&&(this.hasSelection=a)}else e||(this.prevInput=this.textarea.value="",xi&&ki>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Mi||Qr()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))})},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||oa(t)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=t.value;if(r==n&&!e.somethingSelected())return!1;if(xi&&ki>=9&&this.hasSelection===r||Ai&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=r.charCodeAt(0);if(8203!=i||n||(n=""),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var o=0,a=Math.min(n.length,r.length);a>o&&n.charCodeAt(o)==r.charCodeAt(o);)++o;var s=this;return pt(e,function(){Y(e,r.slice(o),n.length-o,null,s.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?t.value=s.prevInput="":s.prevInput=r,s.composing&&(s.composing.range.clear(),s.composing.range=e.markText(s.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){xi&&ki>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=a.selectionStart){var e=i.somethingSelected(),t=""+(e?a.value:"");a.value="",a.value=t,r.prevInput=e?"":"",a.selectionStart=1,a.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending=!1,r.wrapper.style.cssText=c,a.style.cssText=u,xi&&9>ki&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=a.selectionStart){(!xi||xi&&9>ki)&&t();var e=0,n=function(){o.selForContextMenu==i.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&""==r.prevInput?mt(i,ho.selectAll)(i):e++<10?o.detectingSelectAll=setTimeout(n,500):o.input.reset()};o.detectingSelectAll=setTimeout(n,200)}}var r=this,i=r.cm,o=i.display,a=r.textarea,s=Ot(i,e),l=o.scroller.scrollTop;if(s&&!Ci){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(s)&&mt(i,ye)(i.doc,se(s),Ho);var u=a.style.cssText,c=r.wrapper.style.cssText;r.wrapper.style.cssText="position: absolute";var f=r.wrapper.getBoundingClientRect();if(a.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px; z-index: 1000; background: "+(xi?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Si)var d=window.scrollY;if(o.input.focus(),Si&&window.scrollTo(null,d),o.input.reset(),i.somethingSelected()||(a.value=r.prevInput=" "),r.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),xi&&ki>=9&&t(),Bi){Ao(e);var h=function(){jo(window,"mouseup",h),setTimeout(n,20)};Ro(window,"mouseup",h)}else setTimeout(n,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:qr,needsContentAttribute:!1},Z.prototype),Q.prototype=Vr({init:function(e){function t(e){if(!Dr(r,e)){if(r.somethingSelected())Wi={lineWise:!1,text:r.getSelections()},"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=K(r);Wi={lineWise:!0,text:t.text},"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,Ho),r.replaceSelection("",null,"cut")})}if(e.clipboardData&&!Pi)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Wi.text.join("\n"));else{var n=J(),i=n.firstChild;r.display.lineSpace.insertBefore(n,r.display.lineSpace.firstChild),i.value=Wi.text.join("\n");var o=document.activeElement;Yo(i),setTimeout(function(){r.display.lineSpace.removeChild(n),o.focus()},50)}}}var n=this,r=n.cm,i=n.div=e.lineDiv;X(i),Ro(i,"paste",function(e){Dr(r,e)||G(e,r)}),Ro(i,"compositionstart",function(e){var t=e.data;if(n.composing={sel:r.doc.sel,data:t,startData:t},t){var i=r.doc.sel.primary(),o=r.getLine(i.head.line).indexOf(t,Math.max(0,i.head.ch-t.length));o>-1&&o<=i.head.ch&&(n.composing.sel=se(Hi(i.head.line,o),Hi(i.head.line,o+t.length)))}}),Ro(i,"compositionupdate",function(e){n.composing.data=e.data}),Ro(i,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),Ro(i,"touchstart",function(){n.forceCompositionEnd()}),Ro(i,"input",function(){n.composing||!r.isReadOnly()&&n.pollContent()||pt(n.cm,function(){wt(r)})}),Ro(i,"copy",t),Ro(i,"cut",t)},prepareSelection:function(){var e=Te(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=ne(this.cm,e.anchorNode,e.anchorOffset),r=ne(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!r||r.bad||0!=zi(U(n,r),t.from())||0!=zi(q(n,r),t.to())){var i=ee(this.cm,t.from()),o=ee(this.cm,t.to());if(i||o){var a=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(i){if(!o){var l=a[a.length-1].measure,u=l.maps?l.maps[l.maps.length-1]:l.map;o={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else i={node:a[0].measure.map[2],offset:0};try{var c=Go(i.node,i.offset,o.offset,o.node)}catch(e){}c&&(!yi&&this.cm.state.focused?(e.collapse(i.node,i.offset),c.collapsed||e.addRange(c)):(e.removeAllRanges(),e.addRange(c)),s&&null==e.anchorNode?e.addRange(s):yi&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Jr(this.cm.display.cursorDiv,e.cursors),Jr(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Zo(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){var e=this;this.selectionInEditor()?this.pollSelection():pt(this.cm,function(){e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=ne(t,e.anchorNode,e.anchorOffset),r=ne(t,e.focusNode,e.focusOffset);n&&r&&pt(t,function(){ye(t.doc,se(n,r),Ho),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e,t=this.cm,n=t.display,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(i.line<n.viewFrom||o.line>n.viewTo-1)return!1;if(i.line==n.viewFrom||0==(e=St(t,i.line)))var a=hr(n.view[0].line),s=n.view[0].node;else a=hr(n.view[e].line),s=n.view[e-1].node.nextSibling;var l=St(t,o.line);if(l==n.view.length-1)var u=n.viewTo-1,c=n.lineDiv.lastChild;else u=hr(n.view[l+1].line)-1,c=n.view[l+1].node.previousSibling;for(var f=t.doc.splitLines(function(e,t,n,r,i){function o(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(a+=n);var u,c=t.getAttribute("cm-marker");if(c){var f=e.findMarks(Hi(r,0),Hi(i+1,0),function(e){return function(t){return t.id==e}}(+c));return void(f.length&&(u=f[0].find())&&(a+=cr(e.doc,u.from,u.to).join(l)))}if("false"==t.getAttribute("contenteditable"))return;for(var d=0;d<t.childNodes.length;d++)o(t.childNodes[d]);/^(pre|div|p)$/i.test(t.nodeName)&&(s=!0)}else if(3==t.nodeType){var h=t.nodeValue;if(!h)return;s&&(a+=l,s=!1),a+=h}}for(var a="",s=!1,l=e.doc.lineSeparator();o(t),t!=n;)t=t.nextSibling;return a}(t,s,c,a,u)),d=cr(t.doc,Hi(a,0),Hi(u,ur(t.doc,u).text.length));f.length>1&&d.length>1;)if(Hr(f)==Hr(d))f.pop(),d.pop(),u--;else{if(f[0]!=d[0])break;f.shift(),d.shift(),a++}for(var h=0,p=0,m=f[0],g=d[0],v=Math.min(m.length,g.length);v>h&&m.charCodeAt(h)==g.charCodeAt(h);)++h;for(var y=Hr(f),b=Hr(d),w=Math.min(y.length-(1==f.length?h:0),b.length-(1==d.length?h:0));w>p&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;f[f.length-1]=y.slice(0,y.length-p),f[0]=f[0].slice(h);var x=Hi(a,h),k=Hi(u,d.length?Hr(d).length-p:0);return f.length>1||f[0]||zi(x,k)?(nn(t.doc,f,x,k,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?mt(this.cm,wt)(this.cm):e.data&&e.data!=e.startData&&mt(this.cm,Y)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||mt(this.cm,Y)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:qr,resetPosition:qr,needsContentAttribute:!0},Q.prototype),e.inputStyles={textarea:Z,contenteditable:Q},ie.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(0!=zi(n.anchor,r.anchor)||0!=zi(n.head,r.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new oe(W(this.ranges[t].anchor),W(this.ranges[t].head));return new ie(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(zi(t,r.from())>=0&&zi(e,r.to())<=0)return n}return-1}},oe.prototype={from:function(){return U(this.anchor,this.head)},to:function(){return q(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var qi,Ui,Vi,Yi={left:0,right:0,top:0,bottom:0},Gi=null,$i=0,Ki=0,Xi=0,Zi=null;xi?Zi=-.53:yi?Zi=15:Ei?Zi=-.7:Ti&&(Zi=-1/3);var Ji=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};e.wheelEventPixels=function(e){var t=Ji(e);return t.x*=Zi,t.y*=Zi,t};var Qi=new Fr,eo=null,to=e.changeEnd=function(e){return e.text?Hi(e.from.line+e.text.length-1,Hr(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,r=n[e];n[e]==t&&"mode"!=e||(n[e]=t,ro.hasOwnProperty(e)&&mt(this,ro[e])(this,t,r))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](mn(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:gt(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,wt(this)}),removeOverlay:gt(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void wt(this)}}),indentLine:gt(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ce(this.doc,e)&&ln(this,e,t,n)}),indentSelection:gt(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(ln(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&an(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;n>l;++l)ln(this,l,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[r].from().ch>0&&me(this.doc,r,new oe(o,u[r].to()),Ho)}}}),getTokenAt:function(e,t){return Vn(this,e,t)},getLineTokens:function(e,t){return Vn(this,Hi(e),t,!0)},getTokenTypeAt:function(e){e=ue(this.doc,e);var t,n=$n(this,ur(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("cm-overlay "):-1;return 0>s?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!uo.hasOwnProperty(t))return n;var r=uo[t],i=this.getModeAt(e);if("string"==typeof i[t])r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var a=r[i[t][o]];a&&n.push(a)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(o=0;o<r._global.length;o++){var s=r._global[o];s.pred(i,this)&&-1==zr(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(e,t){var n=this.doc;return Re(this,(e=le(n,null==e?n.first+n.size-1:e))+1,t)},cursorCoords:function(e,t){var n=this.doc.sel.primary();return et(this,null==e?n.head:"object"==typeof e?ue(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return Qe(this,ue(this.doc,e),t||"page")},coordsChar:function(e,t){return rt(this,(e=Je(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Je(this,{top:e,left:0},t||"page").top,pr(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,r=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,r=!0),n=ur(this.doc,e)}else n=e;return Ze(this,n,{top:0,left:0},t||"page").top+(r?this.doc.height-mr(n):0)},defaultTextHeight:function(){return ot(this.display)},defaultCharWidth:function(){return at(this.display)},setGutterMarker:gt(function(e,t,n){return un(this.doc,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&$r(r)&&(e.gutterMarkers=null),!0})}),clearGutter:gt(function(e){var t=this,n=t.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,xt(t,r,"gutter"),$r(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),lineInfo:function(e){if("number"==typeof e){if(!ce(this.doc,e))return null;var t=e;if(!(e=ur(this.doc,e)))return null}else if(null==(t=hr(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display,a=(e=et(this,ue(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&function(e,t,n,r,i){var o=rn(e,t,n,r,i);null!=o.scrollTop&&Dt(e,o.scrollTop),null!=o.scrollLeft&&jt(e,o.scrollLeft)}(this,s,a,s+t.offsetWidth,a+t.offsetHeight)},triggerOnKeyDown:gt(Ht),triggerOnKeyPress:gt(Wt),triggerOnKeyUp:zt,execCommand:function(e){return ho.hasOwnProperty(e)?ho[e].call(null,this):void 0},triggerElectric:gt(function(e){$(this,e)}),findPosH:function(e,t,n,r){var i=1;0>t&&(i=-1,t=-t);for(var o=0,a=ue(this.doc,e);t>o&&!(a=fn(this.doc,a,i,n,r)).hitSide;++o);return a},moveH:gt(function(e,t){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?fn(n.doc,r.head,e,t,n.options.rtlMoveVisually):0>e?r.from():r.to()},Wo)}),deleteH:gt(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):cn(this,function(n){var i=fn(r,n.head,e,t,!1);return 0>e?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,o=r;0>t&&(i=-1,t=-t);for(var a=0,s=ue(this.doc,e);t>a;++a){var l=et(this,s,"div");if(null==o?o=l.left:l.left=o,(s=dn(this,l,i,n)).hitSide)break}return s},moveV:gt(function(e,t){var n=this,r=this.doc,i=[],o=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return 0>e?a.from():a.to();var s=et(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=dn(n,s,e,t);return"page"==t&&a==r.sel.primary()&&on(n,null,Qe(n,l,"div").top-s.top),l},Wo),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t=ur(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");(e.xRel<0||r==t.length)&&n?--n:++r;for(var o=t.charAt(n),a=Gr(o,i)?function(e){return Gr(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Gr(e)};n>0&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new oe(Hi(e.line,n),Hi(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ta(this.display.cursorDiv,"CodeMirror-overwrite"):ea(this.display.cursorDiv,"CodeMirror-overwrite"),No(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Qr()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:gt(function(e,t){null==e&&null==t||sn(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Be(this)-this.display.barHeight,width:e.scrollWidth-Be(this)-this.display.barWidth,clientHeight:Ie(this),clientWidth:Fe(this)}},scrollIntoView:gt(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Hi(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)sn(this),this.curOp.scrollToPos=e;else{var n=rn(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:gt(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var r=this;null!=e&&(r.display.wrapper.style.width=n(e)),null!=t&&(r.display.wrapper.style.height=n(t)),r.options.lineWrapping&&Ge(this);var i=r.display.viewFrom;r.doc.iter(i,r.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){xt(r,i,"widget");break}++i}),r.curOp.forceUpdate=!0,No(r,"refresh",this)}),operation:function(e){return pt(this,e)},refresh:gt(function(){var e=this.display.cachedTextHeight;wt(this),this.curOp.forceUpdate=!0,$e(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),l(this),(null==e||Math.abs(e-ot(this.display))>.5)&&i(this),No(this,"refresh",this)}),swapDoc:gt(function(e){var t=this.doc;return t.cm=null,lr(this,e),$e(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Ar(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Br(e);var no=e.defaults={},ro=e.optionHandlers={},io=e.Init={toString:function(){return"CodeMirror.Init"}};hn("value","",function(e,t){e.setValue(t)},!0),hn("mode",null,function(e,n){e.doc.modeOption=n,t(e)},!0),hn("indentUnit",2,t,!0),hn("indentWithTabs",!1),hn("smartIndent",!0),hn("tabSize",4,function(e){n(e),$e(e),wt(e)},!0),hn("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(Hi(r,o))}r++});for(var i=n.length-1;i>=0;i--)nn(e.doc,t,n[i],Hi(n[i].line,n[i].ch+t.length))}}),hn("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,r){t.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g"),r!=e.Init&&t.refresh()}),hn("specialCharPlaceholder",function(e){var t=Xr("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t},function(e){e.refresh()},!0),hn("electricChars",!0),hn("inputStyle",Mi?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),hn("rtlMoveVisually",!Di),hn("wholeLineUpdateBefore",!0),hn("theme","default",function(e){o(e),a(e)},!0),hn("keyMap","default",function(t,n,r){var i=mn(n),o=r!=e.Init&&mn(r);o&&o.detach&&o.detach(t,i),i.attach&&i.attach(t,o||null)}),hn("extraKeys",null),hn("lineWrapping",!1,function(e){e.options.lineWrapping?(ta(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(ea(e.display.wrapper,"CodeMirror-wrap"),c(e)),i(e),wt(e),$e(e),setTimeout(function(){g(e)},100)},!0),hn("gutters",[],function(e){f(e.options),a(e)},!0),hn("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?k(e.display)+"px":"0",e.refresh()},!0),hn("coverGutterNextToScrollbar",!1,function(e){g(e)},!0),hn("scrollbarStyle","native",function(e){m(e),g(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),hn("lineNumbers",!1,function(e){f(e.options),a(e)},!0),hn("firstLineNumber",1,a,!0),hn("lineNumberFormatter",function(e){return e},a,!0),hn("showCursorWhenSelecting",!1,Ce,!0),hn("resetSelectionOnContextMenu",!0),hn("lineWiseCopyCut",!0),hn("readOnly",!1,function(e,t){"nocursor"==t?(Ut(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),hn("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),hn("dragDrop",!0,function(t,n,r){if(!n!=!(r&&r!=e.Init)){var i=t.display.dragFunctions,o=n?Ro:jo;o(t.display.scroller,"dragstart",i.start),o(t.display.scroller,"dragenter",i.enter),o(t.display.scroller,"dragover",i.over),o(t.display.scroller,"dragleave",i.leave),o(t.display.scroller,"drop",i.drop)}}),hn("allowDropFileTypes",null),hn("cursorBlinkRate",530),hn("cursorScrollMargin",0),hn("cursorHeight",1,Ce,!0),hn("singleCursorHeightPerLine",!0,Ce,!0),hn("workTime",100),hn("workDelay",100),hn("flattenSpans",!0,n,!0),hn("addModeClass",!1,n,!0),hn("pollInterval",100),hn("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),hn("historyEventDelay",1250),hn("viewportMargin",10,function(e){e.refresh()},!0),hn("maxHighlightLength",1e4,n,!0),hn("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),hn("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),hn("autofocus",null);var oo=e.modes={},ao=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),oo[t]=n},e.defineMIME=function(e,t){ao[e]=t},e.resolveMode=function(t){if("string"==typeof t&&ao.hasOwnProperty(t))t=ao[t];else if(t&&"string"==typeof t.name&&ao.hasOwnProperty(t.name)){var n=ao[t.name];"string"==typeof n&&(n={name:n}),(t=Ur(n,t)).name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){n=e.resolveMode(n);var r=oo[n.name];if(!r)return e.getMode(t,"text/plain");var i=r(t,n);if(so.hasOwnProperty(n.name)){var o=so[n.name];for(var a in o)o.hasOwnProperty(a)&&(i.hasOwnProperty(a)&&(i["_"+a]=i[a]),i[a]=o[a])}if(i.name=n.name,n.helperType&&(i.helperType=n.helperType),n.modeProps)for(var a in n.modeProps)i[a]=n.modeProps[a];return i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var so=e.modeExtensions={};e.extendMode=function(e,t){Vr(t,so.hasOwnProperty(e)?so[e]:so[e]={})},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){To.prototype[e]=t},e.defineOption=hn;var lo=[];e.defineInitHook=function(e){lo.push(e)};var uo=e.helpers={};e.registerHelper=function(t,n,r){uo.hasOwnProperty(t)||(uo[t]=e[t]={_global:[]}),uo[t][n]=r},e.registerGlobalHelper=function(t,n,r,i){e.registerHelper(t,n,i),uo[t]._global.push({pred:r,val:i})};var co=e.copyState=function(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},fo=e.startState=function(e,t,n){return!e.startState||e.startState(t,n)};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var ho=e.commands={selectAll:function(e){e.setSelection(Hi(e.firstLine(),0),Hi(e.lastLine()),Ho)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ho)},killLine:function(e){cn(e,function(t){if(t.empty()){var n=ur(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Hi(t.head.line+1,0)}:{from:t.head,to:Hi(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){cn(e,function(t){return{from:Hi(t.from().line,0),to:ue(e.doc,Hi(t.to().line+1,0))}})},delLineLeft:function(e){cn(e,function(e){return{from:Hi(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){cn(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){cn(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Hi(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Hi(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return ui(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return ci(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return function(e,t){for(var n,r=ur(e.doc,t);n=An(r);)r=n.find(1,!0).line,t=null;var i=gr(r),o=i?i[0].level%2?si(r):li(r):r.text.length;return Hi(null==t?hr(r):t,o)}(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Wo)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Wo)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?ci(e,t.head):r},Wo)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=qo(e.getLine(o.line),o.ch,r);t.push(Ir(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){pt(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r].head,o=ur(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new Hi(i.line,i.ch-1)),i.ch>0)i=new Hi(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),Hi(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=ur(e.doc,i.line-1).text;a&&e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),Hi(i.line-1,a.length-1),Hi(i.line,1),"+transpose")}n.push(new oe(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){pt(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var r=e.listSelections()[n];e.replaceRange(e.doc.lineSeparator(),r.anchor,r.head,"+input"),e.indentLine(r.from().line+1,null,!0)}an(e)})},openLine:function(e){e.replaceSelection("\n","start")},toggleOverwrite:function(e){e.toggleOverwrite()}},po=e.keyMap={};po.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},po.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},po.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},po.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},po.default=Ai?po.macDefault:po.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=Wr(n.split(" "),pn),o=0;o<i.length;o++){var a,s;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var u in t)e[u]=t[u];return e};var mo=e.lookupKey=function(e,t,n,r){var i=(t=mn(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return mo(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=mo(e,t.fallthrough[o],n,r);if(a)return a}}},go=e.isModifierKey=function(e){var t="string"==typeof e?e:la[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},vo=e.keyName=function(e,t){if(Ci&&34==e.keyCode&&e.char)return!1;var n=la[e.keyCode],r=n;return null!=r&&!e.altGraphKey&&(e.altKey&&"Alt"!=n&&(r="Alt-"+r),(Ni?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(Ni?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!t&&e.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)};e.fromTextArea=function(t,n){function r(){t.value=l.getValue()}if((n=n?Vr(n):{}).value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var i=Qr();n.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(Ro(t.form,"submit",r),!n.leaveSubmitMethodAlone)){var o=t.form,a=o.submit;try{var s=o.submit=function(){r(),o.submit=a,o.submit(),o.submit=s}}catch(e){}}n.finishInit=function(e){e.save=r,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,r(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(jo(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=a))}},t.style.display="none";var l=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return l};var yo=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};yo.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=qo(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?qo(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return qo(this.string,null,this.tabSize)-(this.lineStart?qo(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};return i(this.string.substr(this.pos,e.length))==i(e)?(!1!==t&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var bo=0,wo=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++bo};Br(wo),wo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&st(e),Nr(this,"clear")){var n=this.find();n&&Ar(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=wn(a.markedSpans,this);e&&!this.collapsed?xt(e,hr(a),"text"):e&&(null!=s.to&&(i=hr(a)),null!=s.from&&(r=hr(a))),a.markedSpans=xn(a.markedSpans,s),null==s.from&&this.collapsed&&!Bn(this.doc,a)&&e&&dr(a,ot(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(o=0;o<this.lines.length;++o){var l=Dn(this.lines[o]),c=u(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&wt(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&xe(e.doc)),e&&Ar(e,"markerCleared",e,this),t&&lt(e),this.parent&&this.parent.clear()}},wo.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,r,i=0;i<this.lines.length;++i){var o=this.lines[i],a=wn(o.markedSpans,this);if(null!=a.from&&(n=Hi(t?o:hr(o),a.from),-1==e))return n;if(null!=a.to&&(r=Hi(t?o:hr(o),a.to),1==e))return r}return n&&{from:n,to:r}},wo.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&pt(n,function(){var r=e.line,i=hr(e.line),o=We(n,i);if(o&&(Ye(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Bn(t.doc,r)&&null!=t.height){var a=t.height;t.height=null;var s=Hn(t)-a;s&&dr(r,r.height+s)}})},wo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=zr(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},wo.prototype.detachLine=function(e){if(this.lines.splice(zr(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},bo=0;var xo=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Br(xo),xo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Ar(this,"clear")}},xo.prototype.find=function(e,t){return this.primary.find(e,t)};var ko=e.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};Br(ko),ko.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=hr(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=Hn(this);dr(n,Math.max(0,n.height-o)),e&&pt(e,function(){In(e,n,-o),xt(e,r,"widget")})}},ko.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var r=Hn(this)-e;r&&(dr(n,n.height+r),t&&pt(t,function(){t.curOp.forceUpdate=!0,In(t,n,r)}))};var So=e.Line=function(e,t,n){this.text=e,Cn(this,t),this.height=n?n(this):1};Br(So),So.prototype.lineNo=function(){return hr(this)};var _o={},Eo={};or.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;r>n;++n){var i=this.lines[n];this.height-=i.height,zn(i),Ar(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;r>e;++e)if(n(this.lines[e]))return!0}},ar.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(i>e){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof or))){var s=[];this.collapse(s),this.children=[new or(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>=e){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var l=new or(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new ar(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=zr(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new ar(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>e){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var Co=0,To=e.Doc=function(e,t,n,r){if(!(this instanceof To))return new To(e,t,n,r);null==n&&(n=0),ar.call(this,[new or([new So("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var i=Hi(n,0);this.sel=se(i),this.history=new vr(null),this.id=++Co,this.modeOption=t,this.lineSep=r,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),ir(this,{from:i,to:i,text:e}),ye(this,se(i),Ho)};To.prototype=Ur(ar.prototype,{constructor:To,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=fr(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:vt(function(e){var t=Hi(this.first,0),n=this.first+this.size-1;Xt(this,{from:t,to:Hi(n,ur(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),ye(this,se(t))}),replaceRange:function(e,t,n,r){nn(this,e,t=ue(this,t),n=n?ue(this,n):t,r)},getRange:function(e,t,n){var r=cr(this,ue(this,e),ue(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return ce(this,e)?ur(this,e):void 0},getLineNumber:function(e){return hr(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=ur(this,e)),Dn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ue(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:vt(function(e,t,n){ge(this,ue(this,"number"==typeof e?Hi(e,t||0):e),null,n)}),setSelection:vt(function(e,t,n){ge(this,ue(this,e),ue(this,t||e),n)}),extendSelection:vt(function(e,t,n){he(this,ue(this,e),t&&ue(this,t),n)}),extendSelections:vt(function(e,t){pe(this,fe(this,e),t)}),extendSelectionsBy:vt(function(e,t){pe(this,fe(this,Wr(this.sel.ranges,e)),t)}),setSelections:vt(function(e,t,n){if(e.length){for(var r=0,i=[];r<e.length;r++)i[r]=new oe(ue(this,e[r].anchor),ue(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ye(this,ae(i,t),n)}}),addSelection:vt(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new oe(ue(this,e),ue(this,t||e))),ye(this,ae(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=cr(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=cr(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:vt(function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}var s=t&&"end"!=t&&function(e,t,n){for(var r=[],i=Hi(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=$t(s.from,i,o),u=$t(to(s),i,o);if(i=s.to,o=u,"around"==n){var c=e.sel.ranges[a],f=zi(c.head,c.anchor)<0;r[a]=new oe(f?u:l,f?l:u)}else r[a]=new oe(l,l)}return new ie(r,e.sel.primIndex)}(this,r,t);for(o=r.length-1;o>=0;o--)Xt(this,r[o]);s?ve(this,s):this.cm&&an(this.cm)}),undo:vt(function(){Jt(this,"undo")}),redo:vt(function(){Jt(this,"redo")}),undoSelection:vt(function(){Jt(this,"undo",!0)}),redoSelection:vt(function(){Jt(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new vr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:_r(this.history.done),undone:_r(this.history.undone)}},setHistory:function(e){var t=this.history=new vr(this.history.maxGeneration);t.done=_r(e.done.slice(0),null,!0),t.undone=_r(e.undone.slice(0),null,!0)},addLineClass:vt(function(e,t,n){return un(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(ei(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:vt(function(e,t,n){return un(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(ei(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:vt(function(e,t,n){return function(e,t,n,r){var i=new ko(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),un(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!Bn(e,t)){var r=mr(t)<e.scrollTop;dr(t,t.height+Hn(i)),r&&on(o,null,i.height),o.curOp.forceUpdate=!0}return!0}),i}(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return gn(this,ue(this,e),ue(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return gn(this,e=ue(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=ur(this,(e=ue(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=ue(this,e),t=ue(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;return o>e?(t=e,!0):(e-=o,void++n)}),ue(this,Hi(n,t))},indexFromPos:function(e){var t=(e=ue(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new To(fr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new To(fr(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(zi(o,a)){var s=gn(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}(r,vn(this)),r},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n)if(this.linked[n].doc==t){this.linked.splice(n,1),t.unlinkDoc(this),yn(vn(this));break}if(t.history==this.history){var r=[t.id];sr(t,function(e){r.push(e.id)},!0),t.history=new vr(null),t.history.done=_r(this.history.done,r),t.history.undone=_r(this.history.undone,r)}},iterLinkedDocs:function(e){sr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ia(e)},lineSeparator:function(){return this.lineSep||"\n"}}),To.prototype.eachLine=To.prototype.iter;var Oo="iter insert remove copy getEditor constructor".split(" ");for(var Lo in To.prototype)To.prototype.hasOwnProperty(Lo)&&zr(Oo,Lo)<0&&(e.prototype[Lo]=function(e){return function(){return e.apply(this.doc,arguments)}}(To.prototype[Lo]));Br(To);var Po=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Mo=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Ao=e.e_stop=function(e){Po(e),Mo(e)},Ro=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});(r[t]||(r[t]=[])).push(n)}},Do=[],jo=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else for(var r=Mr(e,t,!1),i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}},No=e.signal=function(e,t){var n=Mr(e,t,!0);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},Bo=null,Fo=30,Io=e.Pass={toString:function(){return"CodeMirror.Pass"}},Ho={scroll:!1},zo={origin:"*mouse"},Wo={origin:"+move"};Fr.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var qo=e.countColumn=function(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(0>s||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}},Uo=e.findColumn=function(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}},Vo=[""],Yo=function(e){e.select()};Pi?Yo=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:xi&&(Yo=function(e){try{e.select()}catch(e){}});var Go,$o=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ko=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||$o.test(e))},Xo=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Go=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var Zo=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)};xi&&11>ki&&(Qr=function(){try{return document.activeElement}catch(e){return document.body}});var Jo,Qo,ea=e.rmClass=function(e,t){var n=e.className,r=ei(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}},ta=e.addClass=function(e,t){var n=e.className;ei(t).test(n)||(e.className+=(n?" ":"")+t)},na=!1,ra=function(){if(xi&&9>ki)return!1;var e=Xr("div");return"draggable"in e||"dragDrop"in e}(),ia=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;r>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},oa=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},aa=function(){var e=Xr("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),sa=null,la=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;10>e;e++)la[e+48]=la[e+96]=String(e);for(e=65;90>=e;e++)la[e]=String.fromCharCode(e);for(e=1;12>=e;e++)la[e+111]=la[e+63235]="F"+e}();var ua,ca=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?r.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,l=/[1n]/,u="L";return function(n){if(!i.test(n))return!1;for(var r=n.length,c=[],f=0;r>f;++f)c.push(v=e(n.charCodeAt(f)));f=0;for(var d=u;r>f;++f)"m"==(v=c[f])?c[f]=d:d=v;f=0;for(var h=u;r>f;++f)"1"==(v=c[f])&&"r"==h?c[f]="n":a.test(v)&&(h=v,"r"==v&&(c[f]="R"));for(f=1,d=c[0];r-1>f;++f)"+"==(v=c[f])&&"1"==d&&"1"==c[f+1]?c[f]="1":","!=v||d!=c[f+1]||"1"!=d&&"n"!=d||(c[f]=d),d=v;for(f=0;r>f;++f)if(","==(v=c[f]))c[f]="N";else if("%"==v){for(var p=f+1;r>p&&"%"==c[p];++p);for(var m=f&&"!"==c[f-1]||r>p&&"1"==c[p]?"1":"N",g=f;p>g;++g)c[g]=m;f=p-1}for(f=0,h=u;r>f;++f){var v=c[f];"L"==h&&"1"==v?c[f]="L":a.test(v)&&(h=v)}for(f=0;r>f;++f)if(o.test(c[f])){for(p=f+1;r>p&&o.test(c[p]);++p);var y="L"==(f?c[f-1]:u),b="L"==(r>p?c[p]:u);for(m=y||b?"L":"R",g=f;p>g;++g)c[g]=m;f=p-1}var w,x=[];for(f=0;r>f;)if(s.test(c[f])){var k=f;for(++f;r>f&&s.test(c[f]);++f);x.push(new t(0,k,f))}else{var S=f,_=x.length;for(++f;r>f&&"L"!=c[f];++f);for(g=S;f>g;)if(l.test(c[g])){g>S&&x.splice(_,0,new t(1,S,g));var E=g;for(++g;f>g&&l.test(c[g]);++g);x.splice(_,0,new t(2,E,g)),S=g}else++g;f>S&&x.splice(_,0,new t(1,S,f))}return 1==x[0].level&&(w=n.match(/^\s+/))&&(x[0].from=w[0].length,x.unshift(new t(0,0,w[0].length))),1==Hr(x).level&&(w=n.match(/\s+$/))&&(Hr(x).to-=w[0].length,x.push(new t(0,r-w[0].length,r))),2==x[0].level&&x.unshift(new t(1,x[0].to,x[0].to)),x[0].level!=Hr(x).level&&x.push(new t(x[0].level,r,r)),x}}();return e.version="5.15.2",e})},{}],11:[function(e,t,n){var r;r=function(e){"use strict";var t=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;e.defineMode("gfm",function(n,r){var i=0,o={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,n){if(n.combineTokens=null,n.codeBlock)return e.match(/^```+/)?(n.codeBlock=!1,null):(e.skipToEnd(),null);if(e.sol()&&(n.code=!1),e.sol()&&e.match(/^```+/))return e.skipToEnd(),n.codeBlock=!0,null;if("`"===e.peek()){e.next();var o=e.pos;e.eatWhile("`");var a=1+e.pos-o;return n.code?a===i&&(n.code=!1):(i=a,n.code=!0),null}if(n.code)return e.next(),null;if(e.eatSpace())return n.ateSpace=!0,null;if((e.sol()||n.ateSpace)&&(n.ateSpace=!1,!1!==r.gitHubSpice)){if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/))return n.combineTokens=!0,"link";if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return n.combineTokens=!0,"link"}return e.match(t)&&"]("!=e.string.slice(e.start-2,e.start)&&(0==e.start||/\W/.test(e.string.charAt(e.start-1)))?(n.combineTokens=!0,"link"):(e.next(),null)},blankLine:function(e){return e.code=!1,null}},a={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:"```",strikethrough:!0};for(var s in r)a[s]=r[s];return a.name="markdown",e.overlayMode(e.getMode(n,a),o)},"markdown"),e.defineMIME("text/x-gfm","gfm")},"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror"),e("../markdown/markdown"),e("../../addon/mode/overlay")):r(CodeMirror)},{"../../addon/mode/overlay":8,"../../lib/codemirror":10,"../markdown/markdown":12}],12:[function(e,t,n){var r;r=function(e){"use strict";e.defineMode("markdown",function(t,n){function r(n){if(e.findModeByName){var r=e.findModeByName(n);r&&(n=r.mime||r.mimes[0])}var i=e.getMode(t,n);return"null"==i.name?null:i}function i(e,t,n){return t.f=t.inline=n,n(e,t)}function o(e){return!e||!/\S/.test(e.string)}function a(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,w&&e.f==l&&(e.f=h,e.block=s),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine=null,null}function s(t,a){var s=t.sol(),l=!1!==a.list,c=a.indentedCode;a.indentedCode=!1,l&&(a.indentationDiff>=0?(a.indentationDiff<4&&(a.indentation-=a.indentationDiff),a.list=null):a.indentation>0?a.list=null:a.list=!1);var d=null;if(a.indentationDiff>=4)return t.skipToEnd(),c||o(a.prevLine)?(a.indentation-=4,a.indentedCode=!0,x.code):null;if(t.eatSpace())return null;if((d=t.match(T))&&d[1].length<=6)return a.header=d[1].length,n.highlightFormatting&&(a.formatting="header"),a.f=a.inline,f(a);if(!(o(a.prevLine)||a.quote||l||c)&&(d=t.match(O)))return a.header="="==d[0].charAt(0)?1:2,n.highlightFormatting&&(a.formatting="header"),a.f=a.inline,f(a);if(t.eat(">"))return a.quote=s?1:a.quote+1,n.highlightFormatting&&(a.formatting="quote"),t.eatSpace(),f(a);if("["===t.peek())return i(t,a,g);if(t.match(S,!0))return a.hr=!0,x.hr;if((o(a.prevLine)||l)&&(t.match(_,!1)||t.match(E,!1))){var h=null;for(t.match(_,!0)?h="ul":(t.match(E,!0),h="ol"),a.indentation=t.column()+t.current().length,a.list=!0;a.listStack&&t.column()<a.listStack[a.listStack.length-1];)a.listStack.pop();return a.listStack.push(a.indentation),n.taskLists&&t.match(C,!1)&&(a.taskList=!0),a.f=a.inline,n.highlightFormatting&&(a.formatting=["list","list-"+h]),f(a)}return n.fencedCodeBlocks&&(d=t.match(P,!0))?(a.fencedChars=d[1],a.localMode=r(d[2]),a.localMode&&(a.localState=e.startState(a.localMode)),a.f=a.block=u,n.highlightFormatting&&(a.formatting="code-block"),a.code=-1,f(a)):i(t,a,a.inline)}function l(t,n){var r=b.token(t,n.htmlState);if(!w){var i=e.innerMode(b,n.htmlState);("xml"==i.mode.name&&null===i.state.tagStart&&!i.state.context&&i.state.tokenize.isInText||n.md_inside&&t.current().indexOf(">")>-1)&&(n.f=h,n.block=s,n.htmlState=null)}return r}function u(e,t){return t.fencedChars&&e.match(t.fencedChars,!1)?(t.localMode=t.localState=null,t.f=t.block=c,null):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),x.code)}function c(e,t){e.match(t.fencedChars),t.block=s,t.f=h,t.fencedChars=null,n.highlightFormatting&&(t.formatting="code-block"),t.code=1;var r=f(t);return t.code=0,r}function f(e){var t=[];if(e.formatting){t.push(x.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)t.push(x.formatting+"-"+e.formatting[r]),"header"===e.formatting[r]&&t.push(x.formatting+"-"+e.formatting[r]+"-"+e.header),"quote"===e.formatting[r]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(x.formatting+"-"+e.formatting[r]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(x.linkHref,"url"):(e.strong&&t.push(x.strong),e.em&&t.push(x.em),e.strikethrough&&t.push(x.strikethrough),e.linkText&&t.push(x.linkText),e.code&&t.push(x.code)),e.header&&t.push(x.header,x.header+"-"+e.header),e.quote&&(t.push(x.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(x.quote+"-"+e.quote):t.push(x.quote+"-"+n.maxBlockquoteDepth)),!1!==e.list){var i=(e.listStack.length-1)%3;i?1===i?t.push(x.list2):t.push(x.list3):t.push(x.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function d(e,t){return e.match(L,!0)?f(t):void 0}function h(t,r){var i=r.text(t,r);if(void 0!==i)return i;if(r.list)return r.list=null,f(r);if(r.taskList)return"x"!==t.match(C,!0)[1]?r.taskOpen=!0:r.taskClosed=!0,n.highlightFormatting&&(r.formatting="task"),r.taskList=!1,f(r);if(r.taskOpen=!1,r.taskClosed=!1,r.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(r.formatting="header"),f(r);var o=t.sol(),a=t.next();if(r.linkTitle){r.linkTitle=!1;var s=a;"("===a&&(s=")");var u="^\\s*(?:[^"+(s=(s+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+s;if(t.match(new RegExp(u),!0))return x.linkHref}if("`"===a){var c=r.formatting;n.highlightFormatting&&(r.formatting="code"),t.eatWhile("`");var d=t.current().length;if(0==r.code)return r.code=d,f(r);if(d==r.code){var h=f(r);return r.code=0,h}return r.formatting=c,f(r)}if(r.code)return f(r);if("\\"===a&&(t.next(),n.highlightFormatting)){var g=f(r),v=x.formatting+"-escape";return g?g+" "+v:v}if("!"===a&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),r.inline=r.f=m,x.image;if("["===a&&t.match(/[^\]]*\](\(.*\)| ?\[.*?\])/,!1))return r.linkText=!0,n.highlightFormatting&&(r.formatting="link"),f(r);if("]"===a&&r.linkText&&t.match(/\(.*?\)| ?\[.*?\]/,!1)){n.highlightFormatting&&(r.formatting="link");g=f(r);return r.linkText=!1,r.inline=r.f=m,g}if("<"===a&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return r.f=r.inline=p,n.highlightFormatting&&(r.formatting="link"),(g=f(r))?g+=" ":g="",g+x.linkInline;if("<"===a&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return r.f=r.inline=p,n.highlightFormatting&&(r.formatting="link"),(g=f(r))?g+=" ":g="",g+x.linkEmail;if("<"===a&&t.match(/^(!--|\w)/,!1)){var y=t.string.indexOf(">",t.pos);if(-1!=y){var w=t.string.substring(t.start,y);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(w)&&(r.md_inside=!0)}return t.backUp(1),r.htmlState=e.startState(b),function(e,t,n){return t.f=t.block=n,n(e,t)}(t,r,l)}if("<"===a&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";var k=!1;if(!n.underscoresBreakWords&&"_"===a&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var S=t.pos-2;if(S>=0){var _=t.string.charAt(S);"_"!==_&&_.match(/(\w)/,!1)&&(k=!0)}}if("*"===a||"_"===a&&!k)if(o&&" "===t.peek());else{if(r.strong===a&&t.eat(a))return n.highlightFormatting&&(r.formatting="strong"),h=f(r),r.strong=!1,h;if(!r.strong&&t.eat(a))return r.strong=a,n.highlightFormatting&&(r.formatting="strong"),f(r);if(r.em===a)return n.highlightFormatting&&(r.formatting="em"),h=f(r),r.em=!1,h;if(!r.em)return r.em=a,n.highlightFormatting&&(r.formatting="em"),f(r)}else if(" "===a&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return f(r);t.backUp(1)}if(n.strikethrough)if("~"===a&&t.eatWhile(a)){if(r.strikethrough)return n.highlightFormatting&&(r.formatting="strikethrough"),h=f(r),r.strikethrough=!1,h;if(t.match(/^[^\s]/,!1))return r.strikethrough=!0,n.highlightFormatting&&(r.formatting="strikethrough"),f(r)}else if(" "===a&&t.match(/^~~/,!0)){if(" "===t.peek())return f(r);t.backUp(2)}return" "===a&&(t.match(/ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),f(r)}function p(e,t){if(">"===e.next()){t.f=t.inline=h,n.highlightFormatting&&(t.formatting="link");var r=f(t);return r?r+=" ":r="",r+x.linkInline}return e.match(/^[^>]+/,!0),x.linkInline}function m(e,t){if(e.eatSpace())return null;var r=e.next();return"("===r||"["===r?(t.f=t.inline=function(e){return function(t,r){if(t.next()===e){r.f=r.inline=h,n.highlightFormatting&&(r.formatting="link-string");var i=f(r);return r.linkHref=!1,i}return t.match(M[e]),r.linkHref=!0,f(r)}}("("===r?")":"]"),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,f(t)):"error"}function g(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=v,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,f(t)):i(e,t,h)}function v(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=y,n.highlightFormatting&&(t.formatting="link");var r=f(t);return t.linkText=!1,r}return e.match(/^([^\]\\]|\\.)+/,!0),x.linkText}function y(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=h,x.linkHref+" url")}var b=e.getMode(t,"text/html"),w="null"==b.name;void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.underscoresBreakWords&&(n.underscoresBreakWords=!0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var x={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"tag",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var k in x)x.hasOwnProperty(k)&&n.tokenTypeOverrides[k]&&(x[k]=n.tokenTypeOverrides[k]);var S=/^([*\-_])(?:\s*\1){2,}\s*$/,_=/^[*\-+]\s+/,E=/^[0-9]+([.)])\s+/,C=/^\[(x| )\](?=\s)/,T=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,O=/^ *(?:\={1,}|-{1,})\s*$/,L=/^[^#!\[\]*_\\<>` "'(~]+/,P=new RegExp("^("+(!0===n.fencedCodeBlocks?"~~~+|```+":n.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)"),M={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\\]]|\\.)*\])*?(?=\])/},A={startState:function(){return{f:s,prevLine:null,thisLine:null,block:s,htmlState:null,indentation:0,inline:h,text:d,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(b,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkTitle:t.linkTitle,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,header:t.header,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedChars:t.fencedChars}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine){var n=t.header||t.hr;if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0)||n){if(a(t),!n)return null;t.prevLine=null}t.prevLine=t.thisLine,t.thisLine=e,t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block;var r=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(t.indentationDiff=Math.min(r-t.indentation,4),t.indentation=t.indentation+t.indentationDiff,r>0)return null}return t.f(e,t)},innerMode:function(e){return e.block==l?{state:e.htmlState,mode:b}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:A}},blankLine:a,getType:f,fold:"markdown"};return A},"xml"),e.defineMIME("text/x-markdown","markdown")},"object"==typeof n&&"object"==typeof t?r(e("../../lib/codemirror"),e("../xml/xml"),e("../meta")):r(CodeMirror)},{"../../lib/codemirror":10,"../meta":13,"../xml/xml":14}],13:[function(e,t,n){!function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"]},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Jade",mime:"text/x-jade",mode:"jade",ext:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mime:"text/x-yaml",mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.mime==t)return r;if(r.mimes)for(var i=0;i<r.mimes.length;i++)if(r.mimes[i]==t)return r}},e.findModeByExtension=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.ext)for(var i=0;i<r.ext.length;i++)if(r.ext[i]==t)return r}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.file&&r.file.test(t))return r}var i=t.lastIndexOf("."),o=i>-1&&t.substring(i+1,t.length);return o?e.findModeByExtension(o):void 0},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.name.toLowerCase()==t)return r;if(r.alias)for(var i=0;i<r.alias.length;i++)if(r.alias[i].toLowerCase()==t)return r}}}("object"==typeof n&&"object"==typeof t?e("../lib/codemirror"):CodeMirror)},{"../lib/codemirror":10}],14:[function(e,t,n){!function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",function(r,i){function o(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();return"<"==r?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(s("atom","]]>")):null:e.match("--")?n(s("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(function e(t){return function(n,r){for(var i;null!=(i=n.next());){if("<"==i)return r.tokenize=e(t+1),r.tokenize(n,r);if(">"==i){if(1==t){r.tokenize=o;break}return r.tokenize=e(t-1),r.tokenize(n,r)}}return"meta"}}(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=s("meta","?>"),"meta"):(b=e.eat("/")?"closeTag":"openTag",t.tokenize=a,"tag bracket"):"&"==r?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function a(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=o,b=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return b="equals",null;if("<"==n){t.tokenize=o,t.state=c,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=function(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=a;break}return"string"};return t.isInAttribute=!0,t}(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function s(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=o;break}n.next()}return e}}function l(e){e.context&&(e.context=e.context.prev)}function u(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!k.contextGrabbers.hasOwnProperty(n)||!k.contextGrabbers[n].hasOwnProperty(t))return;l(e)}}function c(e,t,n){return"openTag"==e?(n.tagStart=t.column(),f):"closeTag"==e?d:c}function f(e,t,n){return"word"==e?(n.tagName=t.current(),w="tag",m):(w="error",f)}function d(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&k.implicitlyClosed.hasOwnProperty(n.context.tagName)&&l(n),n.context&&n.context.tagName==r||!1===k.matchClosing?(w="tag",h):(w="tag error",p)}return w="error",p}function h(e,t,n){return"endTag"!=e?(w="error",h):(l(n),c)}function p(e,t,n){return w="error",h(e,0,n)}function m(e,t,n){if("word"==e)return w="attribute",g;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||k.autoSelfClosers.hasOwnProperty(r)?u(n,r):(u(n,r),n.context=new function(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(k.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}(n,r,i==n.indented)),c}return w="error",m}function g(e,t,n){return"equals"==e?v:(k.allowMissing||(w="error"),m(e,0,n))}function v(e,t,n){return"string"==e?y:"word"==e&&k.allowUnquoted?(w="string",m):(w="error",m(e,0,n))}function y(e,t,n){return"string"==e?y:m(e,0,n)}var b,w,x=r.indentUnit,k={},S=i.htmlMode?t:n;for(var _ in S)k[_]=S[_];for(var _ in i)k[_]=i[_];return o.isInText=!0,{startState:function(e){var t={tokenize:o,state:c,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;b=null;var n=t.tokenize(e,t);return(n||b)&&"comment"!=n&&(w=null,t.state=t.state(b||n,e,t),w&&(n="error"==w?n+" error":w)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+x;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=a&&t.tokenize!=o)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==k.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+x*(k.multilineTagIndentFactor||1);if(k.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var s=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(s&&s[1])for(;i;){if(i.tagName==s[2]){i=i.prev;break}if(!k.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(s)for(;i;){var l=k.contextGrabbers[i.tagName];if(!l||!l.hasOwnProperty(s[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+x:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:k.htmlMode?"html":"xml",helperType:k.htmlMode?"html":"xml",skipAttribute:function(e){e.state==v&&(e.state=m)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}("object"==typeof n&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],15:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+f>=1?d/l:d*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*m}},{}],16:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],17:[function(t,n,r){(function(e){(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||c.defaults,this.rules=f.normal,this.options.gfm&&(this.options.tables?this.rules=f.tables:this.rules=f.gfm)}function t(e,t){if(this.options=t||c.defaults,this.links=e,this.rules=d.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=d.breaks:this.rules=d.gfm:this.options.pedantic&&(this.rules=d.pedantic)}function i(e){this.options=e||{}}function o(e){this.tokens=[],this.token=null,this.options=e||c.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options}function a(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function s(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=(i=i.source||i).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,i),n):new RegExp(e,t)}}function l(){}function u(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function c(t,n,r){if(r||"function"==typeof n){r||(r=n,n=null);var i,s,l=(n=u({},c.defaults,n||{})).highlight,f=0;try{i=e.lex(t,n)}catch(e){return r(e)}s=i.length;var d=function(e){if(e)return n.highlight=l,r(e);var t;try{t=o.parse(i,n)}catch(t){e=t}return n.highlight=l,e?r(e):r(null,t)};if(!l||l.length<3)return d();if(delete n.highlight,!s)return d();for(;f<i.length;f++)!function(e){"code"!==e.type?--s||d():l(e.text,e.lang,function(t,n){return t?d(t):null==n||n===e.text?--s||d():(e.text=n,e.escaped=!0,void(--s||d()))})}(i[f])}else try{return n&&(n=u({},c.defaults,n)),o.parse(e.lex(t,n),n)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(n||c.defaults).silent)return"<p>An error occured:</p><pre>"+a(e.message+"",!0)+"</pre>";throw e}}var f={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:l,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:l,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:l,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/,bullet:/(?:[*+-]|\d+\.)/,item:/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/};f.item=s(f.item,"gm")(/bull/g,f.bullet)(),f.list=s(f.list)(/bull/g,f.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+f.def.source+")")(),f.blockquote=s(f.blockquote)("def",f.def)(),f._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",f.html=s(f.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,f._tag)(),f.paragraph=s(f.paragraph)("hr",f.hr)("heading",f.heading)("lheading",f.lheading)("blockquote",f.blockquote)("tag","<"+f._tag)("def",f.def)(),f.normal=u({},f),f.gfm=u({},f.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),f.gfm.paragraph=s(f.paragraph)("(?!","(?!"+f.gfm.fences.source.replace("\\1","\\2")+"|"+f.list.source.replace("\\1","\\3")+"|")(),f.tables=u({},f.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=f,e.lex=function(t,n){return new e(n).lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){var r,i,o,a,s,l,u,c,d;for(e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),a=o[2],this.tokens.push({type:"list_start",ordered:a.length>1}),r=!1,d=(o=o[0].match(this.rules.item)).length,c=0;d>c;c++)u=(l=o[c]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==d-1&&(a===(s=f.bullet.exec(o[c+1])[0])||a.length>1&&s.length>1||(e=o.slice(c+1).join("\n")+e,c=d-1)),i=r||/\n\n(?!\s*$)/.test(l),c!==d-1&&(r="\n"===l.charAt(l.length-1),i||(i=r)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!n&&t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var d={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:l,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:l,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/,_inside:/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,_href:/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/};d.link=s(d.link)("inside",d._inside)("href",d._href)(),d.reflink=s(d.reflink)("inside",d._inside)(),d.normal=u({},d),d.pedantic=u({},d.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),d.gfm=u({},d.normal,{escape:s(d.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:s(d.text)("]|","~]|")("|","|https?://|")()}),d.breaks=u({},d.gfm,{br:s(d.br)("{2,}","*")(),text:s(d.gfm.text)("{2,}","*")()}),t.rules=d,t.output=function(e,n,r){return new t(n,r).output(e)},t.prototype.output=function(e){for(var t,n,r,i,o="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),o+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(n=":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1]),r=this.mangle("mailto:")+n):r=n=a(i[1]),o+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):a(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,o+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){o+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,o+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),o+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),o+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),o+=this.renderer.codespan(a(i[2],!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),o+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),o+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),o+=this.renderer.text(a(this.smartypants(i[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(i[0].length),r=n=a(i[1]),o+=this.renderer.link(r,null,n);return o},t.prototype.outputLink=function(e,t){var n=a(t.href),r=t.title?a(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,a(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):e},t.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,i=0;r>i;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},i.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+a(t,!0)+'">'+(n?e:a(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:a(e,!0))+"\n</code></pre>"},i.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},i.prototype.html=function(e){return e},i.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},i.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},i.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},i.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},i.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},i.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},i.prototype.strong=function(e){return"<strong>"+e+"</strong>"},i.prototype.em=function(e){return"<em>"+e+"</em>"},i.prototype.codespan=function(e){return"<code>"+e+"</code>"},i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.prototype.del=function(e){return"<del>"+e+"</del>"},i.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(function(e){return e.replace(/&([#\w]+);/g,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:"))return""}var i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+">"+n+"</a>"},i.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+(this.options.xhtml?"/>":">")},i.prototype.text=function(e){return e},o.parse=function(e,t,n){return new o(t,n).parse(e)},o.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var n="";this.next();)n+=this.tok();return n},o.prototype.next=function(){return this.token=this.tokens.pop()},o.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},o.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},o.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,i="",o="";for(n="",e=0;e<this.token.header.length;e++)this.token.align[e],n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(n)}return this.renderer.table(i,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var a=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var s=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(s);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},l.exec=l,c.options=c.setOptions=function(e){return u(c.defaults,e),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new i,xhtml:!1},c.Parser=o,c.parser=o.parse,c.Renderer=i,c.Lexer=e,c.lexer=e.lex,c.InlineLexer=t,c.inlineLexer=t.output,c.parse=c,void 0!==n&&"object"==typeof r?n.exports=c:this.marked=c}).call(function(){return this||("undefined"!=typeof window?window:e)}())}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t,n){(function(n,r){"use strict";var i=function(e,t,n,i){if(i=i||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=i.flags||{},e){if(this.dictionary=e,"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension)t||(t=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+e+"/"+e+".aff"))),n||(n=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+e+"/"+e+".dic")));else{if(i.dictionaryPath)var o=i.dictionaryPath;else o=void 0!==r?r+"/dictionaries":"./dictionaries";t||(t=this._readFile(o+"/"+e+"/"+e+".aff")),n||(n=this._readFile(o+"/"+e+"/"+e+".dic"))}this.rules=this._parseAFF(t),this.compoundRuleCodes={};for(var a=0,s=this.compoundRules.length;s>a;a++)for(var l=this.compoundRules[a],u=0,c=l.length;c>u;u++)this.compoundRuleCodes[l[u]]=[];for(var a in"ONLYINCOMPOUND"in this.flags&&(this.compoundRuleCodes[this.flags.ONLYINCOMPOUND]=[]),this.dictionaryTable=this._parseDIC(n),this.compoundRuleCodes)0==this.compoundRuleCodes[a].length&&delete this.compoundRuleCodes[a];for(a=0,s=this.compoundRules.length;s>a;a++){var f=this.compoundRules[a],d="";for(u=0,c=f.length;c>u;u++){var h=f[u];d+=h in this.compoundRuleCodes?"("+this.compoundRuleCodes[h].join("|")+")":h}this.compoundRules[a]=new RegExp(d,"i")}}return this};i.prototype={load:function(e){for(var t in e)this[t]=e[t];return this},_readFile:function(t,r){if(r||(r="utf8"),"undefined"!=typeof XMLHttpRequest){var i=new XMLHttpRequest;return i.open("GET",t,!1),i.overrideMimeType&&i.overrideMimeType("text/plain; charset="+r),i.send(null),i.responseText}if(void 0!==e){var o=e("fs");try{if(o.existsSync(t)){var a=o.statSync(t),s=o.openSync(t,"r"),l=new n(a.size);return o.readSync(s,l,0,l.length,null),l.toString(r,0,l.length)}console.log("Path "+t+" does not exist.")}catch(e){return console.log(e),""}}},_parseAFF:function(e){for(var t={},n=(e=this._removeAffixComments(e)).split("\n"),r=0,i=n.length;i>r;r++){var o=(b=n[r]).split(/\s+/),a=o[0];if("PFX"==a||"SFX"==a){for(var s=o[1],l=o[2],u=[],c=r+1,f=r+1+(y=parseInt(o[3],10));f>c;c++){var d=(w=(b=n[c]).split(/\s+/))[2],h=w[3].split("/"),p=h[0];"0"===p&&(p="");var m=this.parseRuleCodes(h[1]),g=w[4],v={};v.add=p,m.length>0&&(v.continuationClasses=m),"."!==g&&(v.match="SFX"===a?new RegExp(g+"$"):new RegExp("^"+g)),"0"!=d&&(v.remove="SFX"===a?new RegExp(d+"$"):d),u.push(v)}t[s]={type:a,combineable:"Y"==l,entries:u},r+=y}else if("COMPOUNDRULE"===a){var y;for(c=r+1,f=r+1+(y=parseInt(o[1],10));f>c;c++){var b,w=(b=n[c]).split(/\s+/);this.compoundRules.push(w[1])}r+=y}else"REP"===a?3===(w=b.split(/\s+/)).length&&this.replacementTable.push([w[1],w[2]]):this.flags[a]=o[1]}return t},_removeAffixComments:function(e){return(e=(e=(e=e.replace(/#.*$/gm,"")).replace(/^\s\s*/m,"").replace(/\s\s*$/m,"")).replace(/\n{2,}/g,"\n")).replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(e){function t(e,t){e in r&&"object"==typeof r[e]||(r[e]=[]),r[e].push(t)}for(var n=(e=this._removeDicComments(e)).split("\n"),r={},i=1,o=n.length;o>i;i++){var a=n[i].split("/",2),s=a[0];if(a.length>1){var l=this.parseRuleCodes(a[1]);"NEEDAFFIX"in this.flags&&-1!=l.indexOf(this.flags.NEEDAFFIX)||t(s,l);for(var u=0,c=l.length;c>u;u++){var f=l[u],d=this.rules[f];if(d)for(var h=this._applyRule(s,d),p=0,m=h.length;m>p;p++){var g=h[p];if(t(g,[]),d.combineable)for(var v=u+1;c>v;v++){var y=l[v],b=this.rules[y];if(b&&b.combineable&&d.type!=b.type)for(var w=this._applyRule(g,b),x=0,k=w.length;k>x;x++)t(w[x],[])}}f in this.compoundRuleCodes&&this.compoundRuleCodes[f].push(s)}}else t(s.trim(),[])}return r},_removeDicComments:function(e){return e.replace(/^\t.*$/gm,"")},parseRuleCodes:function(e){if(!e)return[];if(!("FLAG"in this.flags))return e.split("");if("long"===this.flags.FLAG){for(var t=[],n=0,r=e.length;r>n;n+=2)t.push(e.substr(n,2));return t}return"num"===this.flags.FLAG?textCode.split(","):void 0},_applyRule:function(e,t){for(var n=t.entries,r=[],i=0,o=n.length;o>i;i++){var a=n[i];if(!a.match||e.match(a.match)){var s=e;if(a.remove&&(s=s.replace(a.remove,"")),"SFX"===t.type?s+=a.add:s=a.add+s,r.push(s),"continuationClasses"in a)for(var l=0,u=a.continuationClasses.length;u>l;l++){var c=this.rules[a.continuationClasses[l]];c&&(r=r.concat(this._applyRule(s,c)))}}}return r},check:function(e){var t=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(t))return!0;if(t.toUpperCase()===t){var n=t[0]+t.substring(1).toLowerCase();if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}var r=t.toLowerCase();if(r!==t){if(this.hasFlag(r,"KEEPCASE"))return!1;if(this.checkExact(r))return!0}return!1},checkExact:function(e){var t=this.dictionaryTable[e];if(void 0===t){if("COMPOUNDMIN"in this.flags&&e.length>=this.flags.COMPOUNDMIN)for(var n=0,r=this.compoundRules.length;r>n;n++)if(e.match(this.compoundRules[n]))return!0;return!1}if("object"==typeof t){for(n=0,r=t.length;r>n;n++)if(!this.hasFlag(e,"ONLYINCOMPOUND",t[n]))return!0;return!1}},hasFlag:function(e,t,n){return!!(t in this.flags&&(void 0===n&&(n=Array.prototype.concat.apply([],this.dictionaryTable[e])),n&&-1!==n.indexOf(this.flags[t])))},alphabet:"",suggest:function(e,t){function n(e){for(var t=[],n=0,r=e.length;r>n;n++){for(var i=e[n],o=[],a=0,s=i.length+1;s>a;a++)o.push([i.substring(0,a),i.substring(a,i.length)]);var u=[];for(a=0,s=o.length;s>a;a++)(p=o[a])[1]&&u.push(p[0]+p[1].substring(1));var c=[];for(a=0,s=o.length;s>a;a++)(p=o[a])[1].length>1&&c.push(p[0]+p[1][1]+p[1][0]+p[1].substring(2));var f=[];for(a=0,s=o.length;s>a;a++)if((p=o[a])[1])for(var d=0,h=l.alphabet.length;h>d;d++)f.push(p[0]+l.alphabet[d]+p[1].substring(1));for(a=0,s=o.length;s>a;a++){var p;if((p=o[a])[1])for(d=0,h=l.alphabet.length;h>d;d++)f.push(p[0]+l.alphabet[d]+p[1])}t=(t=(t=(t=t.concat(u)).concat(c)).concat(f)).concat([])}return t}function r(e){for(var t=[],n=0;n<e.length;n++)l.check(e[n])&&t.push(e[n]);return t}if(t||(t=5),this.check(e))return[];for(var i=0,o=this.replacementTable.length;o>i;i++){var a=this.replacementTable[i];if(-1!==e.indexOf(a[0])){var s=e.replace(a[0],a[1]);if(this.check(s))return[s]}}var l=this;return l.alphabet="abcdefghijklmnopqrstuvwxyz",function(e){for(var i=n([e]),o=n(i),a=r(i).concat(r(o)),s={},u=0,c=a.length;c>u;u++)a[u]in s?s[a[u]]+=1:s[a[u]]=1;var f=[];for(var u in s)f.push([u,s[u]]);f.sort(function(e,t){return e[1]<t[1]?-1:1}).reverse();var d=[];for(u=0,c=Math.min(t,f.length);c>u;u++)l.hasFlag(f[u][0],"NOSUGGEST")||d.push(f[u][0]);return d}(e)}},void 0!==t&&(t.exports=i)}).call(this,e("buffer").Buffer,"/node_modules/typo-js")},{buffer:3,fs:2}],19:[function(e,t,n){var r=e("codemirror");r.commands.tabAndIndentMarkdownList=function(e){var t=e.listSelections()[0].head;if(!1!==e.getStateAfter(t.line).list)e.execCommand("indentMore");else if(e.options.indentWithTabs)e.execCommand("insertTab");else{var n=Array(e.options.tabSize+1).join(" ");e.replaceSelection(n)}},r.commands.shiftTabAndUnindentMarkdownList=function(e){var t=e.listSelections()[0].head;if(!1!==e.getStateAfter(t.line).list)e.execCommand("indentLess");else if(e.options.indentWithTabs)e.execCommand("insertTab");else{var n=Array(e.options.tabSize+1).join(" ");e.replaceSelection(n)}}},{codemirror:10}],20:[function(e,t,n){"use strict";function r(e){return W?e.replace("Ctrl","Cmd"):e.replace("Cmd","Ctrl")}function i(e,t,n){e=e||{};var r=document.createElement("a");return t=null==t||t,e.title&&t&&(r.title=a(e.title,e.action,n),W&&(r.title=r.title.replace("Ctrl",""),r.title=r.title.replace("Alt",""))),r.tabIndex=-1,r.className=e.className,r}function o(){var e=document.createElement("i");return e.className="separator",e.innerHTML="|",e}function a(e,t,n){var i,o=e;return t&&n[i=V(t)]&&(o+=" ("+r(n[i])+")"),o}function s(e,t){t=t||e.getCursor("start");var n=e.getTokenAt(t);if(!n.type)return{};for(var r,i,o=n.type.split(" "),a={},s=0;s<o.length;s++)"strong"===(r=o[s])?a.bold=!0:"variable-2"===r?(i=e.getLine(t.line),/^\s*\d+\.\s/.test(i)?a["ordered-list"]=!0:a["unordered-list"]=!0):"atom"===r?a.quote=!0:"em"===r?a.italic=!0:"quote"===r?a.quote=!0:"strikethrough"===r?a.strikethrough=!0:"comment"===r?a.code=!0:"link"===r?a.link=!0:"tag"===r?a.image=!0:r.match(/^header(\-[1-6])?$/)&&(a[r.replace("header","heading")]=!0);return a}function l(e){var t=e.codemirror;t.setOption("fullScreen",!t.getOption("fullScreen")),t.getOption("fullScreen")?(G=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=G;var n=t.getWrapperElement();/fullscreen/.test(n.previousSibling.className)?n.previousSibling.className=n.previousSibling.className.replace(/\s*fullscreen\b/,""):n.previousSibling.className+=" fullscreen";var r=e.toolbarElements.fullscreen;/active/.test(r.className)?r.className=r.className.replace(/\s*active\s*/g,""):r.className+=" active";var i=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(i.className)&&O(e)}function u(e){R(e,"bold",e.options.blockStyles.bold)}function c(e){R(e,"italic",e.options.blockStyles.italic)}function f(e){R(e,"strikethrough","~~")}function d(e){function t(e){if("object"!=typeof e)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof e+": "+e;return e.styles&&e.styles[2]&&-1!==e.styles[2].indexOf("formatting-code-block")}function n(e){return e.state.base.base||e.state.base}function r(e,r,i,o,a){i=i||e.getLineHandle(r),o=o||e.getTokenAt({line:r,ch:1}),a=a||!!i.text&&e.getTokenAt({line:r,ch:i.text.length-1});var s=o.type?o.type.split(" "):[];return a&&n(a).indentedCode?"indented":-1!==s.indexOf("comment")&&(n(o).fencedChars||n(a).fencedChars||t(i)?"fenced":"single")}var i,o,a,s=e.options.blockStyles.code,l=e.codemirror,u=l.getCursor("start"),c=l.getCursor("end"),f=l.getTokenAt({line:u.line,ch:u.ch||1}),d=l.getLineHandle(u.line),h=r(l,u.line,d,f);if("single"===h){var p=d.text.slice(0,u.ch).replace("`",""),m=d.text.slice(u.ch).replace("`","");l.replaceRange(p+m,{line:u.line,ch:0},{line:u.line,ch:99999999999999}),u.ch--,u!==c&&c.ch--,l.setSelection(u,c),l.focus()}else if("fenced"===h)if(u.line!==c.line||u.ch!==c.ch){for(i=u.line;i>=0&&!t(d=l.getLineHandle(i));i--);var g,v,y,b,w=n(l.getTokenAt({line:i,ch:1})).fencedChars;t(l.getLineHandle(u.line))?(g="",v=u.line):t(l.getLineHandle(u.line-1))?(g="",v=u.line-1):(g=w+"\n",v=u.line),t(l.getLineHandle(c.line))?(y="",b=c.line,0===c.ch&&(b+=1)):0!==c.ch&&t(l.getLineHandle(c.line+1))?(y="",b=c.line+1):(y=w+"\n",b=c.line+1),0===c.ch&&(b-=1),l.operation(function(){l.replaceRange(y,{line:b,ch:0},{line:b+(y?0:1),ch:0}),l.replaceRange(g,{line:v,ch:0},{line:v+(g?0:1),ch:0})}),l.setSelection({line:v+(g?1:0),ch:0},{line:b+(g?1:-1),ch:0}),l.focus()}else{var x=u.line;if(t(l.getLineHandle(u.line))&&("fenced"===r(l,u.line+1)?(i=u.line,x=u.line+1):(o=u.line,x=u.line-1)),void 0===i)for(i=x;i>=0&&!t(d=l.getLineHandle(i));i--);if(void 0===o)for(a=l.lineCount(),o=x;a>o&&!t(d=l.getLineHandle(o));o++);l.operation(function(){l.replaceRange("",{line:i,ch:0},{line:i+1,ch:0}),l.replaceRange("",{line:o-1,ch:0},{line:o,ch:0})}),l.focus()}else if("indented"===h){if(u.line!==c.line||u.ch!==c.ch)i=u.line,o=c.line,0===c.ch&&o--;else{for(i=u.line;i>=0;i--)if(!(d=l.getLineHandle(i)).text.match(/^\s*$/)&&"indented"!==r(l,i,d)){i+=1;break}for(a=l.lineCount(),o=u.line;a>o;o++)if(!(d=l.getLineHandle(o)).text.match(/^\s*$/)&&"indented"!==r(l,o,d)){o-=1;break}}var k=l.getLineHandle(o+1),S=k&&l.getTokenAt({line:o+1,ch:k.text.length-1});S&&n(S).indentedCode&&l.replaceRange("\n",{line:o+1,ch:0});for(var _=i;o>=_;_++)l.indentLine(_,"subtract");l.focus()}else{var E=u.line===c.line&&u.ch===c.ch&&0===u.ch,C=u.line!==c.line;E||C?function(e,t,n,r){var i=t.line+1,o=n.line+1,a=t.line!==n.line,s=r+"\n",l="\n"+r;a&&o++,a&&0===n.ch&&(l=r+"\n",o--),P(e,!1,[s,l]),e.setSelection({line:i,ch:0},{line:o,ch:0})}(l,u,c,s):P(l,!1,["`","`"])}}function h(e){A(e.codemirror,"quote")}function p(e){M(e.codemirror,"smaller")}function m(e){M(e.codemirror,"bigger")}function g(e){M(e.codemirror,void 0,1)}function v(e){M(e.codemirror,void 0,2)}function y(e){M(e.codemirror,void 0,3)}function b(e){A(e.codemirror,"unordered-list")}function w(e){A(e.codemirror,"ordered-list")}function x(e){!function(e){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className))for(var t,n=e.getCursor("start"),r=e.getCursor("end"),i=n.line;i<=r.line;i++)t=(t=e.getLine(i)).replace(/^[ ]*([# ]+|\*|\-|[> ]+|[0-9]+(.|\)))[ ]*/,""),e.replaceRange(t,{line:i,ch:0},{line:i,ch:99999999999999})}(e.codemirror)}function k(e){var t=e.codemirror,n=s(t),r=e.options,i="http://";return!(r.promptURLs&&(i=prompt(r.promptTexts.link),!i))&&void P(t,n.link,r.insertTexts.link,i)}function S(e){var t=e.codemirror,n=s(t),r=e.options,i="http://";return!(r.promptURLs&&(i=prompt(r.promptTexts.image),!i))&&void P(t,n.image,r.insertTexts.image,i)}function _(e){var t=e.codemirror,n=s(t),r=e.options;P(t,n.table,r.insertTexts.table)}function E(e){var t=e.codemirror,n=s(t),r=e.options;P(t,n.image,r.insertTexts.horizontalRule)}function C(e){var t=e.codemirror;t.undo(),t.focus()}function T(e){var t=e.codemirror;t.redo(),t.focus()}function O(e){var t=e.codemirror,n=t.getWrapperElement(),r=n.nextSibling,i=e.toolbarElements["side-by-side"],o=!1;/editor-preview-active-side/.test(r.className)?(r.className=r.className.replace(/\s*editor-preview-active-side\s*/g,""),i.className=i.className.replace(/\s*active\s*/g,""),n.className=n.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){t.getOption("fullScreen")||l(e),r.className+=" editor-preview-active-side"},1),i.className+=" active",n.className+=" CodeMirror-sided",o=!0);var a=n.lastChild;if(/editor-preview-active/.test(a.className)){a.className=a.className.replace(/\s*editor-preview-active\s*/g,"");var s=e.toolbarElements.preview,u=n.previousSibling;s.className=s.className.replace(/\s*active\s*/g,""),u.className=u.className.replace(/\s*disabled-for-preview*/g,"")}t.sideBySideRenderingFunction||(t.sideBySideRenderingFunction=function(){r.innerHTML=e.options.previewRender(e.value(),r)}),o?(r.innerHTML=e.options.previewRender(e.value(),r),t.on("update",t.sideBySideRenderingFunction)):t.off("update",t.sideBySideRenderingFunction),t.refresh()}function L(e){var t=e.codemirror,n=t.getWrapperElement(),r=n.previousSibling,i=!!e.options.toolbar&&e.toolbarElements.preview,o=n.lastChild;o&&/editor-preview/.test(o.className)||((o=document.createElement("div")).className="editor-preview",n.appendChild(o)),/editor-preview-active/.test(o.className)?(o.className=o.className.replace(/\s*editor-preview-active\s*/g,""),i&&(i.className=i.className.replace(/\s*active\s*/g,""),r.className=r.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){o.className+=" editor-preview-active"},1),i&&(i.className+=" active",r.className+=" disabled-for-preview")),o.innerHTML=e.options.previewRender(e.value(),o);var a=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(a.className)&&O(e)}function P(e,t,n,r){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){var i,o=n[0],a=n[1],s=e.getCursor("start"),l=e.getCursor("end");r&&(a=a.replace("#url#",r)),t?(o=(i=e.getLine(s.line)).slice(0,s.ch),a=i.slice(s.ch),e.replaceRange(o+a,{line:s.line,ch:0})):(i=e.getSelection(),e.replaceSelection(o+i+a),s.ch+=o.length,s!==l&&(l.ch+=o.length)),e.setSelection(s,l),e.focus()}}function M(e,t,n){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var r=e.getCursor("start"),i=e.getCursor("end"),o=r.line;o<=i.line;o++)!function(r){var i=e.getLine(r),o=i.search(/[^#]/);i=void 0!==t?0>=o?"bigger"==t?"###### "+i:"# "+i:6==o&&"smaller"==t?i.substr(7):1==o&&"bigger"==t?i.substr(2):"bigger"==t?i.substr(1):"#"+i:1==n?0>=o?"# "+i:o==n?i.substr(o+1):"# "+i.substr(o+1):2==n?0>=o?"## "+i:o==n?i.substr(o+1):"## "+i.substr(o+1):0>=o?"### "+i:o==n?i.substr(o+1):"### "+i.substr(o+1),e.replaceRange(i,{line:r,ch:0},{line:r,ch:99999999999999})}(o);e.focus()}}function A(e,t){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var n=s(e),r=e.getCursor("start"),i=e.getCursor("end"),o={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},a={quote:"> ","unordered-list":"* ","ordered-list":"1. "},l=r.line;l<=i.line;l++)!function(r){var i=e.getLine(r);i=n[t]?i.replace(o[t],"$1"):a[t]+i,e.replaceRange(i,{line:r,ch:0},{line:r,ch:99999999999999})}(l);e.focus()}}function R(e,t,n,r){if(!/editor-preview-active/.test(e.codemirror.getWrapperElement().lastChild.className)){r=void 0===r?n:r;var i,o=e.codemirror,a=s(o),l=n,u=r,c=o.getCursor("start"),f=o.getCursor("end");a[t]?(l=(i=o.getLine(c.line)).slice(0,c.ch),u=i.slice(c.ch),"bold"==t?(l=l.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),u=u.replace(/(\*\*|__)/,"")):"italic"==t?(l=l.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),u=u.replace(/(\*|_)/,"")):"strikethrough"==t&&(l=l.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),u=u.replace(/(\*\*|~~)/,"")),o.replaceRange(l+u,{line:c.line,ch:0},{line:c.line,ch:99999999999999}),"bold"==t||"strikethrough"==t?(c.ch-=2,c!==f&&(f.ch-=2)):"italic"==t&&(c.ch-=1,c!==f&&(f.ch-=1))):(i=o.getSelection(),"bold"==t?i=(i=i.split("**").join("")).split("__").join(""):"italic"==t?i=(i=i.split("*").join("")).split("_").join(""):"strikethrough"==t&&(i=i.split("~~").join("")),o.replaceSelection(l+i+u),c.ch+=n.length,f.ch=c.ch+i.length),o.setSelection(c,f),o.focus()}}function D(e,t){for(var n in t)t.hasOwnProperty(n)&&(t[n]instanceof Array?e[n]=t[n].concat(e[n]instanceof Array?e[n]:[]):null!==t[n]&&"object"==typeof t[n]&&t[n].constructor===Object?e[n]=D(e[n]||{},t[n]):e[n]=t[n]);return e}function j(e){for(var t=1;t<arguments.length;t++)e=D(e,arguments[t]);return e}function N(e){var t=e.match(/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),n=0;if(null===t)return n;for(var r=0;r<t.length;r++)n+=t[r].charCodeAt(0)>=19968?t[r].length:1;return n}function B(e){(e=e||{}).parent=this;var t=!0;if(!1===e.autoDownloadFontAwesome&&(t=!1),!0!==e.autoDownloadFontAwesome)for(var n=document.styleSheets,r=0;r<n.length;r++)n[r].href&&n[r].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(t=!1);if(t){var i=document.createElement("link");i.rel="stylesheet",i.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(i)}if(e.element)this.element=e.element;else if(null===e.element)return void console.log("SimpleMDE: Error. No element was found.");if(void 0===e.toolbar)for(var o in e.toolbar=[],$)$.hasOwnProperty(o)&&(-1!=o.indexOf("separator-")&&e.toolbar.push("|"),(!0===$[o].default||e.showIcons&&e.showIcons.constructor===Array&&-1!=e.showIcons.indexOf(o))&&e.toolbar.push(o));e.hasOwnProperty("status")||(e.status=["autosave","lines","words","cursor"]),e.previewRender||(e.previewRender=function(e){return this.parent.markdown(e)}),e.parsingConfig=j({highlightFormatting:!0},e.parsingConfig||{}),e.insertTexts=j({},K,e.insertTexts||{}),e.promptTexts=X,e.blockStyles=j({},Z,e.blockStyles||{}),e.shortcuts=j({},U,e.shortcuts||{}),null!=e.autosave&&null!=e.autosave.unique_id&&""!=e.autosave.unique_id&&(e.autosave.uniqueId=e.autosave.unique_id),this.options=e,this.render(),!e.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(e.initialValue)}function F(){if("object"!=typeof localStorage)return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(e){return!1}return!0}var I=e("codemirror");e("codemirror/addon/edit/continuelist.js"),e("./codemirror/tablist"),e("codemirror/addon/display/fullscreen.js"),e("codemirror/mode/markdown/markdown.js"),e("codemirror/addon/mode/overlay.js"),e("codemirror/addon/display/placeholder.js"),e("codemirror/addon/selection/mark-selection.js"),e("codemirror/mode/gfm/gfm.js"),e("codemirror/mode/xml/xml.js");var H=e("codemirror-spell-checker"),z=e("marked"),W=/Mac/.test(navigator.platform),q={toggleBold:u,toggleItalic:c,drawLink:k,toggleHeadingSmaller:p,toggleHeadingBigger:m,drawImage:S,toggleBlockquote:h,toggleOrderedList:w,toggleUnorderedList:b,toggleCodeBlock:d,togglePreview:L,toggleStrikethrough:f,toggleHeading1:g,toggleHeading2:v,toggleHeading3:y,cleanBlock:x,drawTable:_,drawHorizontalRule:E,undo:C,redo:T,toggleSideBySide:O,toggleFullScreen:l},U={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},V=function(e){for(var t in q)if(q[t]===e)return t;return null},Y=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},G="",$={bold:{name:"bold",action:u,className:"fa fa-bold",title:"Bold",default:!0},italic:{name:"italic",action:c,className:"fa fa-italic",title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:f,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:p,className:"fa fa-header",title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:p,className:"fa fa-header fa-header-x fa-header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:m,className:"fa fa-header fa-header-x fa-header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:g,className:"fa fa-header fa-header-x fa-header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:v,className:"fa fa-header fa-header-x fa-header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:y,className:"fa fa-header fa-header-x fa-header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:d,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:h,className:"fa fa-quote-left",title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:b,className:"fa fa-list-ul",title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:w,className:"fa fa-list-ol",title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:x,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:k,className:"fa fa-link",title:"Create Link",default:!0},image:{name:"image",action:S,className:"fa fa-picture-o",title:"Insert Image",default:!0},table:{name:"table",action:_,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:E,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:L,className:"fa fa-eye no-disable",title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:O,className:"fa fa-columns no-disable no-mobile",title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:l,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:C,className:"fa fa-undo no-disable",title:"Undo"},redo:{name:"redo",action:T,className:"fa fa-repeat no-disable",title:"Redo"}},K={link:["[","](#url#)"],image:["![](","#url#)"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},X={link:"URL for the link:",image:"URL of the image:"},Z={bold:"**",code:"```",italic:"*"};B.prototype.markdown=function(e){if(z){var t={};return this.options&&this.options.renderingConfig&&!1===this.options.renderingConfig.singleLineBreaks?t.breaks=!1:t.breaks=!0,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting&&window.hljs&&(t.highlight=function(e){return window.hljs.highlightAuto(e).value}),z.setOptions(t),z(e)}},B.prototype.render=function(e){if(e||(e=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==e){this.element=e;var t,n,i=this.options,o=this,a={};for(var s in i.shortcuts)null!==i.shortcuts[s]&&null!==q[s]&&function(e){a[r(i.shortcuts[e])]=function(){q[e](o)}}(s);if(a.Enter="newlineAndIndentContinueMarkdownList",a.Tab="tabAndIndentMarkdownList",a["Shift-Tab"]="shiftTabAndUnindentMarkdownList",a.Esc=function(e){e.getOption("fullScreen")&&l(o)},document.addEventListener("keydown",function(e){27==(e=e||window.event).keyCode&&o.codemirror.getOption("fullScreen")&&l(o)},!1),!1!==i.spellChecker?(t="spell-checker",(n=i.parsingConfig).name="gfm",n.gitHubSpice=!1,H({codeMirrorInstance:I})):((t=i.parsingConfig).name="gfm",t.gitHubSpice=!1),this.codemirror=I.fromTextArea(e,{mode:t,backdrop:n,theme:"paper",tabSize:null!=i.tabSize?i.tabSize:2,indentUnit:null!=i.tabSize?i.tabSize:2,indentWithTabs:!1!==i.indentWithTabs,lineNumbers:!1,autofocus:!0===i.autofocus,extraKeys:a,lineWrapping:!1!==i.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:i.placeholder||e.getAttribute("placeholder")||"",styleSelectedText:null==i.styleSelectedText||i.styleSelectedText}),!0===i.forceSync){var u=this.codemirror;u.on("change",function(){u.save()})}this.gui={},!1!==i.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==i.status&&(this.gui.statusbar=this.createStatusbar()),null!=i.autosave&&!0===i.autosave.enabled&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var c=this.codemirror;setTimeout(function(){c.refresh()}.bind(c),0)}},B.prototype.autosave=function(){if(F()){var e=this;if(null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to use the autosave feature");null!=e.element.form&&null!=e.element.form&&e.element.form.addEventListener("submit",function(){localStorage.removeItem("smde_"+e.options.autosave.uniqueId)}),!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,e.value());var t=document.getElementById("autosaved");if(null!=t&&null!=t&&""!=t){var n=new Date,r=n.getHours(),i=n.getMinutes(),o="am",a=r;a>=12&&(a=r-12,o="pm"),0==a&&(a=12),i=10>i?"0"+i:i,t.innerHTML="Autosaved: "+a+":"+i+" "+o}this.autosaveTimeoutId=setTimeout(function(){e.autosave()},this.options.autosave.delay||1e4)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},B.prototype.clearAutosavedValue=function(){if(F()){if(null==this.options.autosave||null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},B.prototype.createSideBySide=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.nextSibling;n&&/editor-preview-side/.test(n.className)||((n=document.createElement("div")).className="editor-preview-side",t.parentNode.insertBefore(n,t.nextSibling));var r=!1,i=!1;return e.on("scroll",function(e){if(r)r=!1;else{i=!0;var t=e.getScrollInfo().height-e.getScrollInfo().clientHeight,o=parseFloat(e.getScrollInfo().top)/t,a=(n.scrollHeight-n.clientHeight)*o;n.scrollTop=a}}),n.onscroll=function(){if(i)i=!1;else{r=!0;var t=n.scrollHeight-n.clientHeight,o=parseFloat(n.scrollTop)/t,a=(e.getScrollInfo().height-e.getScrollInfo().clientHeight)*o;e.scrollTo(0,a)}},n},B.prototype.createToolbar=function(e){if((e=e||this.options.toolbar)&&0!==e.length){var t;for(t=0;t<e.length;t++)null!=$[e[t]]&&(e[t]=$[e[t]]);var n=document.createElement("div");n.className="editor-toolbar";var r=this,a={};for(r.toolbar=e,t=0;t<e.length;t++)if(("guide"!=e[t].name||!1!==r.options.toolbarGuideIcon)&&!(r.options.hideIcons&&-1!=r.options.hideIcons.indexOf(e[t].name)||("fullscreen"==e[t].name||"side-by-side"==e[t].name)&&Y())){if("|"===e[t]){for(var l=!1,u=t+1;u<e.length;u++)"|"===e[u]||r.options.hideIcons&&-1!=r.options.hideIcons.indexOf(e[u].name)||(l=!0);if(!l)continue}!function(e){var t;t="|"===e?o():i(e,r.options.toolbarTips,r.options.shortcuts),e.action&&("function"==typeof e.action?t.onclick=function(t){t.preventDefault(),e.action(r)}:"string"==typeof e.action&&(t.href=e.action,t.target="_blank")),a[e.name||e]=t,n.appendChild(t)}(e[t])}r.toolbarElements=a;var c=this.codemirror;c.on("cursorActivity",function(){var e=s(c);for(var t in a)!function(t){var n=a[t];e[t]?n.className+=" active":"fullscreen"!=t&&"side-by-side"!=t&&(n.className=n.className.replace(/\s*active\s*/g,""))}(t)});var f=c.getWrapperElement();return f.parentNode.insertBefore(n,f),n}},B.prototype.createStatusbar=function(e){e=e||this.options.status;var t=this.options,n=this.codemirror;if(e&&0!==e.length){var r,i,o,a=[];for(r=0;r<e.length;r++)if(i=void 0,o=void 0,"object"==typeof e[r])a.push({className:e[r].className,defaultValue:e[r].defaultValue,onUpdate:e[r].onUpdate});else{var s=e[r];"words"===s?(o=function(e){e.innerHTML=N(n.getValue())},i=function(e){e.innerHTML=N(n.getValue())}):"lines"===s?(o=function(e){e.innerHTML=n.lineCount()},i=function(e){e.innerHTML=n.lineCount()}):"cursor"===s?(o=function(e){e.innerHTML="0:0"},i=function(e){var t=n.getCursor();e.innerHTML=t.line+":"+t.ch}):"autosave"===s&&(o=function(e){null!=t.autosave&&!0===t.autosave.enabled&&e.setAttribute("id","autosaved")}),a.push({className:s,defaultValue:o,onUpdate:i})}var l=document.createElement("div");for(l.className="editor-statusbar",r=0;r<a.length;r++){var u=a[r],c=document.createElement("span");c.className=u.className,"function"==typeof u.defaultValue&&u.defaultValue(c),"function"==typeof u.onUpdate&&this.codemirror.on("update",function(e,t){return function(){t.onUpdate(e)}}(c,u)),l.appendChild(c)}var f=this.codemirror.getWrapperElement();return f.parentNode.insertBefore(l,f.nextSibling),l}},B.prototype.value=function(e){return void 0===e?this.codemirror.getValue():(this.codemirror.getDoc().setValue(e),this)},B.toggleBold=u,B.toggleItalic=c,B.toggleStrikethrough=f,B.toggleBlockquote=h,B.toggleHeadingSmaller=p,B.toggleHeadingBigger=m,B.toggleHeading1=g,B.toggleHeading2=v,B.toggleHeading3=y,B.toggleCodeBlock=d,B.toggleUnorderedList=b,B.toggleOrderedList=w,B.cleanBlock=x,B.drawLink=k,B.drawImage=S,B.drawTable=_,B.drawHorizontalRule=E,B.undo=C,B.redo=T,B.togglePreview=L,B.toggleSideBySide=O,B.toggleFullScreen=l,B.prototype.toggleBold=function(){u(this)},B.prototype.toggleItalic=function(){c(this)},B.prototype.toggleStrikethrough=function(){f(this)},B.prototype.toggleBlockquote=function(){h(this)},B.prototype.toggleHeadingSmaller=function(){p(this)},B.prototype.toggleHeadingBigger=function(){m(this)},B.prototype.toggleHeading1=function(){g(this)},B.prototype.toggleHeading2=function(){v(this)},B.prototype.toggleHeading3=function(){y(this)},B.prototype.toggleCodeBlock=function(){d(this)},B.prototype.toggleUnorderedList=function(){b(this)},B.prototype.toggleOrderedList=function(){w(this)},B.prototype.cleanBlock=function(){x(this)},B.prototype.drawLink=function(){k(this)},B.prototype.drawImage=function(){S(this)},B.prototype.drawTable=function(){_(this)},B.prototype.drawHorizontalRule=function(){E(this)},B.prototype.undo=function(){C(this)},B.prototype.redo=function(){T(this)},B.prototype.togglePreview=function(){L(this)},B.prototype.toggleSideBySide=function(){O(this)},B.prototype.toggleFullScreen=function(){l(this)},B.prototype.isPreviewActive=function(){var e=this.codemirror.getWrapperElement().lastChild;return/editor-preview-active/.test(e.className)},B.prototype.isSideBySideActive=function(){var e=this.codemirror.getWrapperElement().nextSibling;return/editor-preview-active-side/.test(e.className)},B.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")},B.prototype.getState=function(){return s(this.codemirror)},B.prototype.toTextArea=function(){var e=this.codemirror,t=e.getWrapperElement();t.parentNode&&(this.gui.toolbar&&t.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&t.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&t.parentNode.removeChild(this.gui.sideBySide)),e.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},t.exports=B},{"./codemirror/tablist":19,codemirror:10,"codemirror-spell-checker":4,"codemirror/addon/display/fullscreen.js":5,"codemirror/addon/display/placeholder.js":6,"codemirror/addon/edit/continuelist.js":7,"codemirror/addon/mode/overlay.js":8,"codemirror/addon/selection/mark-selection.js":9,"codemirror/mode/gfm/gfm.js":11,"codemirror/mode/markdown/markdown.js":12,"codemirror/mode/xml/xml.js":14,marked:17}]},{},[20])(20)})}),require.register("apps/clippy/Clippy.js",function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.Clippy=void 0;var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(u,t("task/Task").Task);var n,r,s=a(u);function u(e){var n;return function(e,t){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),c(l(n=s.call(this,e)),"title","Clippy"),c(l(n),"icon","/w95/3-16-4bit.png"),c(l(n),"template",t("./main.tmp")),n.xFrame=0,n.yFrame=0,n.window.maximize=function(){},n.window.ruleSet.add(".clippy",function(e){var t=e.element;n.window.onFrame(function(){t.style.backgroundPosition="".concat(124*n.xFrame,"px ").concat(93*n.yFrame,"px"),Math.random()>.45||(Math.random()>.9&&(n.xFrame-=3),Math.random()>.85&&(n.yFrame-=2),Math.random()>.5?n.xFrame++:n.yFrame++,n.xFrame>22&&(n.xFrame=0),n.xFrame<0&&(n.xFrame=22))})}),n}return n=u,(r=[{key:"attached",value:function(){this.window.classes.transparent=!0,this.window.classes.pane=!1,this.window.classes["clippy-win"]=!0}}])&&i(n.prototype,r),u}();e.Clippy=f}),require.register("apps/clippy/main.tmp.html",function(e,t,n){n.exports='<div class = "clippy"></div>\n'}),require.register("apps/gitHub/GitHub.js",function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.GitHub=void 0;var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(f,e);var t,n,r,l=s(f);function f(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(u(e=l.call.apply(l,[this].concat(n))),"title","GitHub Login"),e}return t=f,r=[{key:"setToken",value:function(e){sessionStorage.setItem("github-access-token",e)}},{key:"getToken",value:function(){var e=sessionStorage.getItem("github-access-token");return!!e&&JSON.parse(e)}}],(n=[{key:"execute",value:function(){var e=this,t=Math.random().toString(36);return new Promise(function(){e.loginWindow=window.open("https://github.com/login/oauth/authorize?redirect_uri=https://nynex.unholysh.it/github-auth/accept&client_id=7150d20fb5a11fe1d332&scope=public_repo&state="+t,"github-login-".concat(e.tid),"left=100,top=100,width=750,height=500,resizable=0,scrollbars=0,location=0,menubar=0,toolbar=0,status=0"),window.addEventListener("message",function(t){console.log(t.data),f.setToken(t.data),e.loginWindow.close()},!1);var n=e.window.onInterval(100,function(){e.loginWindow.closed&&(clearInterval(n),e.window.close())})})}},{key:"signal",value:function(e){switch(e.type){case"kill":case"closed":this.loginWindow.close()}o(c(f.prototype),"signal",this).call(this,e)}}])&&i(t.prototype,n),r&&i(t,r),f}(t("../../task/Task").Task);e.GitHub=f}),require.register("apps/iconExplorer/IconExplorer.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconExplorer=void 0;var r=t("task/Task"),i=t("../../icon/Icon"),o=(t("../../home/Home"),t("curvature/base/Bindable"));function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var n,r,a=u(d);function d(e){var n;return function(e,t){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this),h(f(n=a.call(this,e)),"title","Icon Explorer"),h(f(n),"icon","/w95/3-16-4bit.png"),h(f(n),"template",t("./main.tmp")),c(n,o.Bindable.make(f(n)))}return n=d,(r=[{key:"attached",value:function(){var e=this;if(this.init=Date.now(),this.window.args.icons=Array(73).fill(1).map(function(t,n){var r=new i.Icon({action:function(t){e.window.args.preview=r.args.src,e.window.args.content=r.args.src;var n=new i.Icon(Object.assign({},r.args)),o=new i.Icon(Object.assign({},r.args));o.args.size=16,e.window.args.large=n,e.window.args.small=o,e.window.args.smallSrc=o.args.src,e.window.args.largeSrc=n.args.src,e.window.args.icon=o.args.src},icon:1+n,name:1+n});return r}),this.window.tags["small-icon"]){var t=this.window.tags["small-icon"].element;t.style.width="64px",t.style.height="64px",t.style.display="flex",t.style.justifyContent="center"}if(this.window.tags["large-icon"]){var n=this.window.tags["large-icon"].element;n.style.width="64px",n.style.height="64px",n.style.display="flex",n.style.justifyContent="center"}this.window.args.bindTo("age",function(e){}),this.window.onFrame(function(){var t=Date.now()-e.init;e.window.args.progr=(t/100%100).toFixed(2),e.window.args.window.args.age=(t/1e3).toFixed(1)})}}])&&s(n.prototype,r),d}(r.Task);e.IconExplorer=p}),require.register("apps/iconExplorer/main.tmp.html",function(e,t,n){n.exports='<div class = "row">\n\t<div class = "spacer"></div>\n\t<label class = "icon-label">16x16<br />[[smallSrc]]</label>\n\t<label class = "inset icon-frame" cv-ref = "small-icon">\n\t\t[[small]]\n\t</label>\n\t<label class = "icon-label">32x32<br />[[largeSrc]]</label>\n\t<label class = "inset icon-frame" cv-ref = "large-icon">\n\t\t[[large]]\n\t</label>\n</div>\n\n<div class = "frame white inset scroll margin">\n\t<div data-role = "icon-list" cv-each = "icons:iicon:i">[[iicon]]</div>\n</div>\n\n<div class = "row">\n\t<label>\n\t\t[[progr]]%\n\t</label>\n\t<progress  class = "inset" value="[[progr]]" max="100">\n</div>\n\n<div class = "status row">\n\t<div class = "label inset">Showing: Icons</div>\n\t<div class = "label inset">[[age]] seconds old.</div>\n</div>\n'}),require.register("apps/npmUnpkgr/NpmUnpkgr.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NpmUnpkgr=void 0;var r=t("task/Task"),i=t("../../icon/Icon"),o=(t("../../home/Home"),t("../../window/MenuBar"),t("curvature/base/Bindable"));function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var n,r,a=u(d);function d(e){var n;return function(e,t){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this),h(f(n=a.call(this,e)),"title","npm-unpkgr"),h(f(n),"icon","/apps/npm-16-24bit.png"),h(f(n),"template",t("./main.tmp")),n.window.args.searchIcon=new i.Icon({icon:23,size:16,name:""}),n.init=Date.now(),n.window.args.status="initializing...",n.window.args.icons=[],n.window.args.query="curvature",n.window.search=function(e){var t="http://npmsearch.com/query?q=".concat(n.window.args.query,"&size=64");e.preventDefault(),n.window.args.icons=[],fetch(t).then(function(e){return e.json()}).then(function(e){if(e&&e.results){var t=e.results.map(function(e){for(var t in e)e[t]=e[t][0];return e});t.sort(function(e,t){return e.name===n.window.args.query?-1:t.name===n.window.args.query?1:0}),n.window.args.icons=t.map(function(e,t){return new i.Icon({icon:62,size:32,name:e.name,action:function(){return Object.assign(n.window.args,e)}})})}})},c(n,o.Bindable.make(f(n)))}return n=d,(r=[{key:"attached",value:function(){}}])&&s(n.prototype,r),d}(r.Task);e.NpmUnpkgr=p}),require.register("apps/npmUnpkgr/main.tmp.html",function(e,t,n){n.exports='<label class = "row">\n\t[[searchIcon]]\n\tSearch:\n\t<form class = "wide" cv-on = "submit:search(event)">\n\t\t<input cv-bind = "query" type = "text" class = "wide">\n\t\t<button cv-on = "click:search(event)">go</button>\n\t</form>\n</label>\n\n<div class = "white inset scroll liquid">\n\t<div data-role = "icon-list" cv-each = "icons:icon:i">[[icon]]</div>\n</div>\n\n<span cv-if = "name">\n\t<div class = "row pane padded">\n\t\t<div class = "rows">\n\t\t\t<button>Install</button>\n\t\t\t<button>Browse</button>\n\t\t\t<button>Info</button>\n\t\t</div>\n\t\t<div>\n\t\t\t<span style = "font-size: x-large;">[[name]]</span><br />\n\t\t\t<span>[[version]]</span><br />\n\t\t\t<span>[[description]]</span><br />\n\t\t</div>\n\t</div>\n</span>\n\n<div class = "status row">\n\t<div class = "label inset">[[status]]</div>\n</div>\n'}),require.register("apps/nynemark/Nynemark.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Nynemark=void 0;var r,i=t("task/Task"),o=(t("../../icon/Icon"),t("../../home/Home"),t("../../window/MenuBar"),t("curvature/base/Bindable")),a=(r=t("simplemde/dist/simplemde.min"))&&r.__esModule?r:{default:r};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}console.log(a.default);var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(s,e);var n,r,i=c(s);function s(e){var n;return function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),p(d(n=i.call(this,e)),"title","Nynemark 95"),p(d(n),"icon","/w95/60-16-4bit.png"),p(d(n),"template",t("./main.tmp")),n.init=Date.now(),n.window.args.charCount="initializing...",n.window.ruleSet.add("textarea",function(e){n.editor=new a.default({element:e.element}),n.editor.value("# Welcome to Nynemark\n\nThe Nynex Markdown editor.\n")}),f(n,o.Bindable.make(d(n)))}return n=s,(r=[{key:"attached",value:function(){var e=this;this.window.args.bindTo("document",function(t,n,r,i){e.window.args.charCount=t?t.length:0})}}])&&l(n.prototype,r),s}(i.Task);e.Nynemark=m}),require.register("apps/nynemark/main.tmp.html",function(e,t,n){n.exports='<div class = "frame liquid">\n\t<textarea cv-bind = "document" class = "inset liquid"></textarea>\n</div>\n\n\x3c!-- <div class = "status row">\n\t<div class = "label inset">untitled</div>\n\t<div class = "label inset">[[charCount]]</div>\n</div>\n --\x3e\n'}),require.register("apps/nynepad/Nynepad.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Nynepad=void 0;var r=t("task/Task"),i=(t("../../icon/Icon"),t("../../home/Home"),t("../../window/MenuBar")),o=t("curvature/base/Bindable");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var n,r,a=u(d);function d(e){var n;return function(e,t){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this),h(f(n=a.call(this,e)),"title","Nynepad 95"),h(f(n),"icon","/w95/60-16-4bit.png"),h(f(n),"template",t("./main.tmp")),n.init=Date.now(),n.window.args.charCount="initializing...",c(n,o.Bindable.make(f(n)))}return n=d,(r=[{key:"attached",value:function(){var e=this;this.window.args.menuBar=new i.MenuBar(this.args,this.window),this.window.args.bindTo("document",function(t,n,r,i){e.window.args.charCount=t?t.length:0})}}])&&s(n.prototype,r),d}(r.Task);e.Nynepad=p}),require.register("apps/nynepad/main.tmp.html",function(e,t,n){n.exports='<div class = "frame liquid">\n\t<textarea cv-bind = "document" class = "inset liquid"></textarea>\n</div>\n\n<div class = "status row">\n\t<div class = "label inset">untitled</div>\n\t<div class = "label inset">[[charCount]]</div>\n</div>\n'}),require.register("apps/phpEditor/PhpEditor.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PhpEditor=void 0;var r=t("task/Task"),i=(t("../../icon/Icon"),t("../../home/Home"),t("../../window/MenuBar"),t("curvature/base/Bindable"));function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(f,e);var n,r,o=l(f);function f(e){var n;!function(e,t){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this),d(c(n=o.call(this,e)),"title","SM PHP Editor"),d(c(n),"icon","/apps/php-16-24bit.png"),d(c(n),"template",t("./main.tmp")),n.window.classes.loading=!0,n.window.classes.phpEditor=!0,n.window.args.status="initializing...";var r=new(t("php-wasm/Php").Php);return n.init=Date.now(),r.addEventListener("ready",function(){n.window.classes.loading=!1,n.window.args.status="PHP Ready!",r.run(n.window.args.input)}),n.window.args.output="",r.addEventListener("output",function(e){n.window.classes.loading=!1,n.window.args.status="PHP Ready!",n.window.args.output+=e.detail.join("\n")}),n.window.click=function(e){n.window.classes.loading=!0,n.window.args.status="PHP Running...",n.window.args.output="",n.window.onIdle(function(){return r.run(n.window.args.input)})},n.window.args.input='<?php\n\nclass HelloWorld\n{\n    public function __toString()\n    {\n        return "Hello, world!";\n    }\n}\n\nprint new HelloWorld;',u(n,i.Bindable.make(c(n)))}return n=f,(r=[{key:"attached",value:function(){var e=this;this.window.args.bindTo("document",function(t,n,r,i){e.window.args.charCount=t?t.length:0})}}])&&a(n.prototype,r),f}(r.Task);e.PhpEditor=h}),require.register("apps/phpEditor/main.tmp.html",function(e,t,n){n.exports='<div class = "frame liquid">\n\t<textarea cv-bind = "input" class = "inset liquid"></textarea>\n</div>\n\n<div class = "frame padded liquid inset scroll">\n\t[[$output]]\n</div>\n\n<div class = "row">\n\t<div class = "spacer"></div>\n\t<button cv-on = ":click(event)">Run</button>\n</div>\n\n<div class = "status row">\n\t<div class = "label inset">[[status]]</div>\n\t<div class = "label inset">[[charCount]]</div>\n</div>\n'}),require.register("apps/repoBrowser/Folder.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Folder=void 0;var r=t("curvature/base/View"),i=(t("curvature/base/Bindable"),t("../gitHub/GitHub"));function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var n,r,o=l(u);function u(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=o.call(this,n)).args.expanded=!1,e.args.files=[],e.args.icon=n.icon||"/w95/4-16-4bit.png",e.args.name=n.name||"Root",e.args.url=n.url||"https://nynex.unholysh.it/github-proxy/repos/seanmorris/nynex95/contents?ref=master&t="+Date.now(),e.template=t("./folder.tmp"),e}return n=u,(r=[{key:"expand",value:function(e,t){var n=this;if(this.args.expanded)return this.args.icon="/w95/4-16-4bit.png",void(this.args.expanded=!1);if(this.args.files.length)return this.args.icon="/w95/5-16-4bit.png",void(this.args.expanded=!0);var r={},o=i.GitHub.getToken();o&&o.access_token&&(r.Authorization="token ".concat(o.access_token));var a=this.args.url;fetch(a,{headers:r}).then(function(e){return e.json()}).then(function(e){if(Array.isArray(e))e.sort(function(e,t){return"dir"!==e.type&&"dir"!==t.type?0:"dir"!==e.type?1:"dir"!==t.type?-1:void 0}),n.args.files=[],e.map(function(e,t){var r=new u({browser:n.args.browser,url:e.url,name:e.name,icon:"dir"===e.type?"/w95/4-16-4bit.png":"/w95/60-16-4bit.png"});n.onTimeout(15*t,function(){n.args.files.push(r)})}),n.args.icon="/w95/5-16-4bit.png",n.args.expanded=!0;else{n.args.browser.window.args.content="",n.args.browser.window.args.filename="",n.args.browser.window.args.content="loading...";var t=e.download_url+(e.download_url.match(/\?/)?"&t=":"?t=")+Date.now();fetch(t).then(function(e){return e.text()}).then(function(t){n.args.browser.window.args.content="",n.args.browser.window.args.filename="",n.args.browser.window.args.meta=e,n.args.browser.window.args.content=t,n.args.browser.window.args.filename=e.name})}})}}])&&a(n.prototype,r),u}(r.View);e.Folder=c}),require.register("apps/repoBrowser/RepoBrowser.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RepoBrowser=void 0;var r=t("task/Task"),i=(t("../../icon/Icon"),t("../../home/Home"),t("../../window/MenuBar"),t("curvature/base/Bindable"),t("../gitHub/GitHub")),o=t("./Folder"),a=t("../../control/Html"),s=t("../../control/Json"),l=t("../../control/Image"),u=t("../../control/Plaintext");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?p(e):t}(this,n)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(m,e);var n,r,c=h(m);function m(e){var n;return function(e,t){if(!(e instanceof m))throw new TypeError("Cannot call a class as a function")}(this),g(p(n=c.call(this,e)),"title","Repo Browser"),g(p(n),"icon","/w95/73-16-4bit.png"),g(p(n),"template",t("./main.tmp")),n}return n=m,(r=[{key:"attached",value:function(){var e=this;this.window.args.filetype="",this.window.args.chars="",this.window.classes["repo-browser"]=!0;var t=new o.Folder({browser:this});this.window.args.files=this.window.args.files||[],this.window.args.files.push(t),t.expand(),this.window.args.bindTo("filename",function(t){var n=i.GitHub.getToken(),r=(t||"").split(".").pop();switch(e.window.args.control&&e.window.args.control.remove(),e.window.args.filetype=r||"",e.window.args.chars=0,r){case"md":e.window.args.control=new a.Html({srcdoc:"loading..."},e);var o=e.window.args.meta.url+"&api=json&t="+Date.now(),c={accept:"application/vnd.github.v3.html+json"};n&&(c.Authorization="token ".concat(n.access_token)),console.log(c),fetch(o,{headers:c}).then(function(e){return e.text()}).then(function(t){return e.window.args.control.args.srcdoc=t}).catch(function(t){return e.window.args.control.args.srcdoc=t});break;case"ico":case"gif":case"png":case"jpg":case"jpeg":case"webp":e.window.args.control=new l.Image({src:e.window.args.meta.download_url},e);break;case"json":e.window.args.control=new s.Json({expanded:"expanded",tree:JSON.parse(e.window.args.content)},e);break;default:e.window.args.control=new u.Plaintext({content:e.window.args.content},e)}e.window.args.chars=(e.window.args.content||"").length})}},{key:"expand",value:function(e,t){}}])&&f(n.prototype,r),m}(r.Task);e.RepoBrowser=v}),require.register("apps/repoBrowser/folder.tmp.html",function(e,t,n){n.exports='<div class = "folder">\n\t<span cv-on = "click:expand(event, file)">\n\t\t<img src = "[[icon]]" />\n\t\t<label>[[name]]</label>\n\t</span>\n\t<span cv-if = "expanded">\n\t\t<div class = "sub" cv-each = "files:file:f">\n\t\t\t[[file]]\n\t\t</div>\n\t</span>\n</div>\n'}),require.register("apps/repoBrowser/main.tmp.html",function(e,t,n){n.exports='<div class = "frame cols liquid">\n\t<div cv-each = "files:file:f" class = "inset treeview">\n\t\t<div class = "resize">[[file]]</div>\n\t</div>\n\t<div class = "frame rows inset content">\n\t\t<div class = "pane">File: [[filename]]</div>\n\t\t[[control]]\n\t</div>\n</div>\n\n<div class = "status row">\n\t<div class = "label inset">[[filename]]</div>\n\t<div class = "label inset">type: [[filetype]] size: [[chars]]</div>\n</div>\n'}),require.register("apps/taskManager/TaskManager.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TaskManager=void 0;var r=t("task/Task"),i=(t("../../icon/Icon"),t("../../home/Home")),o=t("../../window/MenuBar");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?c(e):t}(this,n)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t("curvature/base/Bindable");var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(f,e);var n,r,a=u(f);function f(e){var n;return function(e,t){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this),d(c(n=a.call(this,e)),"title","Task Manager"),d(c(n),"icon","/w95/61-16-4bit.png"),d(c(n),"template",t("./main.tmp")),n}return n=f,(r=[{key:"attached",value:function(){this.window.endTask=function(e,t){t.window.close()},this.window.focusTask=function(e,t){t.window.focus()},this.window.args.tasks=[],this.window.args.tasks=i.Home.instance().tasks.list,this.window.args.menuBar=new o.MenuBar(this.args,this.window)}}])&&s(n.prototype,r),f}(r.Task);e.TaskManager=h}),require.register("apps/taskManager/main.tmp.html",function(e,t,n){n.exports='<div class = "frame liquid">\n\t<div class = "frame inset gridview">\n\t\t<table>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>id</th>\n\t\t\t\t\t<th class = "wide">title</th>\n\t\t\t\t\t<th></th>\n\t\t\t\t\t<th></th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody cv-each = "tasks:task:t">\n\t\t\t\t<tr>\n\t\t\t\t\t<td>[[task.wid]]</td>\n\t\t\t\t\t<td>[[task.title]]</td>\n\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<button cv-on = "click:focusTask(event, task);">\n\t\t\t\t\t\t\tfocus\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</td>\n\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<button cv-on = "click:endTask(event, task);">close</button>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n</div>\n'}),require.register("control/Html.js",function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Html=void 0;var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(r,t("curvature/base/View").View);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}(r);function r(e,i){var o;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),(o=n.call(this,e,i)).template=t("./html.tmp"),o}return r}();e.Html=s}),require.register("control/Image.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Image=void 0;var r=t("curvature/base/View");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t("../home/Home");var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}(r);function r(e,i){var o;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),(o=n.call(this,e,i)).template=t("./image.tmp"),o}return r}(r.View);e.Image=l}),require.register("control/Json.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Json=void 0;var r=t("curvature/base/View");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t("curvature/base/Bindable"),t("../home/Home");var f=function(e){s(n,e);var t=l(n);function n(){return o(this,n),t.apply(this,arguments)}return n}(function(e){s(c,e);var n,r,u=l(c);function c(e,n){var r;return o(this,c),(r=u.call(this,e,n)).template=t("./json.tmp"),r.args.expandIcon="+",r.args.expanded=e.expanded||"expanded",r.args.tree=r.args.tree||{},r.args.json=r.args.json||{},r}return n=c,(r=[{key:"attached",value:function(){var e=this;this.args.bindTo("tree",function(t){if(t)for(var n in t)"object"===i(t[n])&&(e.args.json[n]=new f({},e))}),this.parent&&this.parent instanceof f||(this.args.topLevel="top-level main-content")}},{key:"expand",value:function(e,t){if(t){if(!this.args.tree[t])return;if(this.args.tree[t].args.tree||(this.args.json[t].args.tree=this.args.tree[t]),"object"!==i(this.args.tree[t]))return;this.args.tree[t].expand(e)}else this.args.expanded=this.args.expanded?"":"expanded",this.args.expandIcon=this.args.expanded?"+":"x"}},{key:"type",value:function(e){return i(e)}}])&&a(n.prototype,r),c}(r.View));e.Json=f}),require.register("control/Plaintext.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Plaintext=void 0;var r=t("curvature/base/View");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t("../home/Home");var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}(r);function r(e,i){var o;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),(o=n.call(this,e,i)).template=t("./plaintext.tmp"),o}return r}(r.View);e.Plaintext=l}),require.register("control/html.tmp.html",function(e,t,n){n.exports='<div class = "html-control main-content">\n\t<iframe\n\t\tclass = "inset white"\n\t\tsrcdoc = "[[srcdoc]]"></iframe>\n</div>\n'}),require.register("control/image.tmp.html",function(e,t,n){n.exports='<div class = "image-control main-content">\n\t<img class = "inset white padded" cv-attr = "src:src" />\n</div>\n\n'}),require.register("control/json.tmp.html",function(e,t,n){n.exports='<div class = "json-view [[topLevel]]"> <span cv-on = "click:expand(event)" cv-bind = "expandIcon"></span> {\n\t<div class = "[[expanded]]">\n\t\t<div class = "json-view-body" cv-each = "json:value:key">\n\t\t\t<div data-type = [[value|type]]>\n\t\t\t\t<span class ="json-key" cv-on = "click:expand(event, key)">\n\t\t\t\t\t<span>[[key]]</span>:\n\t\t\t\t</span>\n\t\t\t\t<span class ="json-value">\n\t\t\t\t\t[[value]]\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t}\n</div>\n'}),require.register("control/plaintext.tmp.html",function(e,t,n){n.exports='<pre class = "plaintext-control white inset main-content">[[content]]</pre>\n'}),require.register("desktop/Desktop.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Desktop=void 0;var r=t("curvature/base/Bag"),i=t("curvature/base/View"),o=t("../icon/Icon");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(i,e);var n=l(i);function i(e){var a;return function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(a=n.call(this,e)).template=t("./desktop.tmp"),a.args.icons=[new o.Icon({action:"/apps/icon-explorer",name:"Icon Explorer",icon:"shell_window4",path:"w98",bits:8}),new o.Icon({action:"/apps/repo-browser",name:"Repo Browser",icon:73}),new o.Icon({action:"/apps/nynepad",name:"Nynepad",icon:60}),new o.Icon({action:"/apps/nynemark",name:"Nynemark",icon:60}),new o.Icon({action:"/apps/window",name:"Application Window",icon:3}),new o.Icon({action:"/apps/task-manager",name:"Task Manager",icon:61}),new o.Icon({action:"/apps/php",name:"PHP",icon:"php",path:"apps",bits:24}),new o.Icon({action:"/apps/npm-unpkgr",name:"npm-unpkgr",icon:"npm",path:"apps",bits:24}),new o.Icon({action:"/apps/github",name:"GitHub",icon:"github",path:"apps",bits:1}),new o.Icon({action:"/apps/clippy",name:"Summon the Devil",icon:"doom-eye",path:"apps",bits:24})],a.windows=new r.Bag(function(e,t,n,r){}),a.args.windows=a.windows.list,a}return i}(i.View);e.Desktop=c}),require.register("desktop/desktop.tmp.html",function(e,t,n){n.exports='<div data-role = "icon-list" cv-each = "icons:icon:i">[[icon]]</div>\n'}),require.register("home/Home.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Home=void 0;var r=t("curvature/base/Bag"),i=t("curvature/base/View"),o=t("desktop/Desktop"),a=(t("window/Window"),t("task/TaskBar")),s=t("task/Task"),l=t("apps/iconExplorer/IconExplorer"),u=t("apps/taskManager/TaskManager"),c=t("apps/repoBrowser/RepoBrowser"),f=t("apps/phpEditor/PhpEditor"),d=t("apps/nynemark/Nynemark"),h=t("apps/nynepad/Nynepad"),p=t("apps/clippy/Clippy"),m=t("apps/gitHub/GitHub"),g=t("apps/npmUnpkgr/NpmUnpkgr");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?k(e):t}(this,n)}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(i,e);var n=x(i);function i(e){var s;!function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(s=n.call(this,e)).template=t("./home.tmp"),s.open={x:80,y:50},s.args.desktop=new o.Desktop({},k(s)),s.windows=new r.Bag(function(e,t,n){n===r.Bag.ITEM_ADDED&&(e.windows=s.windows,e.pos.x=s.open.x,e.pos.y=s.open.y,s.open.x+=50,s.open.y+=80,s.open.x%=window.innerWidth,s.open.y%=window.innerHeight-128)}),s.tasks=new r.Bag;var l=new a.TaskBar({tasks:s.tasks.list});return s.args.windows=s.windows.list,s.args.tasks=s.tasks.list,s.args.taskBar=l,s}return b(i,null,[{key:"instance",value:function(){return this.singleton?this.singleton:this.singleton=new this}}]),b(i,[{key:"run",value:function(e){var t=i.path[e]||!1;if(!t)return alert("".concat(e,": Bad command or filename.")),!1;var n=new t(this.tasks);this.tasks.add(n),this.onTimeout(250,function(){n.signal(new CustomEvent("start"))})}}]),i}(i.View);e.Home=E,_(E,"singleton",!1),_(E,"path",{"/apps/icon-explorer":l.IconExplorer,"/apps/task-manager":u.TaskManager,"/apps/nynepad":h.Nynepad,"/apps/nynemark":d.Nynemark,"/apps/repo-browser":c.RepoBrowser,"/apps/window":s.Task,"/apps/php":f.PhpEditor,"/apps/github":m.GitHub,"/apps/npm-unpkgr":g.NpmUnpkgr,"/apps/clippy":p.Clippy})}),require.register("home/home.tmp.html",function(e,t,n){n.exports='<div class = "viewport">\n\t<div data-role = "window-host" cv-each = "windows:window:w">[[window]]</div>\n\t<div class = "desktop">[[desktop]]</div>\n</div>\n\n[[taskBar]]\n\n\x3c!-- <ul class = "task-list" cv-each = "tasks:task:t">\n\t<li>[[task.x]]x[[task.y]]x[[task.z]] [[task.title]]</li>\n</ul>\n --\x3e\n'}),require.register("icon/Icon.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Icon=void 0;var r=t("curvature/base/View"),i=t("../home/Home");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var n,r,u=l(c);function c(e,n){var r;return function(e,t){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),(r=u.call(this,e,n)).template=t("./icon.tmp"),r.resource=e.action||!1,r.action=e.action||!1,r.args.name=e.name||"",r.args.path=e.path||"w95",r.args.size=e.size||"32",r.args.bits=e.bits||"4",r.args.icon=e.icon||"3",r.args.bindTo(function(e,t){if(void 0!==["path","size","bits","icon"].find(function(e){return e===t})){var n="/".concat(r.args.path,"/").concat(r.args.icon,"-").concat(r.args.size,"-").concat(r.args.bits,"bit.png");r.args.src=n}},{idle:1}),r}return n=c,(r=[{key:"dblclick",value:function(e){var t=i.Home.instance();switch(o(this.action)){case"string":t.run(this.action);break;case"function":this.action(e)}}}])&&a(n.prototype,r),c}(r.View);e.Icon=c}),require.register("icon/icon.tmp.html",function(e,t,n){n.exports='<div cv-on = ":dblclick(event):c" tabindex="0">\n\t<img cv-attr = "src:src" />\n\t<label>[[name]]</label>\n</div>\n'}),require.register("initialize.js",function(e,t,n){"use strict";var r=t("home/Home"),i=t("window/Window");document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("body");e&&(r.Home.instance().render(e),new i.Window({content:"Window #0."}))})}),require.register("mixin/CssSwitch.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CssSwitch=void 0;var r=t("curvature/base/Mixin"),i=t("curvature/base//Bindable");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,e);var t,n,r=l(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"after__constructor",value:function(){var e=this;this.classes=i.Bindable.makeBindable({}),this.classes.bindTo(function(t,n){return e.args.classes=Object.assign({},e.classes)},{frame:1})}}])&&a(t.prototype,n),o}(r.Mixin);e.CssSwitch=c}),require.register("mixin/Sealed.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sealed=void 0;var r=t("curvature/base/Mixin");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t("curvature/base//Bindable"),Symbol("priv");var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(i,e);var t,n,r=s(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"before__constructor",value:function(){Object.seal(this)}}])&&o(t.prototype,n),i}(r.Mixin);e.Sealed=c}),require.register("mixin/Target.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Target=void 0;var r=t("curvature/base/Mixin");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t("curvature/base//Bindable");var c=Symbol("target"),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(i,e);var t,n,r=s(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"after__constructor",value:function(){try{this[c]=new EventTarget}catch(e){this[c]=document.createDocumentFragment()}}},{key:"dispatchEvent",value:function(){var e;(e=this[c]).dispatchEvent.apply(e,arguments)}},{key:"addEventListener",value:function(){var e;(e=this[c]).addEventListener.apply(e,arguments)}},{key:"removeEventListener",value:function(){var e;(e=this[c]).removeEventListener.apply(e,arguments)}}])&&o(t.prototype,n),i}(r.Mixin);e.Target=f}),require.register("mixin/ViewProcessor.js",function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ViewProcessor=void 0;var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(l,e);var t,n,s=a(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),s.apply(this,arguments)}return t=l,(n=[{key:"join",value:function(e){return Array.isArray(e)||"object"===r(e)?Array.isArray(e)||"object"!==r(e)||(e=Object.keys(e).filter(function(t){return e[t]})):e=[e],e.join(" ")}},{key:"_count",value:function(e){return console.log(e),Array.isArray(e)||"object"===r(e)?Array.isArray(e)||"object"!==r(e)||(e=Object.keys(e).filter(function(t){return e[t]})):e=[e],e.length||0}}])&&i(t.prototype,n),l}(t("curvature/base/Mixin").Mixin);e.ViewProcessor=u}),require.register("task/Task.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Task=void 0;var r=t("../home/Home"),i=(t("../mixin/Sealed"),t("../window/Window"));function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t("curvature/base/Bindable"),t("../mixin/Target");var s=0,l=Symbol("accept"),u=Symbol("reject"),c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"title","Generic Task"),a(this,"icon","/w95/3-16-4bit.png"),a(this,"silent",!1),a(this,"failure",!1),a(this,"thread",new Promise(function(e,t){n[l]=e,n[u]=t})),this.id=s++,console.log("Thread initialized."),this.thread.finally(function(){return console.log("Thread closed.")}),this.window=new i.Window(this),this.silent||(this.window.addEventListener("closed",function(e){n.signal(e),t.remove(n)}),this.window.addEventListener("attached",function(e){n.signal(e),n.attached()}),r.Home.instance().windows.add(this.window),this.window.focus());var o=this.execute();return o instanceof Promise||(o=Promise.resolve(o)),o.then(function(e){return n[l](e)}).catch(function(e){return n[u](e)}),this}var t,n;return t=e,(n=[{key:"print",value:function(e){console.log(error)}},{key:"error",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){console.error(error)})},{key:"signal",value:function(e){switch(e.type){case"closed":this.failure?this[u]():this[l]();break;case"kill":this[u]()}}},{key:"execute",value:function(){return new Promise(function(){console.log("Thread continued.")})}},{key:"attached",value:function(){}}])&&o(t.prototype,n),e}();e.Task=c}),require.register("task/TaskBar.js",function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TaskBar=void 0;var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(l,t("curvature/base/View").View);var n,r,s=a(l);function l(e,n){var r;return function(e,t){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this),(r=s.call(this,e,n)).template=t("./taskBar.tmp"),r.args.tasks.bindTo(function(e,t,n){r.args.taskCount=Object.values(n).length},{frame:1}),r}return n=l,(r=[{key:"attached",value:function(){var e=this;this.onFrame(function(){var t=new Date;e.args.hh=String(t.getHours()).padStart(2,0),e.args.mm=String(t.getMinutes()).padStart(2,0),e.args.ss=String(t.getSeconds()).padStart(2,0)})}},{key:"activate",value:function(e,t){t.window&&(t.window.focus(),t.window.classes.minimized&&t.window.restore())}},{key:"doubleTap",value:function(e,t){t.window.classes.minimized||t.window.classes.maximized?t.window.restore():t.window.maximize()}}])&&i(n.prototype,r),l}();e.TaskBar=u}),require.register("task/taskBar.tmp.html",function(e,t,n){n.exports='<div class = "task-bar pane">\n\t<div class = "start">\n\t\t<button>\n\t\t\t<img class = "icon16" src = "/w98/windows-16-4bit.png" />\n\t\t\t<div>Start</div>\n\t\t</button>\n\t\t<div class = "pane">\n\t\t\t<div class = "brand-stripe">\n\t\t\t\t<img src = "/nynex95-logo.svg">\n\t\t\t</div>\n\t\t\t<ul>\n\t\t\t\t<li tabindex = "0">\n\t\t\t\t\t<img src = "/w95/20-32-4bit.png" />\n\t\t\t\t\t<label tabindex = "0">Programs</label>\n\t\t\t\t\t<img class = "expand" src = "/arrow-expand.png" />\n\n\t\t\t\t\t<ul class = "pane">\n\n\t\t\t\t\t\t<li tabindex = "0">\n\t\t\t\t\t\t\tAccessories\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li tabindex = "0">\n\t\t\t\t\t\t\tGames\n\t\t\t\t\t\t\t<ul class = "pane">\n\t\t\t\t\t\t\t\t<li tabindex = "0">Foo</li>\n\t\t\t\t\t\t\t\t<li tabindex = "0">Bar</li>\n\t\t\t\t\t\t\t\t<li tabindex = "0">Baz</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li tabindex = "0">\n\t\t\t\t\t\t\tStartup\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t</ul>\n\n\t\t\t\t</li>\n\t\t\t\t<li tabindex = "0">\n\t\t\t\t\t<img src = "/w95/21-32-4bit.png" />\n\t\t\t\t\tDocuments\n\t\t\t\t</li>\n\t\t\t\t<li tabindex = "0">\n\t\t\t\t\t<img src = "/w95/22-32-4bit.png" />\n\t\t\t\t\tSettings\n\t\t\t\t</li>\n\t\t\t\t<li tabindex = "0">\n\t\t\t\t\t<img src = "/w95/23-32-4bit.png" />\n\t\t\t\t\tFind\n\t\t\t\t</li>\n\t\t\t\t<li tabindex = "0">\n\t\t\t\t\t<img src = "/w95/24-32-4bit.png" />\n\t\t\t\t\tHelp\n\t\t\t\t</li>\n\t\t\t\t<li tabindex = "0">\n\t\t\t\t\t<img src = "/w95/25-32-4bit.png" />\n\t\t\t\t\tRun...\n\t\t\t\t</li>\n\t\t\t\t<hr />\n\n\t\t\t\t<li tabindex = "0">\n\t\t\t\t\t<img src = "/w95/28-32-4bit.png" />\n\t\t\t\t\tShutdown...\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\n\t<div class = "quickstart">\n\t</div>\n\n\t<div class = "task-list" data-count = "[[taskCount]]" cv-each = "tasks:task:t">\n\t\t<button cv-on = "click:activate(event,task);dblclick:doubleTap(event,task);">\n\t\t\t<img class = "icon16" cv-attr = "src:task.icon" />\n\t\t\t[[task.title]]\n\t\t</button>\n\t</div>\n\n\t<div class = "spacer">\n\t</div>\n\n\t<div class = "tray inset">\n\t\t[[hh]]:[[mm]]:[[ss]]\n\t</div>\n</div>\n'}),require.register("window/MenuBar.js",function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MenuBar=void 0;var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(r,t("curvature/base/View").View);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}(r);function r(e,i){var o;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),(o=n.call(this,e,i)).template=t("./menuBar.tmp"),o}return r}();e.MenuBar=s}),require.register("window/TitleBar.js",function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TitleBar=void 0;var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(r,t("curvature/base/View").View);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}(r);function r(e,i){var o;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),(o=n.call(this,e,i)).template=t("./titleBar.tmp"),o}return r}();e.TitleBar=s}),require.register("window/Window.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Window=void 0;var r,i,o=t("curvature/base/View"),a=t("curvature/base/Bindable"),s=(t("./MenuBar"),t("./TitleBar")),l=t("../mixin/Target"),u=t("../mixin/CssSwitch"),c=t("../mixin/ViewProcessor");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?g(e):t}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t("../icon/Icon");var y,b,w=(i=r=function(e){p(o,e);var n,r,i=m(o);function o(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,o),(e=i.call(this,n)).args.classes=["pane","resize"],e.args.preview="/w95/1-16-4bit.png",e.pos=a.Bindable.make({x:160,y:100,z:0}),e.args.icon=n.icon||"/w95/3-16-4bit.png",e.args.title=e.args.title||"Application Window",e.args.progr=0,e.template=t("./window.tmp"),e.args.wid=e.constructor.idInc++,e.args.titleBar=new s.TitleBar(e.args,g(e)),e}return n=o,(r=[{key:"postRender",value:function(){var e=this,t=this.tags.window.element;this.pos.bindTo("x",function(n,r){t.style.left="".concat(n,"px"),e.args.x=n}),this.pos.bindTo("y",function(n,r){t.style.top="".concat(n,"px"),e.args.y=n}),this.pos.bindTo("z",function(n,r){t.style.zIndex=n,e.args.z=n})}},{key:"attached",value:function(e){this.classes.resize=!0,this.classes.pane=!0,this.dispatchEvent(new CustomEvent("attached",{detail:{target:this}}))}},{key:"menuFocus",value:function(){this.classes["menu-open"]=!0}},{key:"menuBlur",value:function(){this.classes["menu-open"]=!1}},{key:"minimize",value:function(){this.dispatchEvent(new CustomEvent("minimizing",{detail:{target:this}}))||(this.classes.minimized=!0,this.classes.maximized=!1,this.dispatchEvent(new CustomEvent("minimized",{detail:{target:this}})),this.pause(!0))}},{key:"restore",value:function(){this.dispatchEvent(new CustomEvent("restoring",{detail:{target:this}}))||(this.classes.minimized=!1,this.classes.maximized=!1,this.dispatchEvent(new CustomEvent("restored",{detail:{target:this}})),this.pause(!1))}},{key:"maximize",value:function(){this.dispatchEvent(new CustomEvent("maximizing",{detail:{target:this}}))||(this.classes.minimized=!1,this.classes.maximized=!0,this.dispatchEvent(new CustomEvent("maximized",{detail:{target:this}})),this.pause(!1))}},{key:"close",value:function(){this.dispatchEvent(new CustomEvent("closing",{detail:{target:this}}))||(this.windows.remove(this),this.dispatchEvent(new CustomEvent("closed",{detail:{target:this}})))}},{key:"focus",value:function(){if(!this.dispatchEvent(new CustomEvent("focusing",{detail:{target:this}}))){var e=this.pos.z,t=this.windows.items();for(var n in t)t[n].pos.z>e&&(t[n].pos.z--,t[n].classes.focused=!1);this.pos.z=t.length,this.classes.focused=!0,this.dispatchEvent(new CustomEvent("focused",{detail:{target:this}}))}}},{key:"doubleClickTitle",value:function(e){this.classes.maximized||this.classes.minimized?this.restore():this.maximize()}},{key:"grabTitleBar",value:function(e){var t=this,n={x:this.pos.x,y:this.pos.y},r=e.clientX,i=e.clientY,o=function(e){t.classes.maximized&&(t.classes.maximized=!1,n.y=0);var o=e.clientX,a=e.clientY,s=o-r,l=a-i;t.pos.x=n.x+s,t.pos.y=n.y+l},a={once:!0},s=function e(n){t.pos.y<0&&(t.pos.y=0),t.pos.x<0&&(t.pos.x=0),document.removeEventListener("mousemove",o),document.removeEventListener("touchmove",o),document.removeEventListener("mouseup",e,a),document.removeEventListener("touchend",e,a)};document.addEventListener("touchmove",o),document.addEventListener("mousemove",o),document.addEventListener("mouseup",s,a),document.addEventListener("touchend",s,a)}}])&&h(n.prototype,r),o}(o.View),0,(b="idInc")in(y=r)?Object.defineProperty(y,b,{value:0,enumerable:!0,configurable:!0,writable:!0}):y[b]=0,i);w=l.Target.mix(w),w=u.CssSwitch.mix(w);var x=function(e){p(n,w=c.ViewProcessor.mix(w));var t=m(n);function n(){return d(this,n),t.apply(this,arguments)}return n}();e.Window=x}),require.register("window/menuBar.tmp.html",function(e,t,n){n.exports='<div class = "menu-bar" cv-on = "blur:menuBlur(event):c;focus:menuFocus(event):c">\n\n  <div tabindex = "0">\n\n    <u>F</u>ile\n\n    <ul class = "pane">\n\n      <li tabindex = "0">\n        <u>N</u>ew\n      </li>\n\n      <li tabindex = "0">\n        <u>O</u>pen\n      </li>\n\n      <li tabindex = "0">\n        Open <u>R</u>ecent\n\n        <ul class = "pane">\n          <li tabindex = "0">Foo</li>\n          <li tabindex = "0">Bar</li>\n          <li tabindex = "0">Baz</li>\n        </ul>\n\n      </li>\n\n      <hr />\n\n      <li tabindex = "0">\n        <u>P</u>lugins\n\n        <ul class = "pane">\n          <li tabindex = "0">\n            Foo\n            <ul class = "pane">\n              <li tabindex = "0">Settings</li>\n              <hr />\n              <li tabindex = "0">Start</li>\n              <li tabindex = "0">Stop</li>\n              <li tabindex = "0">Restart</li>\n            </ul>\n          </li>\n          <li tabindex = "0">\n            Bar\n            <ul class = "pane">\n              <li tabindex = "0">Settings</li>\n              <hr />\n              <li tabindex = "0">Start</li>\n              <li tabindex = "0">Stop</li>\n              <li tabindex = "0">Restart</li>\n            </ul>\n          </li>\n          <li tabindex = "0">\n            Baz\n            <ul class = "pane">\n              <li tabindex = "0">Settings</li>\n              <hr />\n              <li tabindex = "0">Start</li>\n              <li tabindex = "0">Stop</li>\n              <li tabindex = "0">Restart</li>\n            </ul>\n          </li>\n        </ul>\n\n      </li>\n\n      <hr />\n\n      <li tabindex = "0">Save</li>\n      <li tabindex = "0">Save As</li>\n\n      <hr />\n\n      <li tabindex = "0">Close</li>\n      <li tabindex = "0">Quit</li>\n\n    </ul>\n\n  </div>\n\n  <div tabindex = "0">\n\n    <u>E</u>dit\n\n     <ul class = "pane">\n      <li tabindex = "0">Undo</li>\n      <li tabindex = "0">Redo</li>\n      <hr />\n      <li tabindex = "0">Cut</li>\n      <li tabindex = "0">Copy</li>\n      <li tabindex = "0">Paste</li>\n      <li tabindex = "0">Delete</li>\n      <hr />\n      <li tabindex = "0">Find</li>\n      <li tabindex = "0">Replace</li>\n    </ul>\n\n  </div>\n\n  <div tabindex = "0">\n    <u>V</u>iew\n  </div>\n\n  <div tabindex = "0">\n    <u>G</u>o\n  </div>\n\n  <div tabindex = "0">\n    F<u>a</u>vorites\n  </div>\n\n  <div tabindex = "0">\n    <u>H</u>elp\n  </div>\n</div>\n'}),require.register("window/titleBar.tmp.html",function(e,t,n){n.exports='<div class = "title-bar" cv-on = "mousedown:grabTitleBar(event);dblclick:doubleClickTitle(event);">\n\t<img cv-attr = "src:icon" />\n\t<span class = "title" cv-bind = "title"></span>\n\t<span>\n\t\t<button tabindex = "-1" class = "minimize" cv-on = "click:minimize(event)"></button>\n\t\t<button tabindex = "-1" class = "restore" cv-on = "click:restore(event)"></button>\n\t\t<button tabindex = "-1" class = "maximize" cv-on = "click:maximize(event)"></button>\n\t\t<button tabindex = "-1" class = "close" cv-on = "click:close(event)"></button>\n\t</span>\n</div>\n'}),require.register("window/window.tmp.html",function(e,t,n){n.exports='<div\n\ttabindex = "-1"\n\tclass    = "window [[classes|join]]"\n\tcv-on    = "mousedown:focus(event):c;touchstart:focus(event):c"\n\tcv-ref   = "window::">\n\t[[titleBar]]\n\t[[menuBar]]\n\t<div class = "frame liquid">\n\t\t[[$$template]]\n\t</div>\n</div>\n'}),require.register("___globals___",function(e,t,n){})}(),require("___globals___");
